!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e){e.exports=JSON.parse('{"textHelp":{"help1":"Maps and cartography from the National Geographic Institute and the National Cartographic System used as background layers.","help2":"Shows a series of preconfigured layers. These are WMTS services that have great visualization performance and are available as a base layer for the entire national territory.","help3":"Map. Raster Map Service of the National Cartographic System (Map of Spain (ME) 1: 2,000,000, ME 1: 1,250,000, ME500 1: 500,000, Provincial Map 1: 200,000 (MP200), Topographic Map National 1: 50,000 (MTN50), MTN25 1: 25,000).","help4":"Image. Maximum current PNOA Orthophotos Service of the National Cartographic System (Sentinel 2, PNOA Ortophotos).","help5":"Street. Base Map Service of the National Cartographic System (Cartociudad Street).","help6":"Hybrid. Combination of the maximum current Orthophoto Service of the PNOA and Base Map Service of the National Cartographic System.","help7":"LiDAR. (Relief) LiDAR Service of the National Cartographic System.","help8":"Land occupation. Land occupation service of the National Cartographic System (SIOSE).","help9":"Historical Maps Cartography corresponding to the first editions of the National Topographic Map scale 1: 50,000","help10":"The active layer is shown with a dark blue box. To leave the map area without any background layer, click on the active layer, which will stop the dark blue box from showing and the layer in the map. You can also use the \'None\' option.","help11":"It is only possible to view a single layer at a time. If you want to combine more than one of these layers, it must be loaded from the Layers tool, adding the URL of the service or selecting it among the preconfigured layers (a section has been provided for this purpose with the name \'Background Layers\'). You can consult the URLs for these services, and others, on the IDEE web portal in the section","help12":"Service Directory."},"tooltip":"Background layers","none":"None"}')},function(e){e.exports=JSON.parse('{"textHelp":{"help1":"Mapas y cartografía del Instituto Geográfico Nacional y el Sistema Cartográfico Nacional utilizadas como capas de fondo.","help2":"Muestra una serie de capas preconfiguradas. Se trata de servicios WMTS que tienen un gran rendimiento en la visualización y que están disponibles como capa base para todo el territorio nacional.","help3":"Mapa. Servicio Mapa Ráster del Sistema Cartográfico Nacional (Mapa de España(ME) 1: 2.000.000, ME 1: 1.250.000, ME500 1: 500.000, Mapa Provincial 1: 200.000 (MP200), Mapa Topográfico Nacional 1: 50.000 (MTN50), MTN25 1: 25.000).","help4":"Imagen. Servicio Ortofotos máxima actualidad PNOA del Sistema Cartográfico Nacional (Sentinel 2, Ortofotos PNOA).","help5":"Callejero. Servicio Mapa Base del Sistema Cartográfico Nacional (Callejero Cartociudad).","help6":"Híbrido. Combinación Servicio Ortofotos máxima actualidad del PNOA y Servicio Mapa Base del Sistema Cartográfico Nacional.","help7":"LiDAR. (Relieve) Servicio LiDAR del Sistema Cartográfico Nacional.","help8":"Ocupación del suelo. Servicio Ocupación del suelo del Sistema Cartográfico Nacional (SIOSE).","help9":"Mapas Históricos Cartografía correspondiente a las primeras ediciones del Mapa Topográfico Nacional escala 1: 50.000","help10":"La capa activa se muestra con un recuadro azul oscuro. Para dejar la zona de mapa sin ninguna capa de fondo haga clic sobre la capa activa, lo que hará que deje de mostrarse el recuadro azul oscuro y la capa en el mapa. También puede utiliza la opción \'Ninguna\'.","help11":"Sólo es posible visualizar una única capa a la vez. Si quiere combinar más de una de estas capas, debe cargarse desde la herramienta Capas, añadiendo la URL del servicio o seleccionándola entre las capas preconfiguradas (se ha dispuesto un apartado a tal efecto con el nombre \'Capas de Fondo\'). Puede consultar las URL para estos servicios, y otras más, en el portal web de la IDEE en el apartado","help12":"Directorio de Servicios."},"tooltip":"Capas de fondo","none":"Ninguna"}')},function(e){e.exports=JSON.parse('{"url":{"name":"backimglayer","separator":"*!"},"constructor":"M.plugin.BackImgLayer","parameters":[{"type":"object","properties":[{"type":"simple","name":"position","position":0,"possibleValues":["TL","TR","BR","BL"]},{"type":"boolean","name":"collapsed","position":1},{"type":"boolean","name":"collapsible","position":2},{"type":"simple","name":"tooltip","position":3},{"type":"boolean","name":"layerVisibility","position":4},{"type":"number","name":"layerId","position":5},{"type":"number","name":"columnsNumber","position":6},{"type":"boolean","name":"empty","position":7},{"type":"simple","name":"ids","position":8},{"type":"simple","name":"titles","position":9},{"type":"simple","name":"previews","position":10},{"type":"simple","name":"layers","position":11}]}],"files":{"ol":{"scripts":["backimglayer.ol.min.js"],"styles":["backimglayer.ol.min.css"]}},"metadata":{"name":"backimglayer","description":"Sets background layer","text":"Shows different options for background layer as clickable images and changes background layer on click on an option.","version":"1.1.0","date":"3rd September 2019","author":"CNIG","org":"CNIG","tags":"mapea,plugin","icon":"./facade/assets/icons/icons.svg"}}')},function(e,t,n){e.exports='<div>\n   <h2 style="text-align: center; color: #fff; background-color: #364b5f; padding: 8px 10px;">BACKIMGLAYER <img style="vertical-align: bottom; filter: invert(100%);" src="'+n(6)+'" width="30" height="30"></h2>\n   <div>\n      <p>{{translations.help1}}</p>\n      <img src="{{urlImages}}/view.png" style="max-width:70%; margin: 0 auto; display: block">\n      <p>{{translations.help2}}</p>\n      <ul>\n         <li>{{translations.help3}}</li>\n         <li>{{translations.help4}}</li>\n         <li>{{translations.help5}}</li>\n         <li>{{translations.help6}}</li>\n         <li>{{translations.help7}}</li>\n         <li>{{translations.help8}}</li>\n         <li>{{translations.help9}}</li>\n      </ul>\n      <p>{{translations.help10}}</p>\n      <p>{{translations.help11}} <a tabindex="0" href="https://www.idee.es/web/guest/directorio-de-servicios" target="_blank">{{translations.help12}}</a></p>\n   </div>\n</div>\n\n'},function(e,t){e.exports='<div id="div-contenedor" class="m-control m-container m-backimglayer">\n\n    <div role="heading" tabindex="0" aria-label="{{translations.headertitle}}" id="m-backimglayer-titulo">{{translations.headertitle}}</div>\n    <div id="m-backimglayer-previews">\n        {{#each layers}}\n            {{#if this.firstElement}}\n                </br>\n            {{/if}}\n\n            <div tabindex="0" role="button" id="m-backimglayer-lyr-{{this.id}}" title="{{this.title}}">\n                <img src="{{this.preview}}" tabindex="-1" alt="{{this.title}}" height="100px" width="100px" />\n                <span aria-hidden="true" tabindex="-1">{{this.title}}</span>\n            </div>\n\n        {{/each}}\n        {{#if empty}}\n          <div  tabindex="0" role="button" id="m-backimglayer-lyr-empty" title="{{translations.none}}">\n              <div height="100px" width="100px"></div>\n              <span>{{translations.none}}</span>\n          </div>\n        {{/if}}\n        \x3c!-- <button class="m-backimglayer-unique-btn" id="m-backimglayer-unique-btn" title="Selección de capa de fondo"></button> --\x3e\n    </div>\n</div>\n'},function(e,t,n){},function(e,t){e.exports="data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjUxMiIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj4KPHRpdGxlPjwvdGl0bGU+CjxnIGlkPSJpY29tb29uLWlnbm9yZSI+CjwvZz4KPHBhdGggZmlsbD0iIzAwMCIgZD0iTTIzNy43MTQgMjkyLjU3MnYxMDkuNzE0cTAgMTQuODU3LTEwLjg1NyAyNS43MTR0LTI1LjcxNSAxMC44NTdoLTE0Ni4yODZxLTE0Ljg1NyAwLTI1LjcxNS0xMC44NTd0LTEwLjg1Ny0yNS43MTR2LTEwOS43MTRxMC0xNC44NTcgMTAuODU3LTI1LjcxNHQyNS43MTUtMTAuODU3aDE0Ni4yODZxMTQuODU3IDAgMjUuNzE0IDEwLjg1N3QxMC44NTcgMjUuNzE0ek0yMzcuNzE0IDczLjE0M3YxMDkuNzE1cTAgMTQuODU3LTEwLjg1NyAyNS43MTR0LTI1LjcxNSAxMC44NTdoLTE0Ni4yODZxLTE0Ljg1NyAwLTI1LjcxNS0xMC44NTd0LTEwLjg1Ny0yNS43MTR2LTEwOS43MTVxMC0xNC44NTcgMTAuODU3LTI1LjcxNXQyNS43MTUtMTAuODU3aDE0Ni4yODZxMTQuODU3IDAgMjUuNzE0IDEwLjg1N3QxMC44NTcgMjUuNzE1ek00OTMuNzE0IDI5Mi41NzJ2MTA5LjcxNHEwIDE0Ljg1Ny0xMC44NTcgMjUuNzE0dC0yNS43MTQgMTAuODU3aC0xNDYuMjg2cS0xNC44NTcgMC0yNS43MTQtMTAuODU3dC0xMC44NTctMjUuNzE0di0xMDkuNzE0cTAtMTQuODU3IDEwLjg1Ny0yNS43MTR0MjUuNzE0LTEwLjg1N2gxNDYuMjg2cTE0Ljg1NyAwIDI1LjcxNCAxMC44NTd0MTAuODU3IDI1LjcxNHpNNDkzLjcxNCA3My4xNDN2MTA5LjcxNXEwIDE0Ljg1Ny0xMC44NTcgMjUuNzE0dC0yNS43MTQgMTAuODU3aC0xNDYuMjg2cS0xNC44NTcgMC0yNS43MTQtMTAuODU3dC0xMC44NTctMjUuNzE0di0xMDkuNzE1cTAtMTQuODU3IDEwLjg1Ny0yNS43MTV0MjUuNzE0LTEwLjg1N2gxNDYuMjg2cTE0Ljg1NyAwIDI1LjcxNCAxMC44NTd0MTAuODU3IDI1LjcxNXoiPjwvcGF0aD4KPC9zdmc+Cg=="},function(e,t,n){"use strict";n.r(t);n(5);var i=n(2),r=n(3),o=n.n(r),a=n(4),l=n.n(a),c=n(0),s=n(1),u={en:c,es:s},p=function(){var e="es";return"function"==typeof M.language.getLang&&(e=M.language.getLang()),e},y=function(e){return"es"===e||"en"===e?u[e]:M.language.getTranslation(e).backimglayer},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p(),n=y(t),i="";return M.utils.isNullOrEmpty(n)?console.warn("The translation '".concat(t,"' has not been defined.")):i=e.split(".").reduce((function(e,t){return e[t]}),n),i};function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==d(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===d(o)?o:String(o)),i)}var r,o}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g(e);if(t){var r=g(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(o,M.Control);var t,n,i,r=v(o);function o(e){var t,n=e.map,i=e.visible,a=e.layerOpts,l=e.layerId,c=e.ids,s=e.titles,u=e.previews,p=e.layers,y=e.numColumns,f=e.empty,d=e.order;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var m,h=new M.impl.Control;if(t=r.call(this,h,"BackImgLayer"),n.getBaseLayers().forEach((function(e){e.on(M.evt.LOAD,n.removeLayers(e))})),t.layers=[],n._plugins.filter((function(e){return"backimglayer"===n._plugins[n._plugins.indexOf(e)].name})).map((function(e){return m=y})),void 0!==a){var v=a;a.filter((function(e){return 0!==a.indexOf(e)&&a.indexOf(e)%m==0})).map((function(e){var t=a.indexOf(e),n=Object.assign({},e);return n.firstElement=!0,v[t]=n,n})),t.layers=v.slice(0)}else{var b=c.split(","),g=s.split(","),N=u.split(",");p.split(",").forEach((function(e,n){var i=e.split("sumar");i=i.map((function(e){var t,n=null;return/QUICK.*/.test(e)&&(n=M.getQuickLayers(e.replace("QUICK*",""))),M.utils.isNullOrEmpty(n)?t=new M.layer.WMTS(e):"string"==typeof(t=n)&&(t=new M.layer.WMTS(t)),t}));var r={id:b[n],title:g[n],preview:N[n],layers:i};t.layers.push(r)}))}return y>t.layers.length?t.numeroColumnas=110*t.layers.length:t.numeroColumnas=110*y,t.numeroColumnas+="px",t.flattedLayers=t.layers.reduce((function(e,t){return e.concat(t.layers)}),[]),t.activeLayer=-1,t.idLayer=null===l?0:l,t.visible=i,t.empty=f,t.order=d,t}return t=o,(n=[{key:"createView",value:function(e){var t=this;return this.map=e,new Promise((function(e,n){var i=M.template.compileSync(l.a,{vars:{layers:t.layers,empty:t.empty,translations:{headertitle:f("tooltip"),none:f("none")}}});t.accessibilityTab(i),t.html=i,t.listen(i),t.on(M.evt.ADDED_TO_MAP,(function(){var e=t.visible;t.idLayer>-1&&(t.activeLayer=t.idLayer,t.showBaseLayer({currentTarget:{parentElement:i}},t.layers[t.activeLayer],t.activeLayer)),!1===e&&(t.map.removeLayers(t.map.getBaseLayers()),t.html.querySelector(".activeBackimglayerDiv").classList.remove("activeBackimglayerDiv"))})),e(i)}))}},{key:"showEmptyLayer",value:function(e){var t=e.querySelector("#m-backimglayer-previews div.activeBackimglayerDiv");null!==t&&t.click()}},{key:"showBaseLayer",value:function(e,t,n){this.removeLayers(),this.visible=!1;var i=t.layers,r=e.currentTarget.parentElement.querySelector("#m-backimglayer-lyr-".concat(t.id)).classList.contains("activeBackimglayerDiv");i.forEach((function(e,t,n){var i=t;0!==t&&(i+=16),e.zindex_&&e.setZIndex(i)})),e.currentTarget.parentElement.querySelectorAll('div[id^="m-backimglayer-lyr-"]').forEach((function(e){e.classList.contains("activeBackimglayerDiv")&&e.classList.remove("activeBackimglayerDiv")})),r||(this.visible=!0,this.activeLayer=n,e.currentTarget.parentElement.querySelector("#m-backimglayer-lyr-".concat(t.id)).classList.add("activeBackimglayerDiv"),this.map.addLayers(i)),this.fire("backimglayer:activeChanges",[{activeLayerId:this.activeLayer}])}},{key:"removeLayers",value:function(){try{this.map.removeLayers(this.flattedLayers)}catch(e){}try{this.map.removeLayers(this.map.getBaseLayers())}catch(e){}}},{key:"listen",value:function(e){var t=this;e.querySelector("#m-backimglayer-previews").style.width=this.numeroColumnas,e.querySelectorAll('div[id^="m-backimglayer-lyr-"]').forEach((function(n,i){"m-backimglayer-lyr-empty"===n.id?(n.addEventListener("click",t.showEmptyLayer.bind(t,e)),n.addEventListener("keydown",(function(n){"Enter"===n.key&&t.showEmptyLayer(e)}))):(n.addEventListener("click",(function(e){return t.showBaseLayer(e,t.layers[i],i)})),n.addEventListener("keydown",(function(e){"Enter"===e.key&&t.showBaseLayer(e,t.layers[i],i)})))}))}},{key:"equals",value:function(e){return e instanceof o}},{key:"accessibilityTab",value:function(e){var t=this;e.querySelectorAll('[tabindex="0"]').forEach((function(e){return e.setAttribute("tabindex",t.order)}))}}])&&m(t.prototype,n),i&&m(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==w(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===w(o)?o:String(o)),i)}var r,o}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=j(e);if(t){var r=j(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(l,M.Plugin);var t,n,r,a=O(l);function l(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return S(this,l),(e=a.call(this)).map_=null,e.controls_=[],e.name="backimglayer",e.options=t,e.position_=t.position||"TR",e.layerId=t.layerId||0,e.layerVisibility=!!t.layerVisibility,e.layerOpts=t.layerOpts,e.ids=t.ids||"wmts",e.titles=t.titles||"IGNBaseTodo",e.previews=t.previews||"https://componentes.cnig.es/api-core/plugins/backimglayer/images/svqmapa.png",e.layers=t.layers||"QUICK*BASE_MapaBase_IGNBaseTodo_WMTS",e.collapsed=void 0===t.collapsed||t.collapsed,e.collapsible=void 0===t.collapsible||t.collapsible,e.empty=void 0!==t.empty&&t.empty,e.columnsNumber=null!=t.columnsNumber?t.columnsNumber:2,e.metadata_=i.metadata,e.tooltip_=t.tooltip||f("tooltip"),e.order=t.order>=-1?t.order:null,e.visible=void 0===t.visible||t.visible,e}return t=l,r=[{key:"getJSONTranslations",value:function(e){return"en"===e||"es"===e?"en"===e?c:s:M.language.getTranslation(e).backimglayer}}],(n=[{key:"addTo",value:function(e){var t=this;this.controls_.push(new N({map:e,visible:this.visible,layerOpts:this.layerOpts,layerId:this.layerId,layerVisibility:this.layerVisibility,ids:this.ids,titles:this.titles,previews:this.previews,layers:this.layers,numColumns:this.columnsNumber,empty:this.empty,order:this.order})),this.map_=e,this.panel_=new M.ui.Panel("BackImgLayer",{collapsible:this.collapsible,collapsed:this.collapsed,position:M.ui.position[this.position_],className:"m-plugin-backimglayer",tooltip:this.tooltip_,collapsedButtonClass:"backimglyr-simbolo-cuadros",order:this.order}),this.controls_[0].on("backimglayer:activeChanges",(function(e){t.layerId=e.activeLayerId})),this.panel_.addControls(this.controls_),e.addPanels(this.panel_)}},{key:"getAPIRest",value:function(){var e=void 0===this.layerOpts?"".concat(this.ids,"*!").concat(this.titles,"*!").concat(this.previews,"*!").concat(this.layers):this.turnLayerOptsIntoUrl();return"".concat(this.name,"=").concat(this.position_,"*!").concat(this.collapsed,"*!").concat(this.collapsible,"*!").concat(this.tooltip_,"*!").concat(this.layerVisibility,"*!").concat(this.layerId,"*!").concat(this.columnsNumber,"*!").concat(this.empty,"*!").concat(e)}},{key:"getAPIRestBase64",value:function(){return"".concat(this.name,"=base64=").concat(M.utils.encodeBase64(this.options))}},{key:"turnLayerOptsIntoUrl",value:function(){var e=this,t="",n="",i="",r="";return this.layerOpts.forEach((function(o){0!==e.layerOpts.indexOf(o)&&(t+=",",n+=",",i+=",",r+=","),t+=o.id,n+=o.title,i+=o.preview,o.layers.forEach((function(e){var t=0===o.layers.indexOf(e),n=void 0===e.options.visibility||e.options.visibility;t||(r+="sumar"),Object.keys(e.options).length>0?(r+="".concat(e.options.type),r+="*".concat(e.options.url),r+="*".concat(e.options.name),r+="*".concat(e.options.matrixSet),r+="*".concat(e.options.legend),r+="*".concat(e.options.transparent),r+="*".concat(e.options.format),r+="*".concat(e.options.displayInLayerSwitcher),r+="*".concat(e.options.queryable),r+="*".concat(n)):(r+="".concat(e.type),r+="*".concat(e.name),r+="*".concat(e.url),r+="*".concat(e.isVisible()),r+="*".concat(e.transparent),r+="*".concat(e.tileGridMaxZoom))}))})),"".concat(t,"*!").concat(n,"*!").concat(i,"*!").concat(r)}},{key:"destroy",value:function(){this.map_.removeControls(this.controls_),this.map_=null,this.control_=null,this.controls_=null,this.panel_=null,this.name=null,this.layerOpts=null}},{key:"equals",value:function(e){return e instanceof l}},{key:"getMetadata",value:function(){return this.metadata_}},{key:"changeStyleResponsive",value:function(e){e?document.querySelectorAll(".m-panel.m-plugin-backimglayer").forEach((function(e){return e.classList.add("changeStyleResponsive")})):document.querySelectorAll(".m-panel.m-plugin-backimglayer").forEach((function(e){return e.classList.remove("changeStyleResponsive")}))}},{key:"getHelp",value:function(){return{title:this.name,content:new Promise((function(e){e(M.template.compileSync(o.a,{vars:{urlImages:"".concat(M.config.MAPEA_URL,"plugins/backimglayer/images/"),translations:{help1:f("textHelp.help1"),help2:f("textHelp.help2"),help3:f("textHelp.help3"),help4:f("textHelp.help4"),help5:f("textHelp.help5"),help6:f("textHelp.help6"),help7:f("textHelp.help7"),help8:f("textHelp.help8"),help9:f("textHelp.help9"),help10:f("textHelp.help10"),help11:f("textHelp.help11"),help12:f("textHelp.help12")}}}))}))}}}])&&T(t.prototype,n),r&&T(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,o=void 0,o=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==E(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===E(o)?o:String(o)),i)}var r,o}function D(){return(D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=P(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}function P(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=B(e)););return e}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=B(e);if(t){var r=B(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return R(this,n)}}function R(e,t){if(t&&("object"===E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(o,M.impl.Control);var t,n,i,r=A(o);function o(){return C(this,o),r.apply(this,arguments)}return t=o,(n=[{key:"addTo",value:function(e,t){var n=this;e.getMapImpl().getInteractions().forEach((function(e){e instanceof ol.interaction.DoubleClickZoom&&(n.dblClickInteraction_=e)})),D(B(o.prototype),"addTo",this).call(this,e,t)}},{key:"activateClick",value:function(e){this.dblClickInteraction_.setActive(!1),e.getMapImpl().on("dblclick",(function(t){var n=new CustomEvent("mapclicked",{detail:t.coordinate,bubbles:!0});e.getContainer().dispatchEvent(n)}))}},{key:"deactivateClick",value:function(e){this.dblClickInteraction_.setActive(!0),e.getMapImpl().removeEventListener("dblclick")}}])&&I(t.prototype,n),i&&I(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}();window.M.plugin||(window.M.plugin={}),window.M.control||(window.M.control={}),window.M.impl||(window.M.impl={}),window.M.impl.control||(window.M.impl.control={}),window.M.plugin.BackImgLayer=k,window.M.control.BackImgLayerControl=N,window.M.impl.control.BackImgLayerControl=U}]);
//# sourceMappingURL=backimglayer-1.2.0.ol.min.js.map