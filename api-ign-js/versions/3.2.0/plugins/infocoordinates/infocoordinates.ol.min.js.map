{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/templates/infocoordinates.html","webpack:///./src/impl/ol/js/infocoordinatescontrol.js","webpack:///./src/facade/js/i18n/language.js","webpack:///./src/facade/js/infocoordinatescontrol.js","webpack:///./src/facade/js/infocoordinates.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","InfocoordinatesControl","M","impl","Control","map","html","this","facadeMap_","feature","SRStarget","formatGMS","decimalGEOcoord","decimalUTMcoord","zone","numPoint","getId","coordinatesFeature","getAttribute","SRSfeature","coordinatesGEOoutput","ol","proj","transform","coordinatesGEOoutputLongitude","projectionUTMCodeTarget","salida","zoneCalc","projectionUTMcodeCalc","coordinatesUTMoutput","toFixed","coordinateGGMMSS","coordinate","toStringHDMS","projectionGEO","coordinatesGEO","latitude","substr","longitude","coordinatesDEClongitude","projectionGEOcode","projectionUTMcode","coord","srcMapa","coordinatesEPSG4528","bbox","url","remote","box","code","currProj","transformExtent","dblClickInteraction_","setActive","getMapImpl","on","evt","customEvt","CustomEvent","detail","bubbles","getContainer","dispatchEvent","removeEventListener","translations","en","es","getLang","res","language","getTranslation","lang","getValue","keyPath","translation","utils","isNullOrEmpty","console","warn","split","reduce","prev","current","isUndefined","InfocoordinatesImplControl","exception","map_","numTabs","layerFeatures","layer","Vector","template","compileSync","string","options","parseToHtml","templateVars","vars","htmlText","Handlebars","compile","templateFn","stringToHtml","Promise","success","fail","jsonp","title","point","datum","formatCoordinates","coordX","coordY","altitude","removePoint","removeAllPoints","importAllPoints","displayONAllPoints","displayOFFAllPoints","addLayers","panel_","SHOW","activate","HIDE","deactivate","querySelector","addEventListener","displayAllPoints","changeSelectSRSorChangeFormat","CLICK","addPoint","document","body","style","cursor","getFeatureHandler","un","getElementById","removeAttribute","classList","remove","getElementsByClassName","length","getOverlays","array_","removeAllDisplaysPoints","tabsDiv","buttonTab","createElement","buttonTabText","createTextNode","appendChild","add","setAttribute","altitudeFromWCSservice","coordinates","featurePoint","Feature","getProjection","scrollTop","scrollHeight","altitudeBox","innerHTML","getImpl","readAltitudeFromWCSservice","then","response","undefined","text","parseFloat","openTabFromTab","addFeatures","setZIndex","openTab","olMap","facadeControl","drawingLayer","drawLayer","getOL3Layer","hideTextPoint","removeChild","downloadingTemplate","select","interaction","Select","wrapX","layers","e","target","getFeatures","getArray","onSelect","addInteraction","edit","Modify","features","onModify","Point","icon","form","NONE","class","fontsize","radius","color","fill","pointDisable","rotation","rotate","offset","opacity","stroke","width","displayPoint","replace","elemento","setStyle","getFeatureById","pos","impl_","features_","olFeature_","values_","textHTML","helpTooltipElement","helpTooltip_","Overlay","element","setPosition","addOverlay","allTabsLinks","parseInt","textContent","displayXYcoordinates","featureSelected","pointBox","latitudeBox","longitudeBox","zoneBox","selectSRS","checked","pointDataOutput","getCoordinates","NumPoint","projectionUTM","formatUTMCoordinate","coordinatesUTM","selectFeature","activateTab","displayZcoordinate","tablinkActive","parentNode","featureSelect","removeFeatures","lastTablink","lastChild","printDocument","push","toBlobType","Blob","type","f","Date","titulo","concat","getFullYear","getMonth","getDay","getHours","getMinutes","getSeconds","descargarArchivo","varUTM","calculateUTMcoordinates","Altitude","className","removeOverlay","contenidoEnBlob","nombreArchivo","reader","FileReader","onload","event","save","href","result","download","clicEvent","MouseEvent","window","URL","webkitURL","revokeObjectURL","readAsDataURL","control","removeLayers","join","Infocoordinates","Plugin","decimalGEOcoord_","decimalUTMcoord_","name_","controls_","control_","positions","position_","includes","position","metadata_","api","metadata","ui","Panel","collapsed","collapsible","collapsedButtonClass","tooltip","addControls","addPanels","removeControls","removeLayerFeatures","plugin","M$plugin$Infocoordinates","M$control$InfocoordinatesControl","M$impl$control$InfocoordinatesControl"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,G,gBClFrDhC,EAAOD,QAAU,smJ,2sHCIIkC,E,kPAA+BC,EAAEC,KAAKC,S,kHAUnDC,EAAKC,GACTC,KAAKC,WAAaH,EAGlB,yCAAYA,EAAKC,K,qCAMJG,EAASC,EAAWC,EAAWC,EAAiBC,GAkB7D,IAQIC,EARAC,EAAWN,EAAQO,QACnBC,EAAqBR,EAAQS,aAAa,eAE1CC,EAAaV,EAAQS,aAAa,YAClCE,EAAuBC,GAAGC,KAAKC,UAAUN,EAAoBE,EAAYT,GAEzEc,EAAgCJ,EAAqB,GAGrDK,EAA0B,KAE1BC,EAAS,CACX,SAAYX,EACZ,cAAiB,CACf,KAJW,KAKX,eAAkB,CAChB,UANS,KAOT,SAPS,OAUb,cAAiB,CACf,KAXW,KAYX,KAZW,KAaX,eAAkB,CAChB,OAdS,KAeT,OAfS,QAoBf,GAAIS,IAAkC,IAAMA,GAAiC,IAC3EV,EAAOP,KAAKoB,SAASH,GACJ,aAAbd,EACFe,EAA0BlB,KAAKqB,sBAAsBd,EAAM,aACrC,aAAbJ,GAA6Bc,IAAkC,IAAMA,GAAiC,EAC/GC,EAA0BlB,KAAKqB,sBAAsBd,EAAM,aACrC,aAAbJ,GAA6Bc,IAAkC,IAAMA,IAAkC,IAChHC,EAA0BlB,KAAKqB,sBAAsBd,EAAM,cAG9B,MAA3BW,GAAiC,CACnC,IAAII,EAAuBR,GAAGC,KAAKC,UAAUN,EAAoBE,EAAYM,GAqB7E,GAnBAC,EAAS,CACP,SAAYX,EACZ,cAAiB,CACf,KAAQL,EACR,eAAkB,CAChB,UAAaU,EAAqB,GAAGU,QAAQlB,GAC7C,SAAYQ,EAAqB,GAAGU,QAAQlB,KAGhD,cAAiB,CACf,KAAQa,EACR,KAAQX,EACR,eAAkB,CAChB,OAAUe,EAAqB,GAAGC,QAAQjB,GAC1C,OAAUgB,EAAqB,GAAGC,QAAQjB,MAK/B,GAAbF,EAAmB,CACrB,IAAIoB,EAAmBV,GAAGW,WAAWC,aAAab,EAAsB,GACxEM,EAAOQ,cAAcC,eAAeC,SAAWL,EAAiBM,OAAO,EAAG,IAC1EX,EAAOQ,cAAcC,eAAeG,UAAYP,EAAiBM,OAAO,KAK9E,OAAOX,I,+BAIAa,GAeP,OAbIA,EAA0B,GAAKA,GAA2B,EACrD,GACEA,IAA4B,GAAKA,GAA2B,EAC9D,GACEA,IAA4B,IAAMA,GAA2B,EAC/D,GACEA,IAA4B,IAAMA,GAA2B,GAC/D,GACEA,IAA4B,IAAMA,GAA2B,GAC/D,GAEA,O,4CAKWzB,EAAM0B,GAC1B,IAAIC,EAEJ,OAAQD,GACN,IAAK,YACHC,EAAoB,WAAa3B,EACjC,MACF,IAAK,YACH2B,EAAoB,WAAa3B,EACjC,MACF,IAAK,YACS,IAARA,EACF2B,EAAoB,YACH,IAAR3B,IACT2B,EAAoB,aAI1B,OAAOA,I,iDAGkBC,EAAOC,GAGhC,IAAIC,EAAsBvB,GAAGC,KAAKC,UAAUmB,EAAOC,EAAS,aAGxDE,EAAO,CACT,CAACD,EAAoB,GAAIA,EAAoB,IAC7C,CAACA,EAAoB,GAAK,KAAUA,EAAoB,GAAK,OAOzDE,EAAM,GAAH,OAHW,uEAGX,OAAoBD,GAApB,OAFkB,oIAI3B,OAAO3C,EAAE6C,OAAOjE,IAAIgE,K,gCAIZE,EAAKC,EAAMC,GACnB,OAAO7B,GAAGC,KAAKC,UAAUyB,EAAKC,EAAMC,K,mCAGzBF,EAAKC,EAAMC,GACtB,OAAO7B,GAAGC,KAAK6B,gBAAgBH,EAAKC,EAAMC,K,oCAG9B7C,GAEZE,KAAK6C,qBAAqBC,WAAU,GAGtBhD,EAAIiD,aACZC,GAAG,YAAY,SAACC,GAEpB,IAAMC,EAAY,IAAIC,YAAY,aAAc,CAC9CC,OAAQH,EAAIxB,WACZ4B,SAAS,IAEXvD,EAAIwD,eAAeC,cAAcL,Q,sCAIrBpD,GAEdE,KAAK6C,qBAAqBC,WAAU,GAGpChD,EAAIiD,aAAaS,oBAAoB,iB,gDCpMnCC,EAAe,CACnBC,G,KACAC,G,MAGIC,EAAU,WACd,IAAIC,EAAM,KAKV,MAJkC,mBAAvBlE,EAAEmE,SAASF,UACpBC,EAAMlE,EAAEmE,SAASF,WAGZC,GAsBIE,EAAiB,SAACC,GAC7B,OAAOP,EAAaO,IAcTC,EAAW,SAACC,GAA8B,IAArBF,EAAqB,uDAAdJ,IACjCO,EAAcJ,EAAeC,GAC/BrF,EAAQ,GAQZ,OAPIgB,EAAEyE,MAAMC,cAAcF,GAExBG,QAAQC,KAAR,2BAAiCP,EAAjC,4BAEArF,EAAQuF,EAAQM,MAAM,KAAKC,QAAO,SAACC,EAAMC,GAAP,OAAmBD,EAAKC,KAAUR,GAG/DxF,G,6sCCzDYe,E,kPAA+BC,EAAEE,S,iBAUpD,WAAYQ,EAAiBC,GAAiB,O,4FAAA,SAGxCX,EAAEyE,MAAMQ,YAAYC,IACtBlF,EAAEmF,UAAUb,EAAS,mBAGvB,IAAMrE,EAAO,IAAIiF,EAP2B,OAQ5C,cAAMjF,EAAM,oBACPmF,KAAO,KACZ,EAAKC,QAAU,EACf,EAAKC,cAAgB,IAAItF,EAAEuF,MAAMC,OACjC,EAAKF,cAAchH,KAAO,+BAC1B,EAAKoC,gBAAkBA,EACvB,EAAKC,gBAAkBA,EAdqB,E,gDA2BnCR,GAAK,WAsBd,OArBAE,KAAK+E,KAAOjF,EACPH,EAAEyF,SAASC,cACd1F,EAAEyF,SAASC,YAAc,SAACC,EAAQC,GAChC,IAEIC,EADAC,EAAe,GAEd9F,EAAEyE,MAAMQ,YAAYW,KACvBE,EAAe9F,EAAEyE,MAAF,QAAgBqB,EAAcF,EAAQG,MACrDF,EAAcD,EAAQC,aAExB,IACMG,EADaC,WAAWC,QAAQP,EACrBQ,CAAWL,GAM5B,OALoB,IAAhBD,EACiB7F,EAAEyE,MAAM2B,aAAaJ,GAErBA,IAMlB,IAAIK,SAAQ,SAACC,EAASC,GAC3B,IAAIX,EAAU,CACZY,OAAO,EACPT,KAAM,CACJjC,aAAc,CACZ2C,MAAOnC,EAAS,SAChBoC,MAAOpC,EAAS,SAChBqC,MAAOrC,EAAS,SAChBpC,SAAUoC,EAAS,YACnBlC,UAAWkC,EAAS,aACpBsC,kBAAmBtC,EAAS,qBAC5B1D,KAAM0D,EAAS,QACfuC,OAAQvC,EAAS,UACjBwC,OAAQxC,EAAS,UACjByC,SAAUzC,EAAS,YACnB0C,YAAa1C,EAAS,eACtB2C,gBAAiB3C,EAAS,mBAC1B4C,gBAAiB5C,EAAS,mBAC1B6C,mBAAoB7C,EAAS,sBAC7B8C,oBAAqB9C,EAAS,0BAI9BlE,EAAOJ,EAAEyF,SAASC,YAAYD,IAAUG,GAG9C,EAAKR,KAAKiC,UAAU,EAAK/B,eACzB,EAAKgC,OAAOjE,GAAGrD,EAAEsD,IAAIiE,KAAM,EAAKC,SAAU,GAC1C,EAAKF,OAAOjE,GAAGrD,EAAEsD,IAAImE,KAAM,EAAKC,WAAY,GAE5CpB,EAAQlG,GACRA,EAAKuH,cAAc,4CAA4CC,iBAAiB,QAAS,EAAKX,gBAAgB1H,KAAK,IACnHa,EAAKuH,cAAc,4CAA4CC,iBAAiB,QAAS,EAAKV,gBAAgB3H,KAAK,IACnHa,EAAKuH,cAAc,6CAA6CC,iBAAiB,QAAS,EAAKC,iBAAiBtI,KAAK,IACrHa,EAAKuH,cAAc,iCAAiCC,iBAAiB,SAAU,EAAKE,8BAA8BvI,KAAK,IACvHa,EAAKuH,cAAc,4CAA4CC,iBAAiB,SAAU,EAAKE,8BAA8BvI,KAAK,IAClIa,EAAKuH,cAAc,wCAAwCC,iBAAiB,QAAS,EAAKZ,YAAYzH,KAAK,S,iCAc7Gc,KAAK+E,KAAK/B,GAAGrD,EAAEsD,IAAIyE,MAAO1H,KAAK2H,SAAU3H,MACzC4H,SAASC,KAAKC,MAAMC,OAAS,YAC7B/H,KAAK+E,KAAKiD,oBAAoBX,e,mCAY9BrH,KAAK+E,KAAKkD,GAAGtI,EAAEsD,IAAIyE,MAAO1H,KAAK2H,SAAU3H,MACzC4H,SAASC,KAAKC,MAAMC,OAAS,UAC7B/H,KAAK+E,KAAKiD,oBAAoBb,a,+BAKvBlE,GAAK,WACRzC,EAAWR,KAAKgF,QAAU,EAC9B4C,SAASM,eAAe,gCAAgCC,gBAAgB,YACxEP,SAASM,eAAe,2CAA2CC,gBAAgB,YACnFP,SAASM,eAAe,uCAAuCE,UAAUC,OAAO,aAChFT,SAASU,uBAAuB,+CAA+C,GAAGF,UAAUC,OAAO,aACnGT,SAASU,uBAAuB,+CAA+C,GAAGF,UAAUC,OAAO,aACnGT,SAASU,uBAAuB,gDAAgD,GAAGF,UAAUC,OAAO,aAGnB,IAA7ET,SAASU,uBAAuB,kCAAkCC,QAAgBvI,KAAK+E,KAAKhC,aAAayF,cAAcC,OAAOF,OAAS,GACzIvI,KAAK0I,0BAKP,IAAIC,EAAUf,SAASU,uBAAuB,0BAA0B,GACpEM,EAAYhB,SAASiB,cAAc,UACnCC,EAAgBlB,SAASmB,eAAevI,GAC5CoI,EAAUI,YAAYF,GACtBF,EAAUR,UAAUa,IAAI,YACxBL,EAAUM,aAAa,KAAvB,iBAAuC1I,IACvCmI,EAAQK,YAAYJ,GAGpB,IAqBIO,EArBAC,EAAcnG,EAAId,MAGlBkH,EAAe,IAAI1J,EAAE2J,QAAQ9I,EAAU,CACzC,KAAQ,UACR,GAAMA,EACN,SAAY,CACV,KAAQ,QACR,YAAe,CAAC4I,EAAY,GAAIA,EAAY,KAE9C,WAAc,CACZ,SAAYpJ,KAAK+E,KAAKwE,gBAAgB7G,KACtC,YAAe,CAAC0G,EAAY,GAAIA,EAAY,OAMhDT,EAAQa,UAAYb,EAAQc,aAI5B,IAAIC,EAAc9B,SAASM,eAAe,8BAC5B,IAAIlC,SAAQ,SAACC,EAASC,GAClCwD,EAAYC,UAAY1F,EAAS,mBAEjCgC,EADAkD,EAAyB,EAAKS,UAAUC,2BAA2BT,EAAa,EAAKrE,KAAKwE,gBAAgB7G,UAIpGoH,MAAK,SAAAC,GAEmBC,OAD9Bb,EAAyBY,EAASE,KAAKzF,MAAM,MAAM,GAAGA,MAAM,KAAK,MAE/D2E,EAAyBlF,EAAS,kBAEpCoF,EAAaH,aAAa,WAAYC,GACtCO,EAAYC,UAAYO,WAAWf,GAAwB5H,QAAQ,GACnEqH,EAAUrB,iBAAiB,SAAS,kBAAM,EAAK4C,eAAe3J,SAIhER,KAAKiF,cAAcmF,YAAY,CAACf,IAChCrJ,KAAKiF,cAAcoF,UAAU,KAC7BrK,KAAKsK,QAAQ9J,GACbR,KAAKgF,QAAUxE,I,0CAGG,WACZ+J,EAAQvK,KAAKC,WAAW8C,aACxByH,EAAgBxK,KAAKwK,cACrBC,EAAeD,EAAcE,UAAUd,UAAUe,cAEvD3K,KAAKwK,cAAcI,gBAE+C,OAA9DhD,SAASN,cAAc,oCACzBM,SAASN,cAAc,mBAAmBuD,YAAYL,EAAcM,qBAGlEL,IACFzK,KAAK+K,OAAS,IAAIjK,GAAGkK,YAAYC,OAAO,CACtCC,OAAO,EACPC,OAAQ,CAACV,KAGXzK,KAAK+K,OAAO/H,GAAG,UAAU,SAACoI,GACpBA,EAAEC,OAAOC,cAAcC,WAAWhD,OAAS,GAC7C,EAAKiC,cAAcgB,SAASJ,MAIhCb,EAAMkB,eAAezL,KAAK+K,QAE1B/K,KAAK0L,KAAO,IAAI5K,GAAGkK,YAAYW,OAAO,CAAEC,SAAU5L,KAAK+K,OAAOO,gBAC9DtL,KAAK0L,KAAK1I,GAAG,aAAa,SAACC,GACzB,EAAKuH,cAAcqB,cAErBtB,EAAMkB,eAAezL,KAAK0L,S,oCAMhBlL,GAAU,WACtBR,KAAKqG,MAAQ,IAAI1G,EAAEmI,MAAMgE,MAAM,CAC7BC,KAAM,CACJC,KAAMrM,EAAEmI,MAAMkE,KAAKC,KACnBC,MAAO,IACPC,SAAU,IACVC,OAAQ,GACRC,MAAO,QACPC,KAAM,WAIVtM,KAAKuM,aAAe,IAAI5M,EAAEmI,MAAMgE,MAAM,CACpCM,OAAQ,EACRL,KAAM,CACJC,KAAM,OACNE,MAAO,IACPE,OAAQ,GACRI,SAAU,EACVC,QAAQ,EACRC,OAAQ,CAAC,EAAG,GACZL,MAAO,UACPM,QAAS,EACTC,OAAQ,CACNC,MAAO,OASTrM,EAHgBoH,SAASU,uBAAuB,mBAAmBC,OAASX,SAASU,uBAAuB,yBAAyBC,OAIvIvI,KAAK8M,aAAatM,IAElBoH,SAASU,uBAAuB,yBAAyB,GAAGF,UAAU2E,QAAQ,wBAAyB,mBACvGnF,SAASU,uBAAuB,mBAAmBV,SAASU,uBAAuB,mBAAmBC,OAAS/H,GAAU4H,UAAU2E,QAAQ,kBAAmB,yBAG7E,IAA7EnF,SAASU,uBAAuB,kCAAkCC,QAAgBvI,KAAK+E,KAAKhC,aAAayF,cAAcC,OAAOF,OAAS,GACzIvI,KAAK0I,2BAIT1I,KAAKiF,cAAcqG,cAAcxL,KAAI,SAACkN,GAAD,OAAeA,EAASC,SAAS,EAAKV,iBACrDvM,KAAKiF,cAAciI,eAAe1M,GACxCyM,SAASjN,KAAKqG,S,mCAGnB7F,GACX,IAAI2M,EAAMnN,KAAKiF,cAAcmI,MAAMC,UAAU7M,EAAW,GAAG4M,MAAME,WAAWC,QAAQnE,YAGhF5I,EAAW,GACboH,SAASU,uBAAuB,yBAAyB,GAAGF,UAAU2E,QAAQ,wBAAyB,mBAGzG,IAAMS,EAAW,qMAAH,OAI2DhN,EAJ3D,sJAYRiN,EAAqB9N,EAAEyF,SAASC,YAAYmI,EAAU,CAC1DrH,OAAO,EACPT,KAAM,CACJjC,aAAcQ,EAAS,WAI3BjE,KAAK0N,aAAe,IAAI5M,GAAG6M,QAAQ,CACjCC,QAASH,EACTf,OAAQ,CAAC,IAAK,KAGhB1M,KAAK0N,aAAaG,YAAYV,GAC9BnN,KAAK+E,KAAKhC,aAAa+K,WAAW9N,KAAK0N,gB,kCAI7BlN,GAEV,IADA,IAAIuN,EAAenG,SAASU,uBAAuB,YAC1C5K,EAAI,EAAGA,EAAIqQ,EAAaxF,OAAQ7K,IACvCqQ,EAAarQ,GAAG0K,UAAUC,OAAO,UAElBT,SAASM,eAAT,iBAAkC1H,IACxC4H,UAAUa,IAAI,Y,sDAKzB,IAAIzI,EAAWwN,SAASpG,SAASN,cAAc,oBAAoB2G,aACnEjO,KAAKkO,qBAAqB1N,K,2CAIPA,GACnB,IAAI2N,EAAkBnO,KAAKiF,cAAciI,eAAe1M,GAGpD4N,EAAWxG,SAASM,eAAe,2BACnCmG,EAAczG,SAASM,eAAe,8BACtCoG,EAAe1G,SAASM,eAAe,+BACvCqG,EAAU3G,SAASM,eAAe,0BAClC1B,EAASoB,SAASM,eAAe,4BACjCzB,EAASmB,SAASM,eAAe,4BAIjCsG,EAAY5G,SAASM,eAAe,gCAAgCvJ,MAGpEyB,EAAYwH,SAASM,eAAe,2CAA2CuG,QAG/EC,EAAkB1O,KAAK4J,UAAU+E,eAAeR,EAAiBK,EAAWpO,EAAWJ,KAAKK,gBAAiBL,KAAKM,iBAGtH8N,EAASzE,UAAY+E,EAAgBE,SACrCP,EAAY1E,UAAY+E,EAAgB/M,cAAcC,eAAeC,SACrEyM,EAAa3E,UAAY+E,EAAgB/M,cAAcC,eAAeG,UACtEwM,EAAQ5E,UAAY+E,EAAgBG,cAActO,KAClDiG,EAAOmD,UAAY3J,KAAK8O,oBAAoBJ,EAAgBG,cAAcE,eAAevI,QACzFC,EAAOkD,UAAY3J,KAAK8O,oBAAoBJ,EAAgBG,cAAcE,eAAetI,U,yCAGxEjG,GACjB,IAAI2N,EAAkBnO,KAAKiF,cAAciI,eAAe1M,GACtCoH,SAASM,eAAe,8BAC9ByB,UAAYwE,EAAgBxN,aAAa,c,8BAI/CH,GACNR,KAAKgP,cAAcxO,GACnBR,KAAKiP,YAAYzO,GACjBR,KAAKkO,qBAAqB1N,K,qCAGbA,GACbR,KAAKgP,cAAcxO,GACnBR,KAAKiP,YAAYzO,GACjBR,KAAKkO,qBAAqB1N,GAC1BR,KAAKkP,mBAAmB1O,K,oCAKxB,GAAIoH,SAASU,uBAAuB,YAAYC,OAAS,EAAG,CAC1D,IAAI4G,EAAgBvH,SAASN,cAAc,oBACvC9G,EAAW2O,EAAclB,YAE7BkB,EAAcC,WAAWvE,YAAYsE,GAErC,IAAIE,EAAgBrP,KAAKiF,cAAciI,eAAec,SAASxN,IAC/DR,KAAKiF,cAAcqK,eAAeD,GAGlC,IAAIE,EAAc3H,SAASU,uBAAuB,0BAA0B,GAAGkH,UAC/ED,EAAYnH,UAAUa,IAAI,UAC1BjJ,KAAKmK,eAAe6D,SAASuB,EAAYtB,mBAEzCjO,KAAK4G,oB,wCAUP,IAFA,IAAI6I,EAAgB,GAEX/R,EAAI,EAAGA,EAAIsC,KAAKiF,cAAcmI,MAAMC,UAAU9E,OAAQ7K,GAAK,EAAG,CAErE,IAAIyQ,EAAkBnO,KAAKiF,cAAcmI,MAAMC,UAAU3P,GAGrD8Q,EAAY5G,SAASM,eAAe,gCAAgCvJ,MAGpEyB,EAAYwH,SAASM,eAAe,2CAA2CuG,QAG/EC,EAAkB1O,KAAK4J,UAAU+E,eAAeR,EAAiBK,EAAWpO,EAAWJ,KAAKK,gBAAiBL,KAAKM,iBAIlHsB,EAAiB,CACnB8M,EAAgB/M,cAAcC,eAAeG,UAC7C2M,EAAgB/M,cAAcC,eAAeC,UAG3CkN,EAAiB,CACnBL,EAAgBG,cAAcE,eAAevI,OAC7CkI,EAAgBG,cAAcE,eAAetI,QAQ/CgJ,EAAcC,KAAKzL,EAAS,SAAWvG,EAApBuG,QACnBwL,EAAcC,KAAKhB,EAAgB/M,cAAce,KAAO,MACxD+M,EAAcC,KAAK,IAAM9N,EAAN,OACnB6N,EAAcC,KAAKhB,EAAgBG,cAAcnM,KAAO,MACxD+M,EAAcC,KAAK,IAAMX,EAAN,OAGrB,IAAMY,EAAa,IAAIC,KAAKH,EAAe,CACzCI,KAAM,eAGFC,EAAI,IAAIC,KACRC,EAAS,QAAQC,OAAOH,EAAEI,cAAe,IAAKJ,EAAEK,WAAa,EAAG,IAAKL,EAAEM,SAAW,EAAG,IAAKN,EAAEO,WAAYP,EAAEQ,aAAcR,EAAES,cAEhIvQ,KAAKwQ,iBAAiBb,EAAYK,EAAOC,OAAO,W,yCAIhD,GAAiF,IAA7ErI,SAASU,uBAAuB,kCAAkCC,QAAgBvI,KAAK+E,KAAKhC,aAAayF,cAAcC,OAAOF,OAAS,EACzIvI,KAAK0I,8BACA,CAELd,SAASU,uBAAuB,kCAAkC,GAAGF,UAAU2E,QAAQ,iCAAkC,mCACzHnF,SAASU,uBAAuB,mCAAmC,GAAGlC,MAAQnC,EAAS,uBAGvF,IAAK,IAAIvG,EAAI,EAAGA,EAAIkK,SAASU,uBAAuB,mBAAmBC,OAAQ7K,GAAK,EAClFkK,SAASU,uBAAuB,mBAAmB5K,GAAGoK,MAAQ,gBAEhEF,SAASU,uBAAuB,yBAAyB,GAAGR,MAAQ,gBAGpE,IAAK,IAAIpK,EAAI,EAAGA,EAAIsC,KAAKiF,cAAcmI,MAAMC,UAAU9E,OAAQ7K,GAAK,EAAG,CACrE,IAAMyP,EAAMnN,KAAKiF,cAAcmI,MAAMC,UAAU3P,GAAG0P,MAAME,WAAWC,QAAQnE,YACrEqH,EAASzQ,KAAK0Q,wBAAwBhT,EAAI,GAC1C8P,EAAW,mUAAH,OAKkCvJ,EAAS,SAL3C,YAKuDvG,EAAE,EALzD,8GAQWsC,KAAK8O,oBAAoB2B,EAAO,IAR3C,0GAWWzQ,KAAK8O,oBAAoB2B,EAAO,IAX3C,uGAcQxM,EAAS,YAdjB,YAcgCiG,WAAWlK,KAAKiF,cAAcmI,MAAMC,UAAU3P,GAAG0P,MAAME,WAAWC,QAAQoD,UAAUpP,QAAQ,GAd5H,oKAuBRkM,EAAqB9N,EAAEyF,SAASC,YAAYmI,EAAU,CAC1DrH,OAAO,EACPT,KAAM,CACJjC,aAAcQ,EAAS,WAI3BjE,KAAK0N,aAAe,IAAI5M,GAAG6M,QAAQ,CACjCC,QAASH,EACTf,OAAQ,CAAC,IAAK,KAGhB1M,KAAK0N,aAAaG,YAAYV,GAC9BnN,KAAK+E,KAAKhC,aAAa+K,WAAW9N,KAAK0N,kB,8CAKrBlN,GACtB,IAAI2N,EAAkBnO,KAAKiF,cAAciI,eAAe1M,GAEpDgO,EAAY5G,SAASM,eAAe,gCAAgCvJ,MAGpEyB,EAAYwH,SAASM,eAAe,2CAA2CuG,QAG/EC,EAAkB1O,KAAK4J,UAAU+E,eAAeR,EAAiBK,EAAWpO,EAAWJ,KAAKK,gBAAiBL,KAAKM,iBAEtH,MAAO,CAACoO,EAAgBG,cAAcE,eAAevI,OAAQkI,EAAgBG,cAAcE,eAAetI,U,gDAK1GmB,SAASU,uBAAuB,mCAAmC,GAAGF,UAAU2E,QAAQ,kCAAmC,kCAC3HnF,SAASU,uBAAuB,kCAAkC,GAAGlC,MAAQnC,EAAS,sBAGtF,IAAK,IAAIvG,EAAI,EAAGA,EAAIkK,SAASU,uBAAuB,mBAAmBC,OAAQ7K,GAAK,EAClFkK,SAASU,uBAAuB,mBAAmB5K,GAAGoK,MAAQ,iBAEhEF,SAASU,uBAAuB,yBAAyB,GAAGR,MAAQ,iBAKpE,IADA,IACSpK,EADWsC,KAAK+E,KAAKhC,aAAayF,cAAc+C,WAAWhD,OACzC,EAAG7K,GAAK,EAAGA,GAAK,EACwC,wBAA7EsC,KAAK+E,KAAKhC,aAAayF,cAAcC,OAAO/K,GAAG6H,QAAQqI,QAAQgD,WACjE5Q,KAAK+E,KAAKhC,aAAa8N,cAAc7Q,KAAK+E,KAAKhC,aAAayF,cAAc+C,WAAW7N,M,uCAM1EoT,EAAiBC,GAChC,IAAIC,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAASC,GACvB,IAAIC,EAAOxJ,SAASiB,cAAc,KAClCuI,EAAKC,KAAOF,EAAM9F,OAAOiG,OACzBF,EAAK/F,OAAS,SACd+F,EAAKG,SAAWR,GAAiB,cACjC,IAAIS,EAAY,IAAIC,WAAW,QAAS,CACtC,KAAQC,OACR,SAAW,EACX,YAAc,IAEhBN,EAAK7N,cAAciO,IAClBE,OAAOC,KAAOD,OAAOE,WAAWC,gBAAgBT,EAAKC,OAExDL,EAAOc,cAAchB,K,wCAIClJ,SAASU,uBAAuB,0BAA0B,GAChEqB,UAAY,GAE5B/B,SAASM,eAAe,2BAA2ByB,UAAY,KAC/D/B,SAASM,eAAe,8BAA8ByB,UAAY,KAClE/B,SAASM,eAAe,+BAA+ByB,UAAY,KACnE/B,SAASM,eAAe,0BAA0ByB,UAAY,KAC9D/B,SAASM,eAAe,4BAA4ByB,UAAY,KAChE/B,SAASM,eAAe,4BAA4ByB,UAAY,KAChE/B,SAASM,eAAe,8BAA8ByB,UAAY,KAElE/B,SAASM,eAAe,uCAAuCE,UAAUa,IAAI,aAC7ErB,SAASU,uBAAuB,+CAA+C,GAAGF,UAAUa,IAAI,aAChGrB,SAASU,uBAAuB,+CAA+C,GAAGF,UAAUa,IAAI,aAChGrB,SAASU,uBAAuB,gDAAgD,GAAGF,UAAUa,IAAI,aACjGrB,SAASM,eAAe,2CAA2CgB,aAAa,WAAY,YAC5FtB,SAASM,eAAe,gCAAgCgB,aAAa,WAAY,YAIjFlJ,KAAKiF,cAAcqK,eAAgBtP,KAAKiF,cAAcqG,eAItD,IADA,IACS5N,EADWsC,KAAK+E,KAAKhC,aAAayF,cAAc+C,WAAWhD,OACzC,EAAG7K,GAAK,EAAGA,GAAK,EACzCsC,KAAK+E,KAAKhC,aAAa8N,cAAc7Q,KAAK+E,KAAKhC,aAAayF,cAAc+C,WAAW7N,IAIvFsC,KAAKgF,QAAU,I,6BAWV+M,GACL,OAAOA,aAAmBrS,I,4CAI1BM,KAAK+E,KAAKiN,aAAahS,KAAKiF,iB,0CAGV9C,GAClB,OAAOA,EAAM4K,QAAQ,oBAAqB,OAAOvI,MAAM,KAAKyN,KAAK,KAAKzN,MAAM,KAAKyN,KAAK,U,k1CCnnBrEC,E,kPAAwBvS,EAAEwS,Q,iBAW7C,aAA0B,MAAd5M,EAAc,uDAAJ,GAAI,WACxB,gBAMKR,KAAO,KAOZ,EAAKqN,iBAAmB7M,EAAQlF,iBAAmB,EAOnD,EAAKgS,iBAAmB9M,EAAQjF,iBAAmB,EAOnD,EAAKgS,MAAQ,kBAOb,EAAKC,UAAY,GAEjB,EAAKC,SAAW,KAQhB,IAAMC,EAAY,CAAC,KAAM,KAAM,KAAM,MA7Cb,OA8CxB,EAAKC,UAAYD,EAAUE,SAASpN,EAAQqN,UAAYrN,EAAQqN,SAAW,KAO3E,EAAKC,UAAYC,EAAIC,SArDG,E,2CAgEpBjT,GACJE,KAAKwS,SAAW,IAAI9S,EAAuBM,KAAKoS,iBAAkBpS,KAAKqS,kBACvErS,KAAKuS,UAAU7C,KAAK1P,KAAKwS,UACzBxS,KAAK+E,KAAOjF,EAEZE,KAAKiH,OAAS,IAAItH,EAAEqT,GAAGC,MAAM,uBAAwB,CACnDC,WAAW,EACXC,aAAa,EACbP,SAAUjT,EAAEqT,GAAGJ,SAAS5S,KAAK0S,WAC7B9B,UAAW,2BACXwC,qBAAsB,yBACtBC,QAASpP,EAAS,aAEpBjE,KAAKiH,OAAOqM,YAAYtT,KAAKuS,WAE7BzS,EAAIyT,UAAUvT,KAAKiH,U,gCAWnBjH,KAAK+E,KAAKyO,eAAe,CAACxT,KAAKwS,WAC/BxS,KAAKwS,SAASnL,aACdrH,KAAKwS,SAASiB,sBAHN,MAIiC,CAAC,KAAM,KAAM,MAArDzT,KAAKwS,SAJE,KAIQxS,KAAKiH,OAJb,KAIqBjH,KAAKF,IAJ1B,O,oCA0BR,OAAOE,KAAK6S,Y,mCAWZ,gBAAU7S,KAAK/B,KAAf,YAAuB+B,KAAK0S,UAA5B,YAAyC1S,KAAKoS,iBAA9C,YAAkEpS,KAAKqS,oB,2BAtBvE,OAAOrS,KAAKsS,W,gCCvHXZ,OAAO/R,EAAE+T,SAAQhC,OAAO/R,EAAE+T,OAAS,IACnChC,OAAO/R,EAAEoS,UAASL,OAAO/R,EAAEoS,QAAU,IACrCL,OAAO/R,EAAEC,OAAM8R,OAAO/R,EAAEC,KAAO,IAC/B8R,OAAO/R,EAAEC,KAAKmS,UAASL,OAAO/R,EAAEC,KAAKmS,QAAU,IACpDL,OAAO/R,EAAE+T,OAAOxB,gBAAkByB,EAClCjC,OAAO/R,EAAEoS,QAAQrS,uBAAyBkU,EAC1ClC,OAAO/R,EAAEC,KAAKmS,QAAQrS,uBAAyBmU","file":"infocoordinates.ol.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","module.exports = \"<div class=\\\"m-control m-container m-infocoordinates\\\">\\r\\n\\r\\n    <div class=\\\"div-m-infocoordinates-panel\\\">\\r\\n\\r\\n        <div class=\\\"m-infocoordinates-title\\\">\\r\\n            <p id=\\\"titleInfo\\\" class=\\\"m-infocoordinates-titleInfo\\\">{{translations.title}}</p>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"m-infocoordinates-content\\\">\\r\\n            <!-- Tabs -->\\r\\n            <div class=\\\"m-infocoordinates-tabs\\\">\\r\\n\\r\\n            </div>\\r\\n\\r\\n            <!-- Tab content -->\\r\\n            <div id=\\\"tabContent\\\" class='m-infocoordinates-tabContent'>\\r\\n                <table>\\r\\n                    <tbody>\\r\\n                        <tr>\\r\\n                            <td>{{translations.point}}</td>\\r\\n                            <td id=\\\"m-infocoordinates-point\\\">--</td>\\r\\n                            <td><button class=\\\"infocoordinates-bin2 noDisplay\\\" id=\\\"m-infocoordinates-buttonRemovePoint\\\" title=\\\"{{translations.removePoint}}\\\"></button></td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                            <td>{{translations.datum}}</td>\\r\\n                            <td>\\r\\n                                <select id=\\\"m-infocoordinates-comboDatum\\\" class=\\\"m-infocoordinates-comboDatum\\\" disabled>\\r\\n                                    <option value=\\\"EPSG:4258\\\" selected>ETRS89</option>\\r\\n                                    <option value=\\\"EPSG:4326\\\" class=\\\"\\\">WGS84</option>\\r\\n                                    <option value=\\\"EPSG:4081\\\" class=\\\"\\\">REGCAN95</option>\\r\\n                                </select>\\r\\n                            </td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                            <td>{{translations.latitude}}</td>\\r\\n                            <td id=\\\"m-infocoordinates-latitude\\\">--</td>\\r\\n                        <tr>\\r\\n                            <td>{{translations.longitude}}</td>\\r\\n                            <td id=\\\"m-infocoordinates-longitude\\\">--</td>\\r\\n\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                            <td></td>\\r\\n                            <td><input id=\\\"m-infocoordinates-buttonConversorFormat\\\" type=\\\"checkbox\\\" disabled>{{translations.formatCoordinates}}</td>\\r\\n                        </tr>\\r\\n\\r\\n                        <tr>\\r\\n                            <td>{{translations.zone}}</td>\\r\\n                            <td id=\\\"m-infocoordinates-zone\\\">--</td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                            <td>{{translations.coordX}}</td>\\r\\n                            <td id=\\\"m-infocoordinates-coordX\\\">--</td>\\r\\n                        </tr>\\r\\n                        <tr>\\r\\n                            <td>{{translations.coordY}}</td>\\r\\n                            <td id=\\\"m-infocoordinates-coordY\\\">--</td>\\r\\n                        </tr>\\r\\n\\r\\n                        <tr>\\r\\n                            <td>{{translations.altitude}}</td>\\r\\n                            <td id=\\\"m-infocoordinates-altitude\\\">--</td>\\r\\n                        </tr>\\r\\n                    </tbody>\\r\\n                </table>\\r\\n            </div>\\r\\n            <div class=\\\"m-infocoordinates-div-buttonRemoveAllPoints noDisplay\\\">\\r\\n                <button class=\\\"infocoordinates-bin2\\\" id=\\\"m-infocoordinates-buttonRemoveAllPoints\\\" title=\\\"{{translations.removeAllPoints}}\\\"></button>\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"m-infocoordinates-div-buttonImportAllPoints noDisplay\\\">\\r\\n\\r\\n                <button class=\\\"icon-infocoordinates-file\\\" id=\\\"m-infocoordinates-buttonImportAllPoints\\\" title=\\\"{{translations.importAllPoints}}\\\"></button>\\r\\n\\r\\n                <!-- <select id=\\\"m-infocoordinates-projectionPrint\\\" class=\\\"m-infocoordinates-projectionPrint\\\">\\r\\n                    <option value=\\\"EPSG:25828\\\">EPSG:25828</option>\\r\\n                    <option value=\\\"EPSG:25829\\\">EPSG:25829</option>\\r\\n                    <option value=\\\"EPSG:25830\\\">EPSG:25830</option>\\r\\n                    <option value=\\\"EPSG:25831\\\">EPSG:25831</option>\\r\\n                    <option value=\\\"EPSG:3857\\\">EPSG:3857</option>\\r\\n                    <option value=\\\"EPSG:4326\\\">EPSG:4326</option>\\r\\n                    <option value=\\\"EPSG:4258\\\">EPSG:4258</option>\\r\\n                </select> -->\\r\\n            </div>\\r\\n\\r\\n            <div class=\\\"m-infocoordinates-div-buttonDisplayAllPoints noDisplay\\\">\\r\\n\\r\\n                <button class=\\\"icon-infocoordinates-displayON\\\" id=\\\"m-infocoordinates-buttonDisplayAllPoints\\\" title=\\\"{{translations.displayONAllPoints}}\\\"></button>\\r\\n\\r\\n            </div>\\r\\n\\r\\n\\r\\n        </div>\\r\\n\\r\\n\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\\r\\n</div>\";","/* eslint-disable no-console */\r\n/**\r\n * @module M/impl/control/InfocoordinatesControl\r\n */\r\nexport default class InfocoordinatesControl extends M.impl.Control {\r\n  /**\r\n   * This function adds the control to the specified map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the plugin\r\n   * @param {HTMLElement} html of the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map, html) {\r\n    this.facadeMap_ = map;\r\n\r\n    // super addTo - don't delete\r\n    super.addTo(map, html);\r\n  }\r\n\r\n  // Add your own functions\r\n\r\n\r\n  getCoordinates(feature, SRStarget, formatGMS, decimalGEOcoord, decimalUTMcoord) {\r\n    //   Si es ETRS89 estará entre una longitud de -12 y 6:\r\n    //               huso 29(-12 al -6)\r\n    //               huso 30(-6 al 0)\r\n    //               huso 31(0 al 6)\r\n\r\n    //   Si es WGS84 estará entre una longitud de -24 y 6\r\n    //               huso 27(-24 al -18)\r\n    //               huso 28(-18 al -6)\r\n    //               huso 29(-12 al -6)\r\n    //               huso 30(-6 al 0)\r\n    //               huso 31(0 al 6)\r\n\r\n    //   Si es REGCAN95 estará entre una longitud de -24 y -6\r\n    //             huso 27(-24 al - 18)\r\n    //             huso 28(-18 al - 6)\r\n\r\n    //   Para el resto de valores las coordenadas deben ser \"--\",\"--\"*/\r\n    let numPoint = feature.getId();\r\n    let coordinatesFeature = feature.getAttribute('coordinates');\r\n\r\n    let SRSfeature = feature.getAttribute('EPSGcode');\r\n    let coordinatesGEOoutput = ol.proj.transform(coordinatesFeature, SRSfeature, SRStarget);\r\n\r\n    let coordinatesGEOoutputLongitude = coordinatesGEOoutput[0];\r\n\r\n    let zone;\r\n    let projectionUTMCodeTarget = null;\r\n    const NODATA = '--';\r\n    let salida = {\r\n      'NumPoint': numPoint,\r\n      'projectionGEO': {\r\n        'code': NODATA,\r\n        'coordinatesGEO': {\r\n          'longitude': NODATA,\r\n          'latitude': NODATA,\r\n        },\r\n      },\r\n      'projectionUTM': {\r\n        'code': NODATA,\r\n        'zone': NODATA,\r\n        'coordinatesUTM': {\r\n          'coordX': NODATA,\r\n          'coordY': NODATA\r\n        }\r\n      }\r\n    };\r\n\r\n    if (coordinatesGEOoutputLongitude >= -24 && coordinatesGEOoutputLongitude <= 6) {\r\n      zone = this.zoneCalc(coordinatesGEOoutputLongitude);\r\n      if (SRStarget == 'EPSG:4326') {\r\n        projectionUTMCodeTarget = this.projectionUTMcodeCalc(zone, 'EPSG:4326');\r\n      } else if (SRStarget == 'EPSG:4258' && (coordinatesGEOoutputLongitude >= -12 && coordinatesGEOoutputLongitude <= 6)) {\r\n        projectionUTMCodeTarget = this.projectionUTMcodeCalc(zone, 'EPSG:4258');\r\n      } else if (SRStarget == 'EPSG:4081' && (coordinatesGEOoutputLongitude >= -24 && coordinatesGEOoutputLongitude <= -6)) {\r\n        projectionUTMCodeTarget = this.projectionUTMcodeCalc(zone, 'EPSG:4081');\r\n      }\r\n\r\n      if (projectionUTMCodeTarget != null) {\r\n        let coordinatesUTMoutput = ol.proj.transform(coordinatesFeature, SRSfeature, projectionUTMCodeTarget);\r\n\r\n        salida = {\r\n          'NumPoint': numPoint,\r\n          'projectionGEO': {\r\n            'code': SRStarget,\r\n            'coordinatesGEO': {\r\n              'longitude': coordinatesGEOoutput[0].toFixed(decimalGEOcoord),\r\n              'latitude': coordinatesGEOoutput[1].toFixed(decimalGEOcoord),\r\n            },\r\n          },\r\n          'projectionUTM': {\r\n            'code': projectionUTMCodeTarget,\r\n            'zone': zone,\r\n            'coordinatesUTM': {\r\n              'coordX': coordinatesUTMoutput[0].toFixed(decimalUTMcoord),\r\n              'coordY': coordinatesUTMoutput[1].toFixed(decimalUTMcoord)\r\n            }\r\n          }\r\n        }\r\n\r\n        if (formatGMS == true) {\r\n          let coordinateGGMMSS = ol.coordinate.toStringHDMS(coordinatesGEOoutput, 2);\r\n          salida.projectionGEO.coordinatesGEO.latitude = coordinateGGMMSS.substr(0, 17);\r\n          salida.projectionGEO.coordinatesGEO.longitude = coordinateGGMMSS.substr(17);\r\n        }\r\n\r\n      }\r\n    }\r\n    return salida\r\n  }\r\n\r\n\r\n  zoneCalc(coordinatesDEClongitude) {\r\n    let zone;\r\n    if (coordinatesDEClongitude > 0 && coordinatesDEClongitude <= 6) {\r\n      zone = 31\r\n    } else if (coordinatesDEClongitude >= -6 && coordinatesDEClongitude <= 0) {\r\n      zone = 30;\r\n    } else if (coordinatesDEClongitude >= -12 && coordinatesDEClongitude < -6) {\r\n      zone = 29;\r\n    } else if (coordinatesDEClongitude >= -18 && coordinatesDEClongitude < -12) {\r\n      zone = 28\r\n    } else if (coordinatesDEClongitude >= -24 && coordinatesDEClongitude < -18) {\r\n      zone = 27\r\n    } else {\r\n      zone = null\r\n    }\r\n    return zone;\r\n  }\r\n\r\n  projectionUTMcodeCalc(zone, projectionGEOcode) {\r\n    let projectionUTMcode;\r\n\r\n    switch (projectionGEOcode) {\r\n      case 'EPSG:4326':\r\n        projectionUTMcode = 'EPSG:326' + zone;\r\n        break;\r\n      case 'EPSG:4258':\r\n        projectionUTMcode = 'EPSG:258' + zone;\r\n        break;\r\n      case 'EPSG:4081':\r\n        if (zone == 27) {\r\n          projectionUTMcode = 'EPSG:4082';\r\n        } else if (zone == 28) {\r\n          projectionUTMcode = 'EPSG:4083';\r\n        }\r\n        break;\r\n    }\r\n    return projectionUTMcode\r\n  }\r\n\r\n  readAltitudeFromWCSservice(coord, srcMapa) {\r\n\r\n    // 1.- transformo las coordenadas a EPSG4258 ya que el servicio WCS es en ese srs    \r\n    let coordinatesEPSG4528 = ol.proj.transform(coord, srcMapa, 'EPSG:4258')\r\n\r\n    // 2.- me genero un bbox de las coordenadas\r\n    let bbox = [\r\n      [coordinatesEPSG4528[0], coordinatesEPSG4528[1]],\r\n      [coordinatesEPSG4528[0] + 0.000001, coordinatesEPSG4528[1] + 0.000001]\r\n    ]\r\n\r\n    // 3.- lanzo el servicio y el método devolverá un texto que lo recogerá una promesa\r\n    const PROFILE_URL = 'https://servicios.idee.es/wcs-inspire/mdt?request=GetCoverage&bbox=';\r\n    const PROFILE_URL_SUFFIX = '&service=WCS&version=1.0.0&coverage=Elevacion4258_5&' +\r\n      'interpolationMethod=bilinear&crs=EPSG%3A4258&format=ArcGrid&width=2&height=2';\r\n    const url = `${PROFILE_URL}${bbox}${PROFILE_URL_SUFFIX}`;\r\n\r\n    return M.remote.get(url)\r\n\r\n  }\r\n\r\n  transform(box, code, currProj) {\r\n    return ol.proj.transform(box, code, currProj);\r\n  }\r\n\r\n  transformExt(box, code, currProj) {\r\n    return ol.proj.transformExtent(box, code, currProj);\r\n  }\r\n\r\n  activateClick(map) {\r\n    // desactivo el zoom al dobleclick\r\n    this.dblClickInteraction_.setActive(false);\r\n\r\n    // añado un listener al evento dblclick\r\n    const olMap = map.getMapImpl();\r\n    olMap.on('dblclick', (evt) => {\r\n      // disparo un custom event con las coordenadas del dobleclick\r\n      const customEvt = new CustomEvent('mapclicked', {\r\n        detail: evt.coordinate,\r\n        bubbles: true,\r\n      });\r\n      map.getContainer().dispatchEvent(customEvt);\r\n    });\r\n  }\r\n\r\n  deactivateClick(map) {\r\n    // activo el zoom al dobleclick\r\n    this.dblClickInteraction_.setActive(true);\r\n\r\n    // elimino el listener del evento\r\n    map.getMapImpl().removeEventListener('dblclick');\r\n  }\r\n}\r\n","import en from './en';\nimport es from './es';\n\n/**\n * Default object with es and en translate.\n *\n * @const\n * @type {object}\n */\nconst translations = {\n  en,\n  es,\n};\n\nconst getLang = () => {\n  let res = 'es';\n  if (typeof M.language.getLang === 'function') {\n    res = M.language.getLang();\n  }\n\n  return res;\n};\n\n/**\n * This function sets a new language translate.\n * @param {string} lang\n * @param {JSON} json\n * @public\n * @api\n */\nexport const addTranslation = (lang, json) => {\n  translations[lang] = json;\n};\n\n/**\n * This function gets a language translate.\n *\n * @param {string} lang\n * @return {JSON}\n * @public\n * @api\n */\nexport const getTranslation = (lang) => {\n  return translations[lang];\n};\n\n/**\n * This function gets a language value from key\n *\n * @public\n * @param {string}\n * @param {string}\n * @return {string}\n * @public\n * @api\n */\n\nexport const getValue = (keyPath, lang = getLang()) => {\n  const translation = getTranslation(lang);\n  let value = '';\n  if (M.utils.isNullOrEmpty(translation)) {\n    /* eslint-disable no-console */\n    console.warn(`The translation '${lang}' has not been defined.`);\n  } else {\n    value = keyPath.split('.').reduce((prev, current) => prev[current], translation);\n  }\n\n  return value;\n};\n","/* eslint-disable no-console */\r\n/**\r\n * @module M/control/InfocoordinatesControl\r\n */\r\nimport InfocoordinatesImplControl from 'impl/infocoordinatescontrol';\r\nimport template from 'templates/infocoordinates';\r\nimport { getValue } from './i18n/language';\r\n\r\n\r\n\r\nexport default class InfocoordinatesControl extends M.Control {\r\n  /**\r\n   * @classdesc\r\n   * Main constructor of the class. Creates a PluginControl\r\n   * control\r\n   *\r\n   * @constructor\r\n   * @extends {M.Control}\r\n   * @api stable\r\n   */\r\n  constructor(decimalGEOcoord, decimalUTMcoord) {\r\n\r\n    // 1. checks if the implementation can create PluginControl\r\n    if (M.utils.isUndefined(InfocoordinatesImplControl)) {\r\n      M.exception(getValue('expection.impl'));\r\n    }\r\n    // 2. implementation of this control\r\n    const impl = new InfocoordinatesImplControl();\r\n    super(impl, 'Infocoordinates');\r\n    this.map_ = null;\r\n    this.numTabs = 0;\r\n    this.layerFeatures = new M.layer.Vector();\r\n    this.layerFeatures.name = 'infocoordinatesLayerFeatures';\r\n    this.decimalGEOcoord = decimalGEOcoord;\r\n    this.decimalUTMcoord = decimalUTMcoord;\r\n  }\r\n\r\n\r\n\r\n  /**\r\n   * This function creates the view\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the control\r\n   * @api stable\r\n   */\r\n  createView(map) {\r\n    this.map_ = map;\r\n    if (!M.template.compileSync) { // JGL: retrocompatibilidad Mapea4\r\n      M.template.compileSync = (string, options) => {\r\n        let templateCompiled;\r\n        let templateVars = {};\r\n        let parseToHtml;\r\n        if (!M.utils.isUndefined(options)) {\r\n          templateVars = M.utils.extends(templateVars, options.vars);\r\n          parseToHtml = options.parseToHtml;\r\n        }\r\n        const templateFn = Handlebars.compile(string);\r\n        const htmlText = templateFn(templateVars);\r\n        if (parseToHtml !== false) {\r\n          templateCompiled = M.utils.stringToHtml(htmlText);\r\n        } else {\r\n          templateCompiled = htmlText;\r\n        }\r\n        return templateCompiled;\r\n      };\r\n    }\r\n\r\n    return new Promise((success, fail) => {\r\n      let options = {\r\n        jsonp: true,\r\n        vars: {\r\n          translations: {\r\n            title: getValue('title'),\r\n            point: getValue('point'),\r\n            datum: getValue('datum'),\r\n            latitude: getValue('latitude'),\r\n            longitude: getValue('longitude'),\r\n            formatCoordinates: getValue('formatCoordinates'),\r\n            zone: getValue('zone'),\r\n            coordX: getValue('coordX'),\r\n            coordY: getValue('coordY'),\r\n            altitude: getValue('altitude'),\r\n            removePoint: getValue('removePoint'),\r\n            removeAllPoints: getValue('removeAllPoints'),\r\n            importAllPoints: getValue('importAllPoints'),\r\n            displayONAllPoints: getValue('displayONAllPoints'),\r\n            displayOFFAllPoints: getValue('displayOFFAllPoints')\r\n          }\r\n        }\r\n      };\r\n      const html = M.template.compileSync(template, options);\r\n      // Añadir código dependiente del DOM\r\n\r\n      this.map_.addLayers(this.layerFeatures);\r\n      this.panel_.on(M.evt.SHOW, this.activate, this);\r\n      this.panel_.on(M.evt.HIDE, this.deactivate, this);\r\n\r\n      success(html);\r\n      html.querySelector('#m-infocoordinates-buttonRemoveAllPoints').addEventListener('click', this.removeAllPoints.bind(this));\r\n      html.querySelector('#m-infocoordinates-buttonImportAllPoints').addEventListener('click', this.importAllPoints.bind(this));\r\n      html.querySelector('#m-infocoordinates-buttonDisplayAllPoints').addEventListener('click', this.displayAllPoints.bind(this));\r\n      html.querySelector('#m-infocoordinates-comboDatum').addEventListener('change', this.changeSelectSRSorChangeFormat.bind(this));\r\n      html.querySelector('#m-infocoordinates-buttonConversorFormat').addEventListener('change', this.changeSelectSRSorChangeFormat.bind(this));\r\n      html.querySelector('#m-infocoordinates-buttonRemovePoint').addEventListener('click', this.removePoint.bind(this));\r\n    });\r\n\r\n  }\r\n\r\n\r\n  /**\r\n   * This function is called on the control activation\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  activate() {\r\n    this.map_.on(M.evt.CLICK, this.addPoint, this);\r\n    document.body.style.cursor = 'crosshair';\r\n    this.map_.getFeatureHandler().deactivate();\r\n  }\r\n\r\n\r\n  /**\r\n   * This function is called on the control deactivation\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  deactivate() {\r\n    this.map_.un(M.evt.CLICK, this.addPoint, this);\r\n    document.body.style.cursor = 'default';\r\n    this.map_.getFeatureHandler().activate();\r\n  }\r\n\r\n\r\n\r\n  addPoint(evt) {\r\n    let numPoint = this.numTabs + 1;\r\n    document.getElementById('m-infocoordinates-comboDatum').removeAttribute('disabled');\r\n    document.getElementById('m-infocoordinates-buttonConversorFormat').removeAttribute('disabled');\r\n    document.getElementById('m-infocoordinates-buttonRemovePoint').classList.remove('noDisplay');\r\n    document.getElementsByClassName('m-infocoordinates-div-buttonRemoveAllPoints')[0].classList.remove('noDisplay');\r\n    document.getElementsByClassName('m-infocoordinates-div-buttonImportAllPoints')[0].classList.remove('noDisplay');\r\n    document.getElementsByClassName('m-infocoordinates-div-buttonDisplayAllPoints')[0].classList.remove('noDisplay');\r\n\r\n    // Eliminamos las etiquetas de los puntos\r\n    if (document.getElementsByClassName('icon-infocoordinates-displayON').length === 0 && this.map_.getMapImpl().getOverlays().array_.length > 0) {\r\n      this.removeAllDisplaysPoints();\r\n    }\r\n\r\n\r\n    // Agrego la tab que es un botón con el número de punto\r\n    let tabsDiv = document.getElementsByClassName('m-infocoordinates-tabs')[0];\r\n    let buttonTab = document.createElement('button');\r\n    let buttonTabText = document.createTextNode(numPoint);\r\n    buttonTab.appendChild(buttonTabText);\r\n    buttonTab.classList.add('tablinks');\r\n    buttonTab.setAttribute('id', `tablink${numPoint}`);\r\n    tabsDiv.appendChild(buttonTab);\r\n\r\n    // cojo las coordenadas del punto pinchado\r\n    let coordinates = evt.coord;\r\n\r\n    //Agrego la feature\r\n    let featurePoint = new M.Feature(numPoint, {\r\n      \"type\": \"Feature\",\r\n      \"id\": numPoint,\r\n      \"geometry\": {\r\n        \"type\": \"Point\",\r\n        \"coordinates\": [coordinates[0], coordinates[1]]\r\n      },\r\n      \"properties\": {\r\n        \"EPSGcode\": this.map_.getProjection().code,\r\n        \"coordinates\": [coordinates[0], coordinates[1]]\r\n      }\r\n\r\n    });\r\n\r\n    // Ubico el scroller centrado en el ultimo botón añadido\r\n    tabsDiv.scrollTop = tabsDiv.scrollHeight;\r\n\r\n    //Altura\r\n    let altitudeFromWCSservice;\r\n    let altitudeBox = document.getElementById('m-infocoordinates-altitude');\r\n    let promesa = new Promise((success, fail) => {\r\n      altitudeBox.innerHTML = getValue('readingAltitude');\r\n      altitudeFromWCSservice = this.getImpl().readAltitudeFromWCSservice(coordinates, this.map_.getProjection().code)\r\n      success(altitudeFromWCSservice);\r\n    });\r\n\r\n    promesa.then(response => {\r\n      altitudeFromWCSservice = response.text.split(/\\n/)[5].split(' ')[1];\r\n      if (altitudeFromWCSservice == undefined) {\r\n        altitudeFromWCSservice = getValue('noDatafromWCS');\r\n      }\r\n      featurePoint.setAttribute('Altitude', altitudeFromWCSservice);\r\n      altitudeBox.innerHTML = parseFloat(altitudeFromWCSservice).toFixed(2);\r\n      buttonTab.addEventListener('click', () => this.openTabFromTab(numPoint));\r\n    })\r\n\r\n\r\n    this.layerFeatures.addFeatures([featurePoint]);\r\n    this.layerFeatures.setZIndex(999);\r\n    this.openTab(numPoint)\r\n    this.numTabs = numPoint;\r\n  }\r\n\r\n  activateSelection() {\r\n    const olMap = this.facadeMap_.getMapImpl();\r\n    const facadeControl = this.facadeControl;\r\n    const drawingLayer = facadeControl.drawLayer.getImpl().getOL3Layer();\r\n\r\n    this.facadeControl.hideTextPoint();\r\n\r\n    if (document.querySelector('.m-geometrydraw>#downloadFormat') !== null) {\r\n      document.querySelector('.m-geometrydraw').removeChild(facadeControl.downloadingTemplate);\r\n    }\r\n\r\n    if (drawingLayer) {\r\n      this.select = new ol.interaction.Select({\r\n        wrapX: false,\r\n        layers: [drawingLayer],\r\n      });\r\n\r\n      this.select.on('select', (e) => {\r\n        if (e.target.getFeatures().getArray().length > 0) {\r\n          this.facadeControl.onSelect(e);\r\n        }\r\n      });\r\n\r\n      olMap.addInteraction(this.select);\r\n\r\n      this.edit = new ol.interaction.Modify({ features: this.select.getFeatures() });\r\n      this.edit.on('modifyend', (evt) => {\r\n        this.facadeControl.onModify();\r\n      });\r\n      olMap.addInteraction(this.edit);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  selectFeature(numPoint) {\r\n    this.point = new M.style.Point({\r\n      icon: {\r\n        form: M.style.form.NONE,\r\n        class: '+',\r\n        fontsize: 1.5,\r\n        radius: 10,\r\n        color: 'black',\r\n        fill: 'white',\r\n      },\r\n    });\r\n\r\n    this.pointDisable = new M.style.Point({\r\n      radius: 5,\r\n      icon: {\r\n        form: 'none',\r\n        class: '+',\r\n        radius: 15,\r\n        rotation: 0,\r\n        rotate: false,\r\n        offset: [0, 0],\r\n        color: '#2690e7',\r\n        opacity: 1,\r\n        stroke: {\r\n          width: 20\r\n        }\r\n      },\r\n    });\r\n\r\n    // Calculamos el número de elementos de numPoints que hay\r\n    const countPoints = document.getElementsByClassName('contenedorPunto').length + document.getElementsByClassName('contenedorPuntoSelect').length;\r\n    // Si el numPoint que se pasa es mayor que la cantidad de numPoints que existe, quiere decir que es nuevo, se añade.\r\n    // En el caso de que no sea nuevo, se modifica el estilo del punto.\r\n    if (numPoint > countPoints) {\r\n      this.displayPoint(numPoint);\r\n    } else {\r\n      document.getElementsByClassName('contenedorPuntoSelect')[0].classList.replace('contenedorPuntoSelect', 'contenedorPunto');\r\n      document.getElementsByClassName('contenedorPunto')[document.getElementsByClassName('contenedorPunto').length - numPoint].classList.replace('contenedorPunto', 'contenedorPuntoSelect');\r\n\r\n      // Eliminamos las etiquetas de los puntos\r\n      if (document.getElementsByClassName('icon-infocoordinates-displayON').length === 0 && this.map_.getMapImpl().getOverlays().array_.length > 0) {\r\n        this.removeAllDisplaysPoints();\r\n      }\r\n    }\r\n\r\n    this.layerFeatures.getFeatures().map((elemento) => (elemento.setStyle(this.pointDisable)));\r\n    let featureSelected = this.layerFeatures.getFeatureById(numPoint);\r\n    featureSelected.setStyle(this.point);\r\n  }\r\n\r\n  displayPoint(numPoint) {\r\n    var pos = this.layerFeatures.impl_.features_[numPoint - 1].impl_.olFeature_.values_.coordinates;\r\n\r\n    // Modificamos el color del estilo de los puntos anteriores.\r\n    if (numPoint > 1) {\r\n      document.getElementsByClassName('contenedorPuntoSelect')[0].classList.replace('contenedorPuntoSelect', 'contenedorPunto');\r\n    }\r\n\r\n    const textHTML = `<div class=\"contenedorPuntoSelect\">\r\n                <table>\r\n                    <tbody>\r\n                      <tr>\r\n                        <td style=\"font-weight: bold; font-family: arial;\">${numPoint}</td></b>\r\n                      </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n          </div>\r\n      </div>`\r\n\r\n    const helpTooltipElement = M.template.compileSync(textHTML, {\r\n      jsonp: true,\r\n      vars: {\r\n        translations: getValue('text'),\r\n      },\r\n    });\r\n\r\n    this.helpTooltip_ = new ol.Overlay({\r\n      element: helpTooltipElement,\r\n      offset: [10, -5],\r\n    });\r\n\r\n    this.helpTooltip_.setPosition(pos);\r\n    this.map_.getMapImpl().addOverlay(this.helpTooltip_);\r\n  }\r\n\r\n\r\n  activateTab(numPoint) {\r\n    let allTabsLinks = document.getElementsByClassName('tablinks');\r\n    for (let i = 0; i < allTabsLinks.length; i++) {\r\n      allTabsLinks[i].classList.remove('active')\r\n    }\r\n    let idBotonTab = document.getElementById(`tablink${numPoint}`);\r\n    idBotonTab.classList.add('active');\r\n  }\r\n\r\n  changeSelectSRSorChangeFormat() {\r\n    // Cojo la tab activa\r\n    let numPoint = parseInt(document.querySelector('.tablinks.active').textContent);\r\n    this.displayXYcoordinates(numPoint);\r\n\r\n  }\r\n\r\n  displayXYcoordinates(numPoint) {\r\n    let featureSelected = this.layerFeatures.getFeatureById(numPoint);\r\n\r\n    //Capturo los elementos\r\n    let pointBox = document.getElementById('m-infocoordinates-point');\r\n    let latitudeBox = document.getElementById('m-infocoordinates-latitude');\r\n    let longitudeBox = document.getElementById('m-infocoordinates-longitude');\r\n    let zoneBox = document.getElementById('m-infocoordinates-zone');\r\n    let coordX = document.getElementById('m-infocoordinates-coordX');\r\n    let coordY = document.getElementById('m-infocoordinates-coordY');\r\n\r\n\r\n    //Cojo el srs seleccionado en el select\r\n    let selectSRS = document.getElementById('m-infocoordinates-comboDatum').value;\r\n\r\n    //Cojo el formato de las coordenadas geográficas\r\n    let formatGMS = document.getElementById('m-infocoordinates-buttonConversorFormat').checked;\r\n\r\n    //Cambio coordenadas y calculo las UTM\r\n    let pointDataOutput = this.getImpl().getCoordinates(featureSelected, selectSRS, formatGMS, this.decimalGEOcoord, this.decimalUTMcoord);\r\n\r\n    // pinto\r\n    pointBox.innerHTML = pointDataOutput.NumPoint;\r\n    latitudeBox.innerHTML = pointDataOutput.projectionGEO.coordinatesGEO.latitude;\r\n    longitudeBox.innerHTML = pointDataOutput.projectionGEO.coordinatesGEO.longitude;\r\n    zoneBox.innerHTML = pointDataOutput.projectionUTM.zone;\r\n    coordX.innerHTML = this.formatUTMCoordinate(pointDataOutput.projectionUTM.coordinatesUTM.coordX);\r\n    coordY.innerHTML = this.formatUTMCoordinate(pointDataOutput.projectionUTM.coordinatesUTM.coordY);\r\n  }\r\n\r\n  displayZcoordinate(numPoint) {\r\n    let featureSelected = this.layerFeatures.getFeatureById(numPoint);\r\n    let altitudeBox = document.getElementById('m-infocoordinates-altitude');\r\n    altitudeBox.innerHTML = featureSelected.getAttribute('Altitude');\r\n  }\r\n\r\n\r\n  openTab(numPoint) {\r\n    this.selectFeature(numPoint);\r\n    this.activateTab(numPoint);\r\n    this.displayXYcoordinates(numPoint);\r\n  }\r\n\r\n  openTabFromTab(numPoint) {\r\n    this.selectFeature(numPoint);\r\n    this.activateTab(numPoint);\r\n    this.displayXYcoordinates(numPoint);\r\n    this.displayZcoordinate(numPoint);\r\n\r\n  }\r\n\r\n  removePoint() {\r\n    if (document.getElementsByClassName('tablinks').length > 1) {\r\n      let tablinkActive = document.querySelector('.tablinks.active');\r\n      let numPoint = tablinkActive.textContent;\r\n      //Elimina tab\r\n      tablinkActive.parentNode.removeChild(tablinkActive);\r\n      // elimina la feature\r\n      let featureSelect = this.layerFeatures.getFeatureById(parseInt(numPoint));\r\n      this.layerFeatures.removeFeatures(featureSelect);\r\n\r\n      //mostrar otro punto, muestro el último punto y lo activo\r\n      let lastTablink = document.getElementsByClassName('m-infocoordinates-tabs')[0].lastChild;\r\n      lastTablink.classList.add('active');\r\n      this.openTabFromTab(parseInt(lastTablink.textContent))\r\n    } else {\r\n      this.removeAllPoints();\r\n    }\r\n  }\r\n\r\n\r\n  importAllPoints() {\r\n    // const projectionSelect = document.getElementById('m-infocoordinates-projectionPrint').value;\r\n    // const projectionPoints = this.layerFeatures.impl_.features_[0].formatGeoJSON_.impl_.dataProjection.code_;\r\n    let printDocument = [];\r\n\r\n    for (let i = 0; i < this.layerFeatures.impl_.features_.length; i += 1) {\r\n\r\n      let featureSelected = this.layerFeatures.impl_.features_[i];\r\n\r\n      //Cojo el srs seleccionado en el select\r\n      let selectSRS = document.getElementById('m-infocoordinates-comboDatum').value;\r\n\r\n      //Cojo el formato de las coordenadas geográficas\r\n      let formatGMS = document.getElementById('m-infocoordinates-buttonConversorFormat').checked;\r\n\r\n      //Cambio coordenadas y calculo las UTM\r\n      let pointDataOutput = this.getImpl().getCoordinates(featureSelected, selectSRS, formatGMS, this.decimalGEOcoord, this.decimalUTMcoord);\r\n\r\n\r\n\r\n      let coordinatesGEO = [\r\n        pointDataOutput.projectionGEO.coordinatesGEO.longitude,\r\n        pointDataOutput.projectionGEO.coordinatesGEO.latitude\r\n      ];\r\n\r\n      let coordinatesUTM = [\r\n        pointDataOutput.projectionUTM.coordinatesUTM.coordX,\r\n        pointDataOutput.projectionUTM.coordinatesUTM.coordY\r\n      ];\r\n\r\n      // tranformCoordinates = this.getImpl().transform(\r\n      //   tranformCoordinates,\r\n      //   projectionPoints,\r\n      //   projectionSelect);\r\n\r\n      printDocument.push(getValue('point') + i + ': ' + '\\n');\r\n      printDocument.push(pointDataOutput.projectionGEO.code + ': ');\r\n      printDocument.push('[' + coordinatesGEO + ']' + '\\n');\r\n      printDocument.push(pointDataOutput.projectionUTM.code + ': ');\r\n      printDocument.push('[' + coordinatesUTM + ']' + '\\n');\r\n    }\r\n\r\n    const toBlobType = new Blob(printDocument, {\r\n      type: 'text/plain'\r\n    })\r\n\r\n    const f = new Date();\r\n    const titulo = 'mapa_'.concat(f.getFullYear(), '-', f.getMonth() + 1, '-', f.getDay() + 1, '_', f.getHours(), f.getMinutes(), f.getSeconds());\r\n\r\n    this.descargarArchivo(toBlobType, titulo.concat('.txt'));\r\n  }\r\n\r\n  displayAllPoints() {\r\n    if (document.getElementsByClassName('icon-infocoordinates-displayON').length === 0 && this.map_.getMapImpl().getOverlays().array_.length > 0) {\r\n      this.removeAllDisplaysPoints();\r\n    } else {\r\n      // Modificamos el icono\r\n      document.getElementsByClassName('icon-infocoordinates-displayON')[0].classList.replace(\"icon-infocoordinates-displayON\", \"icon-infocoordinates-displayOFF\")\r\n      document.getElementsByClassName('icon-infocoordinates-displayOFF')[0].title = getValue(\"displayOFFAllPoints\")\r\n\r\n      // Eliminamos el num sobre el punto\r\n      for (let i = 0; i < document.getElementsByClassName('contenedorPunto').length; i += 1) {\r\n        document.getElementsByClassName('contenedorPunto')[i].style = 'display: none';\r\n      }\r\n      document.getElementsByClassName('contenedorPuntoSelect')[0].style = 'display: none'\r\n\r\n      // Creamos las etiquetas de los puntos\r\n      for (let i = 0; i < this.layerFeatures.impl_.features_.length; i += 1) {\r\n        const pos = this.layerFeatures.impl_.features_[i].impl_.olFeature_.values_.coordinates;\r\n        const varUTM = this.calculateUTMcoordinates(i + 1);\r\n        const textHTML = `<div class=\"m-popup m-collapsed\" style=\"padding: 5px 5px 5px 5px !important;background-color: rgba(255, 255, 255, 0.7) !important;\">\r\n              <div class=\"contenedorCoordPunto\">\r\n                <table>\r\n                    <tbody>\r\n                      <tr>\r\n                        <td style=\"font-weight: bold\">${getValue('point')} ${i+1}</td></b>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>X: ${this.formatUTMCoordinate(varUTM[0])}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>Y: ${this.formatUTMCoordinate(varUTM[1])}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>${getValue('altitude')} ${parseFloat(this.layerFeatures.impl_.features_[i].impl_.olFeature_.values_.Altitude).toFixed(2)}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n          </div>\r\n          </div>\r\n      </div>`\r\n\r\n        const helpTooltipElement = M.template.compileSync(textHTML, {\r\n          jsonp: true,\r\n          vars: {\r\n            translations: getValue('text'),\r\n          },\r\n        });\r\n\r\n        this.helpTooltip_ = new ol.Overlay({\r\n          element: helpTooltipElement,\r\n          offset: [10, -5],\r\n        });\r\n\r\n        this.helpTooltip_.setPosition(pos);\r\n        this.map_.getMapImpl().addOverlay(this.helpTooltip_);\r\n      }\r\n    }\r\n  }\r\n\r\n  calculateUTMcoordinates(numPoint) {\r\n    let featureSelected = this.layerFeatures.getFeatureById(numPoint);\r\n    //Cojo el srs seleccionado en el select\r\n    let selectSRS = document.getElementById('m-infocoordinates-comboDatum').value;\r\n\r\n    //Cojo el formato de las coordenadas geográficas\r\n    let formatGMS = document.getElementById('m-infocoordinates-buttonConversorFormat').checked;\r\n\r\n    //Cambio coordenadas y calculo las UTM\r\n    let pointDataOutput = this.getImpl().getCoordinates(featureSelected, selectSRS, formatGMS, this.decimalGEOcoord, this.decimalUTMcoord);\r\n\r\n    return [pointDataOutput.projectionUTM.coordinatesUTM.coordX, pointDataOutput.projectionUTM.coordinatesUTM.coordY];\r\n  }\r\n\r\n  removeAllDisplaysPoints() {\r\n    // Modificamos el icono\r\n    document.getElementsByClassName('icon-infocoordinates-displayOFF')[0].classList.replace(\"icon-infocoordinates-displayOFF\", \"icon-infocoordinates-displayON\");\r\n    document.getElementsByClassName('icon-infocoordinates-displayON')[0].title = getValue(\"displayONAllPoints\");\r\n\r\n    // Mostramos el num sobre el punto\r\n    for (let i = 0; i < document.getElementsByClassName('contenedorPunto').length; i += 1) {\r\n      document.getElementsByClassName('contenedorPunto')[i].style = 'display: block';\r\n    }\r\n    document.getElementsByClassName('contenedorPuntoSelect')[0].style = 'display: block'\r\n\r\n\r\n    // Eliminamos todas las etiquetas de los puntos\r\n    const numOverlays = this.map_.getMapImpl().getOverlays().getArray().length;\r\n    for (let i = numOverlays - 1; i > -1; i -= 1) {\r\n      if (this.map_.getMapImpl().getOverlays().array_[i].options.element.className === 'm-popup m-collapsed') {\r\n        this.map_.getMapImpl().removeOverlay(this.map_.getMapImpl().getOverlays().getArray()[i]);\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  descargarArchivo(contenidoEnBlob, nombreArchivo) {\r\n    var reader = new FileReader();\r\n    reader.onload = function(event) {\r\n      var save = document.createElement('a');\r\n      save.href = event.target.result;\r\n      save.target = '_blank';\r\n      save.download = nombreArchivo || 'archivo.dat';\r\n      var clicEvent = new MouseEvent('click', {\r\n        'view': window,\r\n        'bubbles': true,\r\n        'cancelable': true\r\n      });\r\n      save.dispatchEvent(clicEvent);\r\n      (window.URL || window.webkitURL).revokeObjectURL(save.href);\r\n    };\r\n    reader.readAsDataURL(contenidoEnBlob);\r\n  }\r\n\r\n  removeAllPoints() {\r\n    let divTabContainer = document.getElementsByClassName('m-infocoordinates-tabs')[0];\r\n    divTabContainer.innerHTML = '';\r\n\r\n    document.getElementById('m-infocoordinates-point').innerHTML = '--';\r\n    document.getElementById('m-infocoordinates-latitude').innerHTML = '--';\r\n    document.getElementById('m-infocoordinates-longitude').innerHTML = '--';\r\n    document.getElementById('m-infocoordinates-zone').innerHTML = '--';\r\n    document.getElementById('m-infocoordinates-coordX').innerHTML = '--';\r\n    document.getElementById('m-infocoordinates-coordY').innerHTML = '--';\r\n    document.getElementById('m-infocoordinates-altitude').innerHTML = '--';\r\n\r\n    document.getElementById('m-infocoordinates-buttonRemovePoint').classList.add('noDisplay');\r\n    document.getElementsByClassName('m-infocoordinates-div-buttonRemoveAllPoints')[0].classList.add('noDisplay');\r\n    document.getElementsByClassName('m-infocoordinates-div-buttonImportAllPoints')[0].classList.add('noDisplay');\r\n    document.getElementsByClassName('m-infocoordinates-div-buttonDisplayAllPoints')[0].classList.add('noDisplay');\r\n    document.getElementById('m-infocoordinates-buttonConversorFormat').setAttribute('disabled', 'disabled');\r\n    document.getElementById('m-infocoordinates-comboDatum').setAttribute('disabled', 'disabled');\r\n\r\n\r\n    //Elimino todas las features\r\n    this.layerFeatures.removeFeatures((this.layerFeatures.getFeatures()));\r\n\r\n    // Elimino todos los popups del mapa\r\n    const numOverlays = this.map_.getMapImpl().getOverlays().getArray().length;\r\n    for (let i = numOverlays - 1; i > -1; i -= 1) {\r\n      this.map_.getMapImpl().removeOverlay(this.map_.getMapImpl().getOverlays().getArray()[i]);\r\n    }\r\n\r\n    //Reseteo el contador de tabs\r\n    this.numTabs = 0;\r\n  }\r\n\r\n  /**\r\n   * This function compares controls\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Control} control to compare\r\n   * @api stable\r\n   */\r\n  equals(control) {\r\n    return control instanceof InfocoordinatesControl;\r\n  }\r\n\r\n  removeLayerFeatures() {\r\n    this.map_.removeLayers(this.layerFeatures);\r\n  }\r\n\r\n  formatUTMCoordinate(coord) {\r\n    return coord.replace(/\\d(?=(\\d{3})+\\.)/g, '$&*').split('.').join(',').split('*').join('.');\r\n  }\r\n\r\n}\r\n","/**\r\n * @module M/plugin/Infocoordinates\r\n */\r\nimport 'assets/css/infocoordinates';\r\nimport InfocoordinatesControl from './infocoordinatescontrol';\r\nimport api from '../../api';\r\nimport { getValue } from './i18n/language';\r\n\r\nexport default class Infocoordinates extends M.Plugin {\r\n  /**\r\n   * @classdesc\r\n   * Main facade plugin object. This class creates a plugin\r\n   * object which has an implementation Object\r\n   *\r\n   * @constructor\r\n   * @extends {M.Plugin}\r\n   * @param {Object} impl implementation object\r\n   * @api stable\r\n   */\r\n  constructor(options = {}) {\r\n    super();\r\n    /**\r\n     * Facade of the map\r\n     * @private\r\n     * @type {M.Map}\r\n     */\r\n    this.map_ = null;\r\n\r\n    /**\r\n     *  Decimal digits fixed on geographic coordinates\r\n     * @public     * \r\n     * @type {int}\r\n     */\r\n    this.decimalGEOcoord_ = options.decimalGEOcoord || 4;\r\n\r\n    /**\r\n     *  Decimal digits fixed on projected coordinates\r\n     * @public     * \r\n     * @type {int}\r\n     */\r\n    this.decimalUTMcoord_ = options.decimalUTMcoord || 2;\r\n\r\n    /**\r\n     * Name plugin\r\n     * @private\r\n     * @type {String}\r\n     */\r\n    this.name_ = 'infocoordinates';\r\n\r\n    /**\r\n     * Array of controls\r\n     * @private\r\n     * @type {Array<M.Control>}\r\n     */\r\n    this.controls_ = [];\r\n\r\n    this.control_ = null;\r\n\r\n    /**\r\n     * Position of the Plugin\r\n     * @public\r\n     * Posible values: TR | TL | BL | BR\r\n     * @type {String}\r\n     */\r\n    const positions = ['TR', 'TL', 'BL', 'BR'];\r\n    this.position_ = positions.includes(options.position) ? options.position : 'TR';\r\n\r\n    /**\r\n     * Metadata from api.json\r\n     * @private\r\n     * @type {Object}\r\n     */\r\n    this.metadata_ = api.metadata;\r\n  }\r\n\r\n  /**\r\n   * This function adds this plugin into the map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map the map to add the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map) {\r\n    this.control_ = new InfocoordinatesControl(this.decimalGEOcoord_, this.decimalUTMcoord_);\r\n    this.controls_.push(this.control_);\r\n    this.map_ = map;\r\n    // panel para agregar control - no obligatorio\r\n    this.panel_ = new M.ui.Panel('panelInfocoordinates', {\r\n      collapsed: true,\r\n      collapsible: true,\r\n      position: M.ui.position[this.position_],\r\n      className: 'm-plugin-infocoordinates',\r\n      collapsedButtonClass: 'infocoordinates-target',\r\n      tooltip: getValue('tooltip')\r\n    });\r\n    this.panel_.addControls(this.controls_);\r\n\r\n    map.addPanels(this.panel_);\r\n  }\r\n\r\n  /**\r\n   * This function destroys this plugin\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  destroy() {\r\n    this.map_.removeControls([this.control_]);\r\n    this.control_.deactivate();\r\n    this.control_.removeLayerFeatures();\r\n    [this.control_, this.panel_, this.map] = [null, null, null];\r\n  }\r\n\r\n  /**\r\n   * This function gets name plugin\r\n   * @getter\r\n   * @public\r\n   * @returns {string}\r\n   * @api stable\r\n   */\r\n  get name() {\r\n    return this.name_;\r\n  }\r\n\r\n  /**\r\n   * This function gets metadata plugin\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  getMetadata() {\r\n    return this.metadata_;\r\n  }\r\n\r\n  /**\r\n   * Get the API REST Parameters of the plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  getAPIRest() {\r\n    return `${this.name}=${this.position_}*${this.decimalGEOcoord_}*${this.decimalUTMcoord_}`;\r\n  }\r\n}\r\n","import M$plugin$Infocoordinates from '/home/carmenmarquez/IGN/mapea-lite/api-ign-js/src/plugins/infocoordinates/src/facade/js/infocoordinates';\nimport M$control$InfocoordinatesControl from '/home/carmenmarquez/IGN/mapea-lite/api-ign-js/src/plugins/infocoordinates/src/facade/js/infocoordinatescontrol';\nimport M$impl$control$InfocoordinatesControl from '/home/carmenmarquez/IGN/mapea-lite/api-ign-js/src/plugins/infocoordinates/src/impl/ol/js/infocoordinatescontrol';\n\nif (!window.M.plugin) window.M.plugin = {};\nif (!window.M.control) window.M.control = {};\nif (!window.M.impl) window.M.impl = {};\nif (!window.M.impl.control) window.M.impl.control = {};\nwindow.M.plugin.Infocoordinates = M$plugin$Infocoordinates;\nwindow.M.control.InfocoordinatesControl = M$control$InfocoordinatesControl;\nwindow.M.impl.control.InfocoordinatesControl = M$impl$control$InfocoordinatesControl;\n"],"sourceRoot":""}