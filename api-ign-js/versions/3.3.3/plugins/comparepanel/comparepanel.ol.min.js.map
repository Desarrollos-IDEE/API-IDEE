{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/templates/comparepanel.html","webpack:///./src/templates/cpmirrorpanel.html","webpack:///./src/templates/cptimeline.html","webpack:///./src/templates/cplyrcompare.html","webpack:///./src/impl/ol/js/comparepanelcontrol.js","webpack:///./src/facade/js/i18n/language.js","webpack:///./src/impl/ol/js/cpmirrorpanel.js","webpack:///./src/facade/js/cpmirrorpanelcontrol.js","webpack:///./src/facade/js/cpmirrorpanel.js","webpack:///./src/impl/ol/js/cptimelinecontrol.js","webpack:///./src/facade/js/cptimelinecontrol.js","webpack:///./src/facade/js/cptimeline.js","webpack:///./src/impl/ol/js/cplyrcompareinteraction.js","webpack:///./src/impl/ol/js/cplyrcomparecontrol.js","webpack:///./src/facade/js/cplyrcomparecontrol.js","webpack:///./src/facade/js/cplyrcompare.js","webpack:///./src/facade/js/comparepanelcontrol.js","webpack:///./src/facade/js/comparepanel.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ComparepanelControl","M","impl","Control","map","html","this","olMap","getMapImpl","translations","en","es","getLang","res","language","getTranslation","lang","getValue","keyPath","translation","utils","isNullOrEmpty","console","warn","split","reduce","prev","current","CompareMirrorpanel","getInteractions","forEach","interaction","ol","DoubleClickZoom","dblClickInteraction_","values","isUndefined","MirrorpanelImplControl","exception","template","modeViz","enabledPlugins","showCursors","mapL","A","B","C","D","lyrCursor","featureLyrCursor","styleCursor","style","Point","icon","form","CIRCLE","fontsize","radius","rotation","rotate","offset","color","fill","gradientcolor","opacity","defaultBaseLyrs","mirrorLayers","backImgLayersParams","createMapContainers","compileSync","string","options","parseToHtml","templateVars","vars","htmlText","Handlebars","compile","templateFn","stringToHtml","length","addLayers","getLayers","zindex_","setVisible","addLayerCursor","Promise","success","fail","templateOptions","jsonp","title","getValueTranslate","modViz0","modViz1","modViz2","modViz3","modViz4","modViz5","modViz6","modViz7","modViz8","modViz9","querySelectorAll","button","addEventListener","evt","manageVisionPanelByCSSGrid","params","layerId","paramsSeparate","idsArray","titlesArray","previewArray","layersArray","lyrs","baseLayer","idx","backgroundLayers","urlLayer","layer","WMTS","mapeaLyrsObject","id","preview","layers","push","position","collapsible","collapsed","layerVisibility","columnsNumber","layerOpts","bigContainer","document","createElement","classList","add","mapjsA","getElementById","body","insertBefore","appendChild","mapjsB","mapjsC","mapjsD","oldModeViz","display","querySelector","remove","includes","createMapObjects","map_","refresh","mapLyr","plugin4map","mpBILmap","getPlugins","itemPlug","metadata_","log","plugin","FullTOC","http","https","precharged","BackImgLayer","copyBackImgLayersParams","container","center","getCenter","projection","getProjection","code","units","zoom","getZoom","defLyr","setMap","setView","getView","addPlugin","Vector","displayInLayerSwitcher","Feature","type","properties","geometry","coordinates","addFeatures","setStyle","setZIndex","on","event","keys","k","setGeometry","coordinate","lienzo","parentElement","oldClass","control","Mirrorpanel","name_","controls_","className","undefined","enabledKeyFunctions","Array","isArray","isObject","bIL","getAPIRest","replace","tooltip_","tooltip","api","metadata","Plugin","pluginOnLeft","control_","MirrorpanelControl","panel_","ui","Panel","collapsedButtonClass","addControls","addPanels","getControls","dialog","error","zEvent","ctrlKey","shiftKey","keyStr","altKey","metaKey","removeEventListener","removeMaps","destroyMapsContainer","removeControls","activate","deactivate","TimelineControl","TimelineImplControl","running","animation","speed","intervals","interval","transformToLayers","copy","getMapLayer","removeLayers","iv","number","tag","service","play","parseInt","dataset","append","setProperty","slider","setAttribute","e","changeSlider","clearTimeout","playTimeline","newLayer","layerByObject","filter","isValidLayer","indexOf","toUpperCase","WMS","url","layerByName","elem","left","min","max","step","parseFloat","innerHTML","layerSearch","getImpl","legend","next","end","setTimeout","clearInterval","Timeline","isString","JSON","parse","removeTimelineLayers","stringify","LyrcompareInteraction","layers_","swipeClicked","Pointer","handleDownEvent","setPosition","handleUpEvent","handleMoveEvent","optionsE","pos","opacityVal","layerA","lyrA","getOL3Layer","addLayerA","layerB","lyrB","addLayerB","lyrC","lyrD","layerC","addLayerC","layerD","addLayerD","getMap","precompose","Observable","unByKey","postcompose","renderSync","createSwipeControl","precomposeA_","postcomposeA_","precomposeB_","postcomposeB_","precomposeC_","postcomposeC_","precomposeD_","postcomposeD_","setOpacity","staticDivision","updatePosition","comparisonMode","splice","pixel","pointerEvent","buttons","lienzoMapa","getSize","moveSwipeControl","swipeControl","offsetWidth","top","offsetHeight","ctx","context","ratio","frameState","pixelRatio","save","beginPath","rect","canvas","width","clip","restore","height","swipeIcon","b","Lyrcomparecontrol","transparentInteraction_","addInteraction","setComparisonMode","setStaticDivision","setVisibilityLayersCD","addLayer","removeInteraction","removeLayer","unique","a","LyrCompareControl","LyrcompareImplControl","layerSelectedA","layerSelectedB","layerSelectedC","layerSelectedD","defaultLyrA","defaultLyrB","defaultLyrC","defaultLyrD","ADDED_TO_MAP","activateCurtain","isLoad","allLayerLoad","setFunctionsAndCompile","idInterval","setInterval","tooltip_vcurtain","tooltip_hcurtain","tooltip_multicurtain","static","dynamic","mixed","opacity_tooltip","static_tooltip","dynamic_tooltip","mixed_tooltip","lyrLeftSelect_tooltip","lyrRightSelect_tooltip","registerHelper","v1","v2","fn","inverse","setEventsAndValues","updateControls","deactivateCurtain","Number","target","checked","item","lstLayers","checkLayersAreDifferent","info","removeEffectsComparison","effectSelectedCurtain","lyerA","lyerB","lyerC","lyerD","compLyers","activeDefault","selectedIndex","removeEffectsCurtain","removeActivate","activateByMode","swapControl","disabled","layerByUrl","load","transform","facadeLayer_","LyrCompare","error_","interface","removePlugins","removeCurtainLayers","getLayersNames","join","ComparepanelImplControl","baseLayers","mirrorpanelParams","mirrorpanel","timelineParams","timeline","lyrcompareParams","lyrcompare","plugins","tooltipLyr","tooltipMirrorpanel","tooltipTimeline","addComparators","element","_className","addButtonEvents","deactivateAndActivate","toggle","Comparepanel","vertical","_element","window","M$plugin$Comparepanel","M$control$ComparepanelControl","M$plugin$LyrCompare","M$control$LyrCompareControl","M$plugin$Mirrorpanel","M$control$CompareMirrorpanel","M$plugin$Timeline","M$control$TimelineControl","M$impl$control$ComparepanelControl","M$impl$control$Lyrcomparecontrol","M$impl$control$LyrcompareInteraction","M$impl$control$CompareMirrorpanel","M$impl$control$TimelineControl"],"mappings":"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","file":"comparepanel.ol.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n","module.exports = \"<div id=\\\"div-contenedor\\\" class=\\\"m-comparepanel-container\\\">\\r\\n    <div id='m-cp-mirrorpanel'>\\r\\n        <button class=\\\"cp-button cp-icon\\\" title=\\\"{{translations.tooltipMirrorpanel}}\\\"></button>\\r\\n    </div>\\r\\n    <div id='m-cp-lyrcompare'>\\r\\n        <button class=\\\"cp-button cp-columns\\\" title=\\\"{{translations.tooltipLyr}}\\\"></button>\\r\\n    </div>\\r\\n    <div id='m-cp-timeline'>\\r\\n        <button class=\\\"cp-button cp-gestion-reloj2\\\" title=\\\"{{translations.tooltipTimeline}}\\\"></button>\\r\\n    </div>\\r\\n    \\r\\n</div>\\r\\n\";","module.exports = \"<div id=\\\"div-contenedor\\\" class=\\\"m-mirrorpanel-container\\\">\\r\\n  <div class=\\\"div-m-mirrorpanel-panel\\\">\\r\\n    <div class=\\\"m-mirrorpanel-effect-buttoms\\\">\\r\\n      <button id=\\\"set-mirror-0\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz0}}\\\"><i class=\\\"cp-modeviz0\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-1\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz1}}\\\"><i class=\\\"cp-modeviz1\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-2\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz2}}\\\"><i class=\\\"cp-modeviz2\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-3\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz3}}\\\"><i class=\\\"cp-modeviz3\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-4\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz4}}\\\"><i class=\\\"cp-modeviz4\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-5\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz5}}\\\"><i class=\\\"cp-modeviz5\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-6\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz6}}\\\"><i class=\\\"cp-modeviz6\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-7\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz7}}\\\"><i class=\\\"cp-modeviz7\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-8\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz8}}\\\"><i class=\\\"cp-modeviz8\\\"></i></button>\\r\\n      <button id=\\\"set-mirror-9\\\" class=\\\"big-button\\\" title=\\\"{{translations.modViz9}}\\\"><i class=\\\"cp-modeviz9\\\"></i></button>\\r\\n    </div>\\r\\n    \\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\";","module.exports = \"<div id=\\\"div-contenedor\\\" class=\\\"m-timeline-container\\\">\\r\\n    <div class=\\\"div-m-timeline-panel\\\">\\r\\n        <div class=\\\"div-m-timeline-slider\\\">\\r\\n            <input type=\\\"range\\\" min=\\\"0\\\" max=\\\"100\\\" value=\\\"0\\\" step=\\\"any\\\" id=\\\"input-slider\\\"></input>\\r\\n            <div class='slider-tags'></div>\\r\\n        </div>\\r\\n        <div class=\\\"m-timeline-names\\\">\\r\\n            \\r\\n        </div>\\r\\n        <div class=\\\"m-timeline-button\\\">\\r\\n            <button id=\\\"m-timeline-play\\\" class=\\\"cp-control-siguiente\\\" title=\\\"Iniciar paso del tiempo\\\"></button>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\";","module.exports = \"<div id=\\\"div-contenedor\\\" class=\\\"m-lyrcompare-container\\\">\\n    <div class=\\\"div-m-lyrcompare-panel\\\">\\n        <div class=\\\"m-lyrcompare-effect-buttoms\\\">\\n            <button id=\\\"m-lyrcompare-vcurtain\\\" class=\\\"big-buttom\\\" title=\\\"{{translations.tooltip_vcurtain}}\\\"><i class=\\\"cp-columns\\\"></i></button>\\n            <button id=\\\"m-lyrcompare-hcurtain\\\" class=\\\"big-buttom\\\" title=\\\"{{translations.tooltip_hcurtain}}\\\"><i class=\\\"cp-columns-rotate\\\"></i></button>\\n            <button id=\\\"m-lyrcompare-multicurtain\\\" class=\\\"big-buttom\\\" title=\\\"{{translations.tooltip_multicurtain}}\\\"><i class=\\\"cp-th-large\\\"></i></button>\\n        </div>\\n        <div class=\\\"div-m-lyrcompare-transparent-opacity\\\">\\n            <label for=\\\"input-transparent-opacity\\\" title=\\\"{{translations.opacity_tooltip}}\\\">{{translations.opacity}}: </label>\\n            <input type=\\\"range\\\" min=\\\"0\\\" max=\\\"100\\\" value=\\\"100\\\" id=\\\"input-transparent-opacity\\\" title=\\\"{{translations.opacity_tooltip}}\\\"></input>\\n        </div>\\n        <div class=\\\"div-m-lyrcompare-transparent-static\\\">\\n            <input type=\\\"radio\\\" id=\\\"div-m-lyrcompare-transparent-dynamic\\\" name=\\\"staticDivision\\\" value=\\\"0\\\"><label for=\\\"div-m-lyrcompare-transparent-dynamic\\\" title=\\\"{{translations.dynamic_tooltip}}\\\">{{translations.dynamic}}</label>\\n            <input type=\\\"radio\\\" id=\\\"div-m-lyrcompare-transparent-static\\\" name=\\\"staticDivision\\\" value=\\\"1\\\"><label for=\\\"div-m-lyrcompare-transparent-static\\\" title=\\\"{{translations.static_tooltip}}\\\">{{translations.static}}</label>\\n            <input type=\\\"radio\\\" id=\\\"div-m-lyrcompare-transparent-mixed\\\" name=\\\"staticDivision\\\" value=\\\"2\\\"><label for=\\\"div-m-lyrcompare-transparent-mixed\\\" title=\\\"{{translations.mixed_tooltip}}\\\">{{translations.mixed}}</label>\\n        </div>\\n        <hr />\\n        {{#if options}}\\n            <div class=\\\"m-lyrcompare-select\\\" id=\\\"m-lyrcompare-lyrA-cont\\\">\\n                <label id=\\\"m-lyrcompare-lyrA-lbl\\\" for=\\\"m-lyrcompare-lyrA\\\" title=\\\"{{translations.lyrLeftSelect_tooltip}}\\\"></label>\\n                <select disabled id=\\\"m-lyrcompare-lyrA\\\">\\n                    {{#each options}}\\n                        <option value='{{this.name}}'>{{this.legend}}</option>\\n                    {{/each}}\\n                </select>\\n                <div class=\\\"m-lyrcompare-select_arrow\\\"></div>\\n            </div>\\n            <div class=\\\"m-lyrcompare-select\\\" id=\\\"m-lyrcompare-lyrB-cont\\\">\\n                <label id=\\\"m-lyrcompare-lyrB-lbl\\\" for=\\\"m-lyrcompare-lyrB\\\" title=\\\"{{translations.lyrRightSelect_tooltip}}\\\"></label>\\n                <select disabled id=\\\"m-lyrcompare-lyrB\\\">\\n                    {{#each options}}\\n                        <option value='{{this.name}}'>{{this.legend}}</option>\\n                    {{/each}}\\n                </select>\\n                <div class=\\\"m-lyrcompare-select_arrow\\\">\\n                </div>\\n            </div>\\n            <!--Multi Curtain-->\\n            <div class=\\\"m-lyrcompare-select\\\" id=\\\"m-lyrcompare-lyrC-cont\\\">\\n                <label id=\\\"m-lyrcompare-lyrC-lbl\\\" for=\\\"m-lyrcompare-lyrC\\\" title=\\\"{{translations.lyrLeftSelect_tooltip}}\\\"></label>\\n                <select disabled id=\\\"m-lyrcompare-lyrC\\\">\\n                    {{#each options}}\\n                        <option value='{{this.name}}'>{{this.legend}}</option>\\n                    {{/each}}\\n                </select>\\n                <div class=\\\"m-lyrcompare-select_arrow\\\"></div>\\n            </div>\\n            <div class=\\\"m-lyrcompare-select\\\" id=\\\"m-lyrcompare-lyrD-cont\\\">\\n                <label id=\\\"m-lyrcompare-lyrD-lbl\\\" for=\\\"m-lyrcompare-lyrD\\\" title=\\\"{{translations.lyrRightSelect_tooltip}}\\\"></label>\\n                <select disabled id=\\\"m-lyrcompare-lyrD\\\">\\n                    {{#each options}}\\n                        <option value='{{this.name}}'>{{this.legend}}</option>\\n                    {{/each}}\\n                </select>\\n                <div class=\\\"m-lyrcompare-select_arrow\\\">\\n                </div>\\n            </div>\\n        {{/if}}\\n    </div>\\n</div>\";","/**\r\n * @module M/impl/control/ComparepanelControl\r\n */\r\n\r\nexport default class ComparepanelControl extends M.impl.Control {\r\n  /**\r\n   * This function adds the control to the specified map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the plugin\r\n   * @param {HTMLElement} html of the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map, html) {\r\n    this.map = map;\r\n    this.olMap = map.getMapImpl();\r\n\r\n    super.addTo(map, html);\r\n  }\r\n}\r\n","import en from './en';\nimport es from './es';\n\n/**\n * Default object with es and en translate.\n *\n * @const\n * @type {object}\n */\nconst translations = {\n  en,\n  es,\n};\n\nconst getLang = () => {\n  let res = 'es';\n  if (typeof M.language.getLang === 'function') {\n    res = M.language.getLang();\n  }\n\n  return res;\n};\n\n/**\n * This function sets a new language translate.\n * @param {string} lang\n * @param {JSON} json\n * @public\n * @api\n */\nexport const addTranslation = (lang, json) => {\n  translations[lang] = json;\n};\n\n/**\n * This function gets a language translate.\n *\n * @param {string} lang\n * @return {JSON}\n * @public\n * @api\n */\nexport const getTranslation = (lang) => {\n  return translations[lang];\n};\n\n/**\n * This function gets a language value from key\n *\n * @public\n * @param {string}\n * @param {string}\n * @return {string}\n * @public\n * @api\n */\n\nexport const getValue = (keyPath, lang = getLang()) => {\n  const translation = getTranslation(lang);\n  let value = '';\n  if (M.utils.isNullOrEmpty(translation)) {\n    /* eslint-disable no-console */\n    console.warn(`The translation '${lang}' has not been defined.`);\n  } else {\n    value = keyPath.split('.').reduce((prev, current) => prev[current], translation);\n  }\n\n  return value;\n};\n","/**\r\n * @module M/impl/control/CompareMirrorpanel\r\n */\r\nexport default class CompareMirrorpanel extends M.impl.Control {\r\n  /**\r\n   * This function adds the control to the specified map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the plugin\r\n   * @param {HTMLElement} html of the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map, html) {\r\n    // obtengo la interacción por defecto del dblclick para manejarla\r\n    const olMap = map.getMapImpl();\r\n    olMap.getInteractions().forEach((interaction) => {\r\n      if (interaction instanceof ol.interaction.DoubleClickZoom) {\r\n        this.dblClickInteraction_ = interaction;\r\n      }\r\n    });\r\n    super.addTo(map, html);\r\n  }\r\n}\r\n","/**\r\n * @module M/control/CompareMirrorpanel\r\n */\r\n\r\nimport MirrorpanelImplControl from 'impl/cpmirrorpanel';\r\nimport template from 'templates/cpmirrorpanel';\r\nimport { getValue as getValueTranslate } from './i18n/language';\r\n\r\nexport default class CompareMirrorpanel extends M.Control {\r\n  /**\r\n   * @classdesc\r\n   * Main constructor of the class. Creates a PluginControl\r\n   * control\r\n   *\r\n   * @constructor\r\n   * @extends {M.Control}\r\n   * @api stable\r\n   */\r\n  constructor(values) {\r\n    // 1. checks if the implementation can create PluginControl\r\n    if (M.utils.isUndefined(MirrorpanelImplControl)) {\r\n      M.exception('La implementación usada no puede crear controles CompareMirrorpanel');\r\n    }\r\n    // 2. implementation of this control\r\n    const impl = new MirrorpanelImplControl();\r\n    super(impl, 'Mirrorpanel');\r\n\r\n    /**\r\n     * Template\r\n     * @public\r\n     * @type { HTMLElement }\r\n     */\r\n    this.template = null;\r\n\r\n    /**\r\n     * Visual mode\r\n     * @private\r\n     * @type {Number}\r\n     */\r\n    this.modeViz = values.modeViz;\r\n\r\n    /**\r\n     * Mirror maps with plugins\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.enabledPlugins = values.enabledPlugins;\r\n\r\n    /**\r\n     * Mirror maps with plugins\r\n     * @private\r\n     * @type {boolean}\r\n     */\r\n    this.showCursors = values.showCursors;\r\n\r\n    /**\r\n     * Defining mirror maps variables\r\n     */\r\n    this.mapL = { A: null, B: null, C: null, D: null }\r\n    this.lyrCursor = { A: null, B: null, C: null, D: null }\r\n    this.featureLyrCursor = { A: null, B: null, C: null, D: null }\r\n\r\n    /**\r\n     * Defining cursor style\r\n     */\r\n    this.styleCursor = new M.style.Point({\r\n      icon: {\r\n        form: M.style.form.CIRCLE,\r\n        fontsize: 0.5,\r\n        radius: 5,\r\n        rotation: 0,\r\n        rotate: false,\r\n        offset: [0, 0],\r\n        color: 'black',\r\n        fill: 'red',\r\n        gradientcolor: '#088A85',\r\n        opacity: 0.8\r\n      }\r\n    });\r\n\r\n    /**\r\n     * Default layers for mirror maps\r\n     * @public\r\n     * @public {Array}\r\n     */\r\n    this.defaultBaseLyrs = values.defaultBaseLyrs;\r\n\r\n    /**\r\n     * All layers\r\n     * @public\r\n     * @public {Array}\r\n     */\r\n    this.mirrorLayers = values.mirrorLayers;\r\n\r\n    /**\r\n     * BackImgLayers' Parameters\r\n     * @public\r\n     * @public {Object}\r\n     */\r\n    this.backImgLayersParams = values.backImgLayersParams;\r\n\r\n    this.createMapContainers();\r\n  }\r\n\r\n\r\n  /**\r\n   * This function creates the view\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the control\r\n   * @api stable\r\n   */\r\n  createView(map) {\r\n    if (!M.template.compileSync) {\r\n      M.template.compileSync = (string, options) => {\r\n        let templateCompiled;\r\n        let templateVars = {};\r\n        let parseToHtml;\r\n        if (!M.utils.isUndefined(options)) {\r\n          templateVars = M.utils.extends(templateVars, options.vars);\r\n          parseToHtml = options.parseToHtml;\r\n        }\r\n        const templateFn = Handlebars.compile(string);\r\n        const htmlText = templateFn(templateVars);\r\n        if (parseToHtml !== false) {\r\n          templateCompiled = M.utils.stringToHtml(htmlText);\r\n        } else {\r\n          templateCompiled = htmlText;\r\n        }\r\n        return templateCompiled;\r\n      };\r\n    }\r\n\r\n    this.mapL['A'] = map;\r\n    if (this.mirrorLayers.length > 0) {\r\n\r\n      this.mapL['A'].addLayers(this.mirrorLayers);\r\n      this.mapL['A'].getLayers().forEach((l) => {\r\n        if (l.zindex_ !== 0) { l.setVisible(false); }\r\n      });\r\n      this.mapL['A'].addLayers(this.defaultBaseLyrs[0]);\r\n    }\r\n    if (this.showCursors) { this.addLayerCursor('A'); }\r\n    return new Promise((success, fail) => {\r\n      let templateOptions = '';\r\n      templateOptions = {\r\n        jsonp: true,\r\n        vars: {\r\n          translations: {\r\n            title: getValueTranslate('titleMirrorpanel'),\r\n            modViz0: getValueTranslate('modViz0'),\r\n            modViz1: getValueTranslate('modViz1'),\r\n            modViz2: getValueTranslate('modViz2'),\r\n            modViz3: getValueTranslate('modViz3'),\r\n            modViz4: getValueTranslate('modViz4'),\r\n            modViz5: getValueTranslate('modViz5'),\r\n            modViz6: getValueTranslate('modViz6'),\r\n            modViz7: getValueTranslate('modViz7'),\r\n            modViz8: getValueTranslate('modViz8'),\r\n            modViz9: getValueTranslate('modViz9')\r\n          }\r\n        }\r\n      };\r\n\r\n      this.template = M.template.compileSync(template, templateOptions);\r\n\r\n      // Button's click events\r\n      this.template.querySelectorAll('button[id^=\"set-mirror-\"]')\r\n        .forEach((button, modeViz) => {\r\n          button.addEventListener('click', evt => {\r\n            this.manageVisionPanelByCSSGrid(modeViz);\r\n          })\r\n        });\r\n\r\n      // Apply default vision\r\n      this.manageVisionPanelByCSSGrid(this.modeViz);\r\n      success(this.template);\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n   * This function is called on the control activation\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  activate() {\r\n    super.activate();\r\n  }\r\n  /**\r\n   * This function is called on the control deactivation\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  deactivate() {\r\n    this.manageVisionPanelByCSSGrid(0);\r\n  }\r\n\r\n  /**\r\n  * Parse backImgLayers parameters and copy them for each mirror map.\r\n  * \r\n  */\r\n  copyBackImgLayersParams(params, layerId) {\r\n    let copy = params;\r\n    const paramsSeparate = params.split('!!');\r\n    const idsArray = paramsSeparate[6].split(',');\r\n    const titlesArray = paramsSeparate[7].split(',');\r\n    const previewArray = paramsSeparate[8].split(',');\r\n    const layersArray = paramsSeparate[9].split(',');\r\n    let lyrs = [];\r\n    layersArray.forEach((baseLayer, idx) => {\r\n      let backgroundLayers = baseLayer.split('sumar');\r\n      backgroundLayers = backgroundLayers.map((urlLayer) => {\r\n        const mapeaLayer = new M.layer.WMTS(urlLayer);\r\n        return mapeaLayer;\r\n      });\r\n      const mapeaLyrsObject = { \r\n        id: idsArray[idx],\r\n        title: titlesArray[idx],\r\n        preview: previewArray[idx],\r\n        layers: backgroundLayers,\r\n      };\r\n      lyrs.push(mapeaLyrsObject);\r\n    });\r\n    copy = {\r\n      position: paramsSeparate[0],\r\n      collapsible: paramsSeparate[1] === 'true' ? true : false,\r\n      collapsed: paramsSeparate[2] === 'true' ? true : false,\r\n      layerId: layerId === 'A' ? 0 : layerId === 'B' ? 1 : layerId == 'C' ? 2 : 3,\r\n      layerVisibility: paramsSeparate[3] === 'true' ? true : false,\r\n      columnsNumber: paramsSeparate[5],\r\n      layerOpts: lyrs\r\n    }\r\n    return copy;\r\n  }\r\n\r\n  /**\r\n   * Initial configurations for applying CSS grid.\r\n   * \r\n   */\r\n  createMapContainers() {\r\n    const bigContainer = document.createElement('div');\r\n    bigContainer.id = \"lienzo\";\r\n    bigContainer.classList.add('mirrorpanel-grid');\r\n\r\n    const mapjsA = document.getElementById(\"mapjs\") || document.getElementById(\"map\");\r\n    document.body.insertBefore(bigContainer, mapjsA);\r\n    mapjsA.classList.add('mirror1');\r\n    bigContainer.appendChild(mapjsA);\r\n\r\n    const mapjsB = document.createElement('div');\r\n    mapjsB.id = \"mapjsB\";\r\n    mapjsB.classList.add('mirror2');\r\n    bigContainer.appendChild(mapjsB);\r\n\r\n    const mapjsC = document.createElement('div');\r\n    mapjsC.id = \"mapjsC\";\r\n    mapjsC.classList.add('mirror3');\r\n    bigContainer.appendChild(mapjsC);\r\n\r\n    const mapjsD = document.createElement('div');\r\n    mapjsD.id = \"mapjsD\";\r\n    mapjsD.classList.add('mirror4');\r\n    bigContainer.appendChild(mapjsD);\r\n  }\r\n\r\n  /**\r\n   * This function shows/hides panel for differents viz options.\r\n   * The mirror maps are launched from here\r\n   * \r\n   */\r\n  manageVisionPanelByCSSGrid(modeViz) {\r\n    let oldModeViz = this.modeViz;\r\n    let map0 = document.getElementById('mapjs') || document.getElementById('map');\r\n    map0.style.display = 'none';\r\n    document.getElementById('mapjsB').style.display = 'none';\r\n    document.getElementById('mapjsC').style.display = 'none';\r\n    document.getElementById('mapjsD').style.display = 'none';\r\n    this.template.querySelector('#set-mirror-' + oldModeViz).classList.remove('buttom-pressed');\r\n\r\n    for (let i = 0; i < 10; i++) {\r\n      document.getElementById('lienzo').classList.remove('modeViz' + i);\r\n    }\r\n    document.getElementById('lienzo').classList.add('modeViz' + modeViz);\r\n\r\n    //Create map objects by modeviz\r\n    if ([1, 2].includes(modeViz)) {\r\n      if (this.mapL['B'] == null) {\r\n        this.createMapObjects('B');//Create MapB\r\n      }\r\n    }\r\n    if ([3, 7, 8, 9].includes(modeViz)) {\r\n      if (this.mapL['B'] == null) {\r\n        this.createMapObjects('B');//Create MapB\r\n      }\r\n      if (this.mapL['C'] == null) {\r\n        this.createMapObjects('C');//Create MapC\r\n      }\r\n    }\r\n    if ([4, 5, 6].includes(modeViz)) {\r\n      if (this.mapL['B'] == null) {\r\n        this.createMapObjects('B');//Create MapB\r\n      }\r\n      if (this.mapL['C'] == null) {\r\n        this.createMapObjects('C');//Create MapC\r\n      }\r\n      if (this.mapL['D'] == null) {\r\n        this.createMapObjects('D');//Create MapD\r\n      }\r\n    }\r\n\r\n    this.modeViz = modeViz;\r\n    this.template.querySelector('#set-mirror-' + modeViz).classList.add('buttom-pressed');\r\n    this.map_.refresh();\r\n    if (this.mapL['B'] !== null) { this.mapL['B'].refresh(); }\r\n    if (this.mapL['C'] !== null) { this.mapL['C'].refresh(); }\r\n    if (this.mapL['D'] !== null) { this.mapL['D'].refresh(); }\r\n  }\r\n\r\n  /**\r\n   * Create mirror map object synchro with the main map\r\n   */\r\n  createMapObjects(mapLyr) {\r\n    let plugin4map = null;\r\n    let mpBILmap = null;\r\n\r\n    if (this.enabledPlugins) {\r\n      //Get main map plugins\r\n      const listaPlugs = this.map_.getPlugins();\r\n\r\n      listaPlugs.forEach((itemPlug) => {\r\n        if (itemPlug.metadata_) {\r\n          if (itemPlug.metadata_.name === \"FullTOC\") {\r\n            //FullTOC\r\n            console.log(itemPlug)\r\n            plugin4map = new M.plugin.FullTOC({\r\n              http: itemPlug.http,\r\n              https: itemPlug.https,\r\n              precharged: itemPlug.precharged\r\n            });\r\n          }\r\n          if (itemPlug.metadata_.name === \"backimglayer\") {\r\n            //BackImgLayer\r\n            mpBILmap = new M.plugin.BackImgLayer(this.copyBackImgLayersParams(this.backImgLayersParams, mapLyr));\r\n          }\r\n        }\r\n      });\r\n    }\r\n    this.mapL[mapLyr] = M.map({\r\n      container: 'mapjs' + mapLyr,\r\n      center: this.map_.getCenter(),\r\n      projection: this.map_.getProjection().code + '*' + this.map_.getProjection().units,\r\n      zoom: this.map_.getZoom(),\r\n    });\r\n    let defLyr = null;\r\n    switch (mapLyr) {\r\n      case 'B':\r\n        if (this.defaultBaseLyrs[1]) defLyr = this.defaultBaseLyrs[1];\r\n        break;\r\n      case 'C':\r\n        if (this.defaultBaseLyrs[2]) defLyr = this.defaultBaseLyrs[2];\r\n        break;\r\n      case 'D':\r\n        if (this.defaultBaseLyrs[3]) defLyr = this.defaultBaseLyrs[3];\r\n        break;\r\n      default:\r\n        defLyr = this.map_.getLayers()[0].setMap(this);\r\n        break;\r\n    }\r\n    this.mapL[mapLyr].addLayers(defLyr);\r\n    this.mapL[mapLyr].getMapImpl().setView(this.map_.getMapImpl().getView());\r\n\r\n    if (plugin4map !== null) {\r\n      this.mapL[mapLyr].addPlugin(plugin4map);\r\n    }\r\n\r\n    if (mpBILmap !== null) {\r\n      this.mapL[mapLyr].addPlugin(mpBILmap);\r\n    }\r\n\r\n    // Plugins enabled\r\n    if (this.enabledPlugins) {\r\n      // If there is layers for mirror map\r\n      if (this.mirrorLayers.length > 0) {\r\n        this.mapL[mapLyr].addLayers(this.mirrorLayers);\r\n        this.mapL[mapLyr].getLayers().forEach((l) => {\r\n          if (l.zindex_ !== 0) { l.setVisible(false); }\r\n        });\r\n      }\r\n    }\r\n    if (this.showCursors) { this.addLayerCursor(mapLyr); }\r\n    this.mapL[mapLyr].refresh();\r\n  }\r\n\r\n  /**\r\n   * Adding a layer for cursor on Map\r\n   */\r\n  addLayerCursor(mapLyr) {\r\n    // Cursor Layer\r\n    this.lyrCursor[mapLyr] = new M.layer.Vector({\r\n      name: 'Coordenadas centro ' + mapLyr,\r\n    }, { displayInLayerSwitcher: false });\r\n\r\n    this.featureLyrCursor[mapLyr] = new M.Feature('Center' + mapLyr, {\r\n      type: 'Feature',\r\n      properties: {},\r\n      geometry: {\r\n        type: 'Point',\r\n        coordinates: this.mapL[mapLyr].getCenter(),\r\n      },\r\n    });\r\n\r\n    this.lyrCursor[mapLyr].addFeatures([this.featureLyrCursor[mapLyr]]);\r\n    this.lyrCursor[mapLyr].setStyle(this.styleCursor);\r\n    this.lyrCursor[mapLyr].setZIndex(5000);\r\n    this.mapL[mapLyr].addLayers(this.lyrCursor[mapLyr]);\r\n\r\n    this.mapL[mapLyr].getMapImpl().on('pointermove', (event) => {\r\n      this.lyrCursor[mapLyr].setVisible(false);\r\n      Object.keys(this.featureLyrCursor).forEach(k => {\r\n        if (k != mapLyr) {\r\n          if (this.featureLyrCursor[k] !== null) {\r\n            this.lyrCursor[k].setVisible(true);\r\n            this.featureLyrCursor[k].setGeometry({\r\n              type: 'Point',\r\n              coordinates: event.coordinate,\r\n            });\r\n          }\r\n        }\r\n      })\r\n    });\r\n  }\r\n\r\n  /**\r\n   * This function is called to remove the effects\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  removeMaps() {\r\n    this.mapL['B'] = null;\r\n    this.mapL['C'] = null;\r\n    this.mapL['D'] = null;\r\n  }\r\n\r\n  destroyMapsContainer() {\r\n    this.manageVisionPanelByCSSGrid(0);\r\n    // Remove mirrors containers\r\n    document.getElementById(\"mapjsB\").remove();\r\n    document.getElementById(\"mapjsC\").remove();\r\n    document.getElementById(\"mapjsD\").remove();\r\n    // Take the main map out of the container\r\n    const lienzo = document.getElementById(\"lienzo\");\r\n    const mapjsA = document.querySelector('.mirror1');\r\n    lienzo.parentElement.insertBefore(mapjsA, lienzo);\r\n    mapjsA.style.display = \"block\";\r\n    mapjsA.classList.remove('mirror1');\r\n    mapjsA.classList = this.oldClass;\r\n    // Load the main container\r\n    document.getElementById(\"lienzo\").remove();\r\n  }\r\n\r\n  /**\r\n   * This function compares controls\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Control} control to compare\r\n   * @api stable\r\n   */\r\n  equals(control) {\r\n    return control instanceof CompareMirrorpanel;\r\n  }\r\n}\r\n","/**\r\n * @module M/plugin/Mirrorpanel\r\n */\r\nimport 'assets/css/cpmirrorpanel';\r\nimport MirrorpanelControl from './cpmirrorpanelcontrol';\r\nimport api from '../../api';\r\nimport { getValue } from './i18n/language';   //e2m: Multilanguage support\r\n\r\nexport default class Mirrorpanel extends M.Plugin {\r\n  /**\r\n   * @classdesc\r\n   * Main facade plugin object. This class creates a plugin\r\n   * object which has an implementation Object\r\n   *\r\n   * @constructor\r\n   * @extends {M.Plugin}\r\n   * @param {Object} impl implementation object\r\n   * @api stable\r\n   */\r\n  constructor(options = {}) {\r\n    super();\r\n\r\n    /**\r\n     * Name plugin\r\n     * @private\r\n     * @type {String}\r\n     */\r\n    this.name_ = 'mirrorpanel';\r\n\r\n    /**\r\n     * Facade of the map\r\n     * @private\r\n     * @type {M.Map}\r\n     */\r\n    this.map_ = null;\r\n\r\n    /**\r\n     * Array of controls\r\n     * @private\r\n     * @type {Array<M.Control>}\r\n     */\r\n    this.controls_ = [];\r\n\r\n    /**\r\n     * Class name of the html view Plugin\r\n     * @public\r\n     * @type {string}\r\n     */\r\n    this.className = 'm-plugin-mirrorpanel';\r\n\r\n    /**\r\n     * Position of the Plugin\r\n     * @public\r\n     * @type {String}\r\n     */\r\n    this.position = 'TR';\r\n\r\n    /**\r\n     * Collapsed attribute\r\n     * @public\r\n     * @type {boolean}\r\n     */\r\n    this.collapsed = true;\r\n\r\n    /**\r\n     * Collapsible attribute\r\n     * @public\r\n     * @type {boolean}\r\n     */\r\n    this.collapsible = true;\r\n\r\n    /**\r\n     * Modo de visualización\r\n     * Value: number in range 0 - 9\r\n     * @type {number}\r\n     * @public\r\n     */\r\n    this.modeViz = options.modeViz;\r\n    if (this.modeViz === undefined) this.modeViz = 0;\r\n\r\n    /**\r\n     * Mirror maps with plugins\r\n     * @type {boolean}\r\n     * @public\r\n     */\r\n    this.enabledPlugins = options.enabledPlugins;\r\n    if (this.enabledPlugins === undefined) this.enabledPlugins = true;\r\n\r\n    /**\r\n     * Enabled key functions\r\n     * @type {boolean}\r\n     * @public\r\n     */\r\n    this.enabledKeyFunctions = options.enabledKeyFunctions;\r\n    if (this.enabledKeyFunctions === undefined) this.enabledKeyFunctions = true;\r\n\r\n    /**\r\n     * Enabled synchro cursors\r\n     * @type {boolean}\r\n     * @public\r\n     */\r\n    this.showCursors = options.showCursors;\r\n    if (this.showCursors === undefined) this.showCursors = true;\r\n\r\n    /**\r\n     * Layer names that will have effects\r\n     * @public\r\n     * Value: the names separated with coma\r\n     * @type {string}\r\n     */\r\n\r\n    this.mirrorLayers = [];\r\n    if (options.mirrorLayers !== undefined) {\r\n      if (Array.isArray(options.mirrorLayers)) {\r\n        this.mirrorLayers = options.mirrorLayers;\r\n      } else {\r\n        this.mirrorLayers = options.mirrorLayers.split(\",\");\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Layer base for the three mirror maps\r\n     * @public\r\n     * Value: the names separated with coma\r\n     * @type {string}\r\n     */\r\n\r\n    this.defaultBaseLyrs = [];\r\n    if (options.defaultBaseLyrs !== undefined) {\r\n      if (Array.isArray(options.defaultBaseLyrs)) {\r\n        this.defaultBaseLyrs = options.defaultBaseLyrs;\r\n      } else {\r\n        this.defaultBaseLyrs = options.defaultBaseLyrs.split(\",\");\r\n      }\r\n    }\r\n\r\n    /**\r\n     * BackImgLayers' Parameters\r\n     * @public\r\n     * Value: object with backimglayers' parameters\r\n     * @type {Object}\r\n     */\r\n    this.backImgLayersParams = options.backImgLayersParams;\r\n    if (options.backImgLayersParams !== undefined) {\r\n      if (M.utils.isObject(options.backImgLayersParams)) {\r\n        let bIL = new M.plugin.BackImgLayer(options.backImgLayersParams);\r\n        this.backImgLayersParams = bIL.getAPIRest().replace('backimglayer=', '').replace(/\\*!/g, '!!');\r\n      }\r\n\r\n    }\r\n\r\n    /** \r\n     * Show interface\r\n     *@public\r\n     *@type{boolean}\r\n     */\r\n    this.interface = options.interface === undefined ? true : options.interface;\r\n\r\n\r\n    /**\r\n     *@private\r\n     *@type { string }\r\n     */\r\n    this.tooltip_ = options.tooltip || getValue('tooltip');\r\n\r\n\r\n    /**\r\n     * Metadata from api.json\r\n     * @private\r\n     * @type {Object}\r\n     */\r\n    this.metadata_ = api.metadata;\r\n  }\r\n\r\n  /**\r\n   * This function adds this plugin into the map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map the map to add the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map) {\r\n    const pluginOnLeft = !!(['TL', 'BL'].includes(this.position));\r\n\r\n    const values = {\r\n      pluginOnLeft,\r\n      collapsible: this.collapsible,\r\n      collapsed: this.collapsed,\r\n      modeViz: this.modeViz,\r\n      enabledPlugins: this.enabledPlugins,\r\n      showCursors: this.showCursors,\r\n      mirrorLayers: this.mirrorLayers,\r\n      defaultBaseLyrs: this.defaultBaseLyrs,\r\n      backImgLayersParams: this.backImgLayersParams\r\n    };\r\n\r\n    this.control_ = new MirrorpanelControl(values);\r\n    this.controls_.push(this.control_);\r\n    this.map_ = map;\r\n\r\n    this.panel_ = new M.ui.Panel('panelMirrorpanel', {\r\n      collapsible: this.collapsible,\r\n      collapsed: this.collapsed,\r\n      position: M.ui.position[this.position],\r\n      modeViz: this.modeViz,\r\n      enabledPlugins: this.enabledPlugins,\r\n      showCursors: this.showCursors,\r\n      className: this.interface ? 'm-plugin-panelMirrorpanel' : 'm-plugin-panelMirrorpanel hidden',\r\n      collapsedButtonClass: 'mirrorpanel-icon',\r\n      tooltip: this.tooltip_,\r\n    });\r\n    this.panel_.addControls(this.controls_);\r\n    map.addPanels(this.panel_);\r\n\r\n    // Check if backimglayer is main map and backImgLayersParams is defined. If not, throw a error.\r\n    if (this.map_.getControls(\"BackImgLayer\").length > 0 && this.backImgLayersParams === undefined) {\r\n      M.dialog.error(getValue('backimglayersparams_undefined'));\r\n    }\r\n    // Keybindings for Ctrl + Shift + (F1-F8) / ESC\r\n    document.addEventListener('keydown', (zEvent) => {\r\n      if (!this.enabledKeyFunctions) {\r\n        return;\r\n      }\r\n      for (let i = 0; i < 10; i++) {\r\n        if (zEvent.ctrlKey && zEvent.shiftKey && zEvent.key === \"F\" + (i + 1)) {  // case sensitive\r\n          this.control_.manageVisionPanelByCSSGrid(i);\r\n        }\r\n      }\r\n      var keyStr = [\"Control\", \"Shift\", \"Alt\", \"Meta\"].includes(zEvent.key) ? \"\" : zEvent.key;\r\n\r\n      var combinedKeys = (zEvent.ctrlKey ? \"Control \" : \"\") +\r\n        (zEvent.shiftKey ? \"Shift \" : \"\") +\r\n        (zEvent.altKey ? \"Alt \" : \"\") +\r\n        (zEvent.metaKey ? \"Meta \" : \"\") + keyStr;\r\n      if (combinedKeys === \"Escape\") {\r\n        this.control_.manageVisionPanelByCSSGrid(0);\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  /**\r\n   * This function destroys this plugin\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  destroy() {\r\n    document.removeEventListener('keydown', (zEvent) => { });\r\n    this.control_.removeMaps();\r\n    this.control_.destroyMapsContainer();\r\n    this.map_.removeControls([this.control_]);\r\n    [this.control_, this.panel_, this.map_, this.collapsible, this.collapsed, this.modeViz, this.enabledPlugins, this.enabledKeyFunctions, this.showCursors, this.mirrorLayers, this.defaultBaseLyrs, this.backImgLayersParams, this.interface] = [null, null, null, null, null, null, null, null, null, null, null, null, null];\r\n  }\r\n\r\n  /**\r\n   * This function gets name plugin\r\n   * @getter\r\n   * @public\r\n   * @returns {string}\r\n   * @api stable\r\n   */\r\n  get name() {\r\n    return this.name_;\r\n  }\r\n\r\n  /**\r\n   * This function gets metadata plugin\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  getMetadata() {\r\n    return this.metadata_;\r\n  }\r\n\r\n  /**\r\n   * Get the API REST Parameters of the plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  getAPIRest() {\r\n    return `${this.name}=${this.position}*!${this.collapsed}*!${this.collapsible}*!${this.modeViz}*!${this.enabledPlugins}*!${this.enabledKeyFunctions}*!${this.showCursors}*!${this.mirrorLayers}*!${this.defaultBaseLyrs}*!${this.backImgLayersParams}*!${this.interface}`;\r\n  }\r\n\r\n  /**\r\n   * Activate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  activate() {\r\n    this.control_.activate();\r\n  }\r\n\r\n  /**\r\n   * Desactivate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  deactivate() {\r\n    this.control_.deactivate();\r\n  }\r\n\r\n\r\n}\r\n","/**\r\n * @module M/impl/control/TimelineControl\r\n */\r\n\r\nexport default class TimelineControl extends M.impl.Control {\r\n  /**\r\n   * This function adds the control to the specified map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the plugin\r\n   * @param {HTMLElement} html of the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map, html) {\r\n    this.map = map;\r\n    this.olMap = map.getMapImpl();\r\n\r\n    super.addTo(map, html);\r\n  }\r\n}\r\n","/**\r\n * @module M/control/TimelineControl\r\n */\r\n\r\nimport TimelineImplControl from 'impl/cptimelinecontrol';\r\nimport template from 'templates/cptimeline';\r\nimport { getValue } from './i18n/language';\r\n\r\nexport default class TimelineControl extends M.Control {\r\n  /**\r\n   * @classdesc\r\n   * Main constructor of the class. Creates a PluginControl\r\n   * control\r\n   *\r\n   * @constructor\r\n   * @extends {M.Control}\r\n   * @api stable\r\n   */\r\n  constructor(options) {\r\n    // 1. checks if the implementation can create PluginControl\r\n    if (M.utils.isUndefined(TimelineImplControl)) {\r\n      M.exception(getValue('exception'));\r\n    }\r\n    // 2. implementation of this control\r\n    const impl = new TimelineImplControl();\r\n    super(impl, 'Timeline');\r\n    this.running = false;\r\n    this.animation = options.animation;\r\n    this.speed = options.speed;\r\n    this.intervals = options.intervals;\r\n    /**\r\n     * Template\r\n     * @public\r\n     * @type { HTMLElement }\r\n     */\r\n    this.template = null;\r\n  }\r\n\r\n  /**\r\n   * This function creates the view\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the control\r\n   * @api stable\r\n   */\r\n  createView(map) {\r\n    this.map = map;\r\n    return new Promise((success, fail) => {\r\n      let intervals = [];\r\n      this.intervals.forEach((interval, k) => {\r\n        const layer = this.transformToLayers(interval[2]);\r\n        const copy = this.getMapLayer(layer);\r\n        if (copy !== undefined) {\r\n          this.map.removeLayers(copy);\r\n        }\r\n        this.map.addLayers(layer);\r\n        let iv = {\r\n          number: k,\r\n          name: interval[0],\r\n          tag: interval[1],\r\n          service: layer\r\n        }\r\n        intervals.push(iv);\r\n      });\r\n      this.intervals = intervals;\r\n      this.template = M.template.compileSync(template, {\r\n        vars: {\r\n          translations: {\r\n            title: getValue('titleTimeline'),\r\n            play: getValue('play'),\r\n          }\r\n        }\r\n      });\r\n      this.intervals.forEach((interval, k) => {\r\n        let tag = document.createElement('div');\r\n        if (k != 0 && k != this.intervals.length - 1 && k != parseInt(this.intervals.length / 2)) {\r\n          tag.dataset.tag = '';\r\n        } else {\r\n          tag.dataset.tag = interval.tag;\r\n        }\r\n        this.template.querySelector('.slider-tags').append(tag);\r\n      });\r\n      this.template.querySelector('.div-m-timeline-panel').style.setProperty('--num', this.intervals.length);\r\n      const slider = this.template.querySelector('#input-slider');\r\n      slider.setAttribute('max', intervals.length - 1);\r\n      slider.addEventListener('input', (e) => this.changeSlider(slider));\r\n      slider.addEventListener('change', (e) => {\r\n        document.querySelector('.m-timeline-button button').classList.add('cp-control-siguiente');\r\n        document.querySelector('.m-timeline-button button').classList.remove('cp-control-pausa');\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '0');\r\n        clearTimeout(this.running);\r\n        this.running = false;\r\n      });\r\n      const play = this.template.querySelector('#m-timeline-play');\r\n      play.addEventListener('click', (e) => this.playTimeline(false));\r\n      success(this.template);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Transform StringLayers to Mapea M.Layer\r\n   * \r\n   * WMTS*http://www.ign.es/wmts/pnoa-ma?*OI.OrthoimageCoverage*EPSG:25830*PNOA\r\n   * WMS*IGN*http://www.ign.es/wms-inspire/ign-base*IGNBaseTodo\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @param {string}\r\n   * @return\r\n   */\r\n  transformToLayers(layer) {\r\n    let newLayer = null;\r\n    if (!(layer instanceof Object)) {\r\n      if (layer.indexOf('*') >= 0) {\r\n        const urlLayer = layer.split('*');\r\n        if (urlLayer[0].toUpperCase() == 'WMS') {\r\n          newLayer = new M.layer.WMS({\r\n            url: urlLayer[2],\r\n            name: urlLayer[3]\r\n          });\r\n        } else if (urlLayer[0].toUpperCase() == 'WMTS') {\r\n          newLayer = new M.layer.WMTS({\r\n            url: urlLayer[2],\r\n            name: urlLayer[3]\r\n          });\r\n        }\r\n      } else {\r\n        const layerByName = this.map.getLayers().filter(l => layer.includes(l.name))[0];\r\n        newLayer = this.isValidLayer(layerByName) ? layerByName : null;\r\n      }\r\n    } else if (layer instanceof Object) {\r\n      const layerByObject = this.map.getLayers().filter(l => layer.name.includes(l.name))[0];\r\n      newLayer = this.isValidLayer(layerByObject) ? layerByObject : null;\r\n    }\r\n    if (newLayer !== null) {\r\n      newLayer.displayInLayerSwitcher = false;\r\n      newLayer.setVisible(false);\r\n      return newLayer\r\n    } else {\r\n      this.map.removeLayers(layer);\r\n    }\r\n  }\r\n\r\n  /** This function change layers and show layer name when slider moves\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @return\r\n   */\r\n  changeSlider(elem) {\r\n    document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '0');\r\n    const left = (((elem.value - elem.min) / (elem.max - elem.min)) * ((256 - 5) - 5)) + 5;\r\n    document.querySelector('.div-m-timeline-slider').style.setProperty('--left', left + 'px');\r\n    if(this.animation || this.intervals[0].name !== ''){\r\n      document.querySelector('.m-timeline-names').style.display = 'block';\r\n    }\r\n    if (this.animation) {\r\n      document.querySelector('.m-timeline-button').style.display = 'block';\r\n    }\r\n    let step = parseFloat(elem.value);\r\n    this.intervals.forEach((interval) => {\r\n      this.getMapLayer(interval.service).setVisible(false);\r\n      document.querySelector('.m-timeline-names').innerHTML = '';\r\n    });\r\n    if (step % 1 == 0) {\r\n      document.querySelector('.div-m-timeline-slider').style.setProperty('--left', left + 20 + 'px');\r\n      this.getMapLayer(this.intervals[step].service).setVisible(true);\r\n      document.querySelector('.m-timeline-names').innerHTML = this.intervals[step].name;\r\n      document.querySelector('.div-m-timeline-panel').style.setProperty('--valor', '\"' + this.intervals[step].tag + '\"')\r\n      if (this.intervals[step].tag !== '') {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '1');\r\n      } else {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '0');\r\n      }\r\n    } else {\r\n      this.getMapLayer(this.intervals[parseInt(step)].service).setVisible(true);\r\n      this.getMapLayer(this.intervals[parseInt(step) + 1].service).setVisible(true);\r\n      if (this.intervals[parseInt(step)].tag !== '' && this.intervals[parseInt(step) + 1].tag !== '') {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--left', left + 'px');\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '1');\r\n        document.querySelector('.div-m-timeline-panel').style.setProperty('--valor', '\"' + this.intervals[parseInt(step)].tag + ' - ' + this.intervals[parseInt(step) + 1].tag + '\"');\r\n        document.querySelector('.m-timeline-names').innerHTML = this.intervals[parseInt(step)].name + ' y ' + this.intervals[parseInt(step) + 1].name;\r\n      } else if (this.intervals[parseInt(step)].tag === '' && this.intervals[parseInt(step) + 1].tag === '') {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '0');\r\n      } else {\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--left', left + 20 + 'px');\r\n        document.querySelector('.div-m-timeline-slider').style.setProperty('--opacity', '10');\r\n        document.querySelector('.m-timeline-names').innerHTML = this.intervals[parseInt(step)].name + this.intervals[parseInt(step) + 1].name;\r\n        document.querySelector('.div-m-timeline-panel').style.setProperty('--valor', '\"' + this.intervals[parseInt(step)].tag + this.intervals[parseInt(step) + 1].tag + '\"');\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  /** This function search a layer in the map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @return\r\n   */\r\n  getMapLayer(layerSearch) {\r\n    return this.map.getLayers().filter(layer => layer.getImpl().legend === layerSearch.getImpl().legend)[0];\r\n  }\r\n\r\n  /** This function make the play animation\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   * @return\r\n   */\r\n  playTimeline(next) {\r\n    const start = 0;\r\n    const end = this.intervals.length - 1;\r\n    const slider = document.querySelector('#input-slider');\r\n    let step = parseInt(slider.value);\r\n    if (this.running) {\r\n      document.querySelector('.m-timeline-button button').classList.add('cp-control-siguiente');\r\n      document.querySelector('.m-timeline-button button').classList.remove('cp-control-pausa');\r\n      clearTimeout(this.running);\r\n    }\r\n    if (!next) {\r\n      if (step > start && step < end && this.running) {\r\n        this.running = false;\r\n        return;\r\n      }\r\n      if (step > end) {\r\n        step = start;\r\n      }\r\n    }\r\n    if (step >= end) {\r\n      slider.value = 0;\r\n      this.changeSlider(slider);\r\n      return;\r\n    }\r\n    if (step < start) {\r\n      step = start;\r\n    }\r\n    slider.value = parseFloat(slider.value) + 1;\r\n    this.changeSlider(slider);\r\n    document.querySelector('.m-timeline-button button').classList.remove('cp-control-siguiente');\r\n    document.querySelector('.m-timeline-button button').classList.add('cp-control-pausa');\r\n    this.running = setTimeout((e) => this.playTimeline(true), this.speed * 1000);\r\n  }\r\n\r\n  /**\r\n   * This function remove the timeline layers\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  removeTimelineLayers() {\r\n    clearInterval(this.running);\r\n    this.intervals.forEach((interval) => {\r\n      this.map.removeLayers(this.getMapLayer(interval.service));\r\n    })\r\n  }\r\n\r\n  \r\n  /**\r\n   * Activate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  activate() {\r\n    this.control_.activate();\r\n  }\r\n\r\n  /**\r\n   * Desactivate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  deactivate() {\r\n    clearInterval(this.running);\r\n    this.running = false;\r\n    document.querySelector('.m-timeline-button button').classList.add('cp-control-siguiente');\r\n    document.querySelector('.m-timeline-button button').classList.remove('cp-control-pausa');\r\n    this.intervals.forEach((interval) => {\r\n      this.getMapLayer(interval.service).setVisible(false);\r\n    })\r\n  }\r\n\r\n  /**\r\n   * This function compares controls\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Control} control to compare\r\n   * @api stable\r\n   * @return {Boolean}\r\n   */\r\n  equals(control) {\r\n    return control instanceof TimelineControl;\r\n  }\r\n}\r\n","/**\r\n * @module M/plugin/Timeline\r\n */\r\nimport 'assets/css/cptimeline';\r\nimport TimelineControl from './cptimelinecontrol';\r\nimport api from '../../api';\r\nimport { getValue } from './i18n/language';\r\n\r\nexport default class Timeline extends M.Plugin {\r\n  /**\r\n   * @classdesc\r\n   * Main facade plugin object. This class creates a plugin\r\n   * object which has an implementation Object\r\n   *\r\n   * @constructor\r\n   * @extends {M.Plugin}\r\n   * @param {Object} impl implementation object\r\n   * @api stable\r\n   */\r\n  constructor(options = {}) {\r\n    super();\r\n\r\n    /**\r\n     * Name plugin\r\n     * @private\r\n     * @type {String}\r\n     */\r\n    this.name_ = 'timeline';\r\n\r\n    /**\r\n     * Facade of the map\r\n     * @private\r\n     * @type {M.Map}\r\n     */\r\n    this.map_ = null;\r\n\r\n    /**\r\n     * Array of controls\r\n     * @private\r\n     * @type {Array<M.Control>}\r\n     */\r\n    this.controls_ = [];\r\n\r\n    /**\r\n     * Class name of the html view Plugin\r\n     * @public\r\n     * @type {string}\r\n     */\r\n    this.className = 'm-plugin-timeline';\r\n\r\n    /**\r\n     * Position of the Plugin\r\n     * @public\r\n     * @type {String}\r\n     */\r\n    this.position = 'TR';\r\n\r\n    /**\r\n     * Intervals\r\n     * @public\r\n     * Value: Array with each interval attributes [name, tag, service]\r\n     * @type {String}\r\n     */\r\n    if (options !== undefined) {\r\n      if (M.utils.isString(options.intervals)) {\r\n        this.intervals = JSON.parse(options.intervals.replace(/!!/g, '[').replace(/¡¡/g, ']'));\r\n      } else if (M.utils.isArray(options.intervals)) {\r\n        this.intervals = options.intervals;\r\n      } else {\r\n        M.dialog.error(getValue('intervals_error'));\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Animation of the timeline\r\n     * @public\r\n     * Value: true / false\r\n     * @type {boolean}\r\n     */\r\n    this.animation = options.animation;\r\n    if (this.animation === undefined) this.animation = true;\r\n\r\n    /**\r\n     * Speed of animation\r\n     * @public\r\n     * Value: 1 - 100\r\n     * @type {number}\r\n     */\r\n    this.speed = parseFloat(options.speed) || 1;\r\n\r\n    /**\r\n     * Metadata from api.json\r\n     * @private\r\n     * @type {Object}\r\n     */\r\n    this.metadata_ = api.metadata;\r\n\r\n    /**\r\n     *@private\r\n     *@type { string }\r\n     */\r\n    this.tooltip_ = options.tooltip || getValue('tooltip');\r\n  }\r\n\r\n  /**\r\n   * This function adds this plugin into the map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map the map to add the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map) {\r\n    this.control_ = new TimelineControl({\r\n      intervals: this.intervals,\r\n      animation: this.animation,\r\n      speed: this.speed,\r\n    });\r\n    this.controls_.push(this.control_);\r\n    this.map_ = map;\r\n    this.panel_ = new M.ui.Panel('panelTimeline', {\r\n      collapsible: true,\r\n      position: M.ui.position[this.position],\r\n      className: this.className,\r\n      collapsedButtonClass: 'timeline-gestion-reloj2',\r\n      tooltip: this.tooltip_,\r\n    });\r\n    this.panel_.addControls(this.controls_);\r\n    map.addPanels(this.panel_);\r\n  }\r\n\r\n\r\n  /**\r\n   * This function destroys this plugin\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  destroy() {\r\n    this.control_.removeTimelineLayers();\r\n    this.map_.removeControls([this.control_]);\r\n    [this.control_, this.panel_, this.map_, this.layers, this.radius] = [null, null, null, null, null];\r\n  }\r\n\r\n  /**\r\n   * This function gets name plugin\r\n   * @getter\r\n   * @public\r\n   * @returns {string}\r\n   * @api stable\r\n   */\r\n  get name() {\r\n    return this.name_;\r\n  }\r\n\r\n  /**\r\n   * This function gets metadata plugin\r\n   *\r\n   * @public\r\n   * @getter\r\n   * @api stable\r\n   * @return {Object}\r\n   */\r\n  getMetadata() {\r\n    return this.metadata_;\r\n  }\r\n\r\n  /**\r\n   * Get the API REST Parameters of the plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  getAPIRest() {\r\n    const intervals = JSON.stringify(this.intervals).replace(/\\[/g, '!!').replace(/\\]/g, '¡¡');\r\n    return `${this.name}=${this.position}*!${intervals}*!${this.animation}*!${this.speed}`;\r\n  }\r\n\r\n  /**\r\n   * Activate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  activate() {\r\n    this.control_.activate();\r\n  }\r\n\r\n  /**\r\n   * Desactivate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  deactivate() {\r\n    this.control_.deactivate();\r\n  }\r\n\r\n  /**\r\n   * This\r\n   function compare\r\n   if pluging recieved by param is instance of M.plugin.Timeline\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.plugin} plugin to compare\r\n   * @api stable\r\n   */\r\n  equals(plugin) {\r\n    if (plugin instanceof Timeline) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","/**\n * @module M/impl/control/LyrcompareInteraction\n\n */\nexport default class LyrcompareInteraction extends ol.interaction.Pointer {\n  /**\n   * @classdesc\n   * Main constructor of the LyrcompareInteraction.\n   *\n   * @constructor\n   * @extends {ol.interaction.Pointer}\n   * @api stable\n   */\n  constructor(options) {\n    super(options);\n    this.layers_ = [];\n\n    this.swipeClicked = false;\n\n    ol.interaction.Pointer.call(this, {\n      handleDownEvent: this.setPosition,\n      handleUpEvent: () => this.swipeClicked = false,\n      handleMoveEvent: this.setPosition,\n    });\n\n    // Default options\n    const optionsE = options || {};\n\n    this.pos = false;\n    this.opacityVal = (optionsE.opacityVal || 100);\n\n    const layerA = [optionsE.lyrA].map(layer => layer.getImpl().getOL3Layer()).filter(layer => layer != null);\n    this.addLayerA(layerA);\n\n    const layerB = [optionsE.lyrB].map(layer => layer.getImpl().getOL3Layer()).filter(layer => layer != null);\n    this.addLayerB(layerB);\n\n    if (optionsE.lyrC !== undefined && optionsE.lyrD !== undefined) {\n      const layerC = [optionsE.lyrC].map(layer => layer.getImpl().getOL3Layer()).filter(layer => layer != null);\n      this.addLayerC(layerC);\n\n      const layerD = [optionsE.lyrD].map(layer => layer.getImpl().getOL3Layer()).filter(layer => layer != null);\n      this.addLayerD(layerD);\n    }\n  }\n\n  /** Set the map > start postcompose\n   */\n\n  setMap(map) {\n    if (this.getMap()) {\n      for (let i = 0; i < this.layers_.length; i += 1) {\n        if (this.layers_[i].precompose) ol.Observable.unByKey(this.layers_[i].precompose);\n        if (this.layers_[i].postcompose) ol.Observable.unByKey(this.layers_[i].postcompose);\n        this.layers_[i].precompose = this.layers_[i].postcompose = null;\n      }\n      this.getMap().renderSync();\n    }\n    ol.interaction.Pointer.prototype.setMap.call(this, map);\n    if (map) {\n      this.createSwipeControl();\n      this.layers_[0].precompose = this.layers_[0].on('precompose', this.precomposeA_.bind(this));\n      this.layers_[0].postcompose = this.layers_[0].on('postcompose', this.postcomposeA_.bind(this));\n      this.layers_[1].precompose = this.layers_[1].on('precompose', this.precomposeB_.bind(this));\n      this.layers_[1].postcompose = this.layers_[1].on('postcompose', this.postcomposeB_.bind(this));\n      if (this.layers_[2] !== undefined && this.layers_[3] !== undefined) {\n        this.layers_[2].precompose = this.layers_[2].on('precompose', this.precomposeC_.bind(this));\n        this.layers_[2].postcompose = this.layers_[2].on('postcompose', this.postcomposeC_.bind(this));\n        this.layers_[3].precompose = this.layers_[3].on('precompose', this.precomposeD_.bind(this));\n        this.layers_[3].postcompose = this.layers_[3].on('postcompose', this.postcomposeD_.bind(this));\n      }\n      map.renderSync();\n    }\n  }\n\n  /** \n   * Set opacity level\n   * \n   * @param {integer} opacityVal\n   */\n  setOpacity(opacityVal) {\n    this.opacityVal = opacityVal;\n    if (this.getMap()) {\n      for (let i = 0; i < this.layers_.length; i += 1) {\n        this.layers_[i].setOpacity(this.opacityVal / 100);\n      }\n    }\n  }\n\n  /** \n   * Set param staticDivision\n   * \n   * @param {integer} staticDivision\n   */\n  setStaticDivision(staticDivision) {\n    this.staticDivision = staticDivision;\n    this.updatePosition();\n  }\n\n  /** \n   * Set param comparisonMode\n   * \n   * @param {integer} comparisonMode\n   */\n  setComparisonMode(comparisonMode) {\n    this.comparisonMode = comparisonMode;\n    this.updatePosition();\n  }\n\n  /**\n   * Set Visibility on layers C & D\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  setVisibilityLayersCD() {\n    if ((this.layers_[2] !== undefined && this.layers_[3] !== undefined) && (this.comparisonMode === 1 || this.comparisonMode === 2)) {\n      this.layers_[2].setVisible(false);\n      this.layers_[3].setVisible(false);\n    } else if (this.layers_[2] !== undefined && this.layers_[3] !== undefined) {\n      this.layers_[2].setVisible(true);\n      this.layers_[3].setVisible(true);\n    }\n  }\n\n\n  /** \n   * Add Layer A to clip\n   * \n   * @param {ol.layer|Array<ol.layer>} layer to clip\n   */\n  addLayerA(layers) {\n\n    if (!(layers instanceof Array)) layers = [layers];\n    const l = {\n      layer: layers[0]\n    };\n    if (this.getMap()) {\n      l.precompose = layers[0].on('precompose', this.precomposeA_.bind(this));\n      l.postcompose = layers[0].on('postcompose', this.postcomposeA_.bind(this));\n      this.getMap().renderSync();\n    }\n    this.layers_.push(layers[0]);\n  }\n\n  /** \n   * Add Layer B to clip\n   * \n   * @param {ol.layer|Array<ol.layer>} layer to clip\n   */\n  addLayerB(layers) {\n    if (!(layers instanceof Array)) layers = [layers];\n    const l = {\n      layer: layers[0]\n    };\n    if (this.getMap()) {\n      l.precompose = layers[0].on('precompose', this.precomposeB_.bind(this));\n      l.postcompose = layers[0].on('postcompose', this.postcomposeB_.bind(this));\n      this.getMap().renderSync();\n    }\n    this.layers_.push(layers[0]);\n  }\n\n  /** \n   * Add Layer C to clip\n   * \n   * @param {ol.layer|Array<ol.layer>} layer to clip\n   */\n  addLayerC(layers) {\n    if (!(layers instanceof Array)) layers = [layers];\n    const l = {\n      layer: layers[0]\n    };\n    if (this.getMap()) {\n      l.precompose = layers[0].on('precompose', this.precomposeC_.bind(this));\n      l.postcompose = layers[0].on('postcompose', this.postcomposeC_.bind(this));\n      this.getMap().renderSync();\n    }\n    this.layers_.push(layers[0]);\n  }\n\n  /** \n   * Add Layer C to clip\n   * \n   * @param {ol.layer|Array<ol.layer>} layer to clip\n   */\n  addLayerD(layers) {\n    if (!(layers instanceof Array)) layers = [layers];\n    const l = {\n      layer: layers[0]\n    };\n    if (this.getMap()) {\n      l.precompose = layers[0].on('precompose', this.precomposeD_.bind(this));\n      l.postcompose = layers[0].on('postcompose', this.postcomposeD_.bind(this));\n      this.getMap().renderSync();\n    }\n    this.layers_.push(layers[0]);\n\n  }\n\n  /**\n   *  Remove a layer to clip\n   * \n   * @param {ol.layer|Array<ol.layer>} layer to clip\n   */\n  removeLayer(layers) {\n\n    if (!(layers instanceof Array)) {\n      layers = [layers];\n    }\n    for (let i = 0; i < layers.length; i += 1) {\n      let k;\n      for (k = 0; k < this.layers_.length; k += 1) {\n        if (this.layers_[k] === layers[i]) {\n          break;\n        }\n      }\n      if (k !== this.layers_.length && this.getMap()) {\n        if (this.layers_[k].precompose) ol.Observable.unByKey(this.layers_[k].precompose);\n        if (this.layers_[k].postcompose) ol.Observable.unByKey(this.layers_[k].postcompose);\n        this.layers_.splice(k, 1);\n        this.getMap().renderSync();\n      }\n    }\n  }\n\n  /**\n   *  Set position of the clip\n   * \n   * @param {ol.Pixel|ol.MapBrowserEvent}\n   */\n  setPosition(e) {\n    if ((this.staticDivision === 2 && this.swipeClicked) || this.staticDivision !== 2) {\n      if (e.pixel) {\n        this.pos = e.pixel;\n      } else if (e && e instanceof Array) {\n        this.pos = e;\n      } else {\n        e = [-10000000, -10000000];\n      }\n      if (this.staticDivision === 2 && e.pointerEvent.buttons !== 1) {\n        const lienzoMapa = this.map_.getSize();\n        this.pos = [lienzoMapa[0] / 2, lienzoMapa[1] / 2];\n        this.swipeClicked = false;\n      }\n      if (this.getMap()) this.getMap().renderSync();\n      this.moveSwipeControl();\n    }\n  }\n  /**\n   *  Update position of the clip\n   * \n   */\n  updatePosition() {\n    const swipeControl = document.querySelector('.lyrcompare-swipe-control');\n    if (swipeControl) {\n      if (this.comparisonMode == 1) {\n        swipeControl.classList = 'lyrcompare-swipe-control vertical' + (this.staticDivision == 1 ? ' static' : ' dynamic');\n      } else if (this.comparisonMode == 2) {\n        swipeControl.classList = 'lyrcompare-swipe-control horizontal' + (this.staticDivision == 1 ? ' static' : ' dynamic');\n      } else if (this.comparisonMode == 3) {\n        swipeControl.classList = 'lyrcompare-swipe-control vertical horizontal' + (this.staticDivision == 1 ? ' static' : ' dynamic');\n      }\n    }\n    if (this.getMap()) {\n      const lienzoMapa = this.map_.getSize();\n      swipeControl.style.left = (lienzoMapa[0] / 2) - (swipeControl.offsetWidth / 2) + 'px';\n      swipeControl.style.top = (lienzoMapa[1] / 2) - (swipeControl.offsetHeight / 2) + 'px';\n      this.pos = [lienzoMapa[0] / 2, lienzoMapa[1] / 2];\n      this.swipeClicked = false;\n      this.getMap().renderSync();\n    }\n  }\n\n  /* @private\n     */\n  precomposeA_(e) {\n    const ctx = e.context;\n    const ratio = e.frameState.pixelRatio;\n    const lienzoMapa = this.map_.getSize();\n    let margenClip = 0; //Stroke size in pixels.\n    //e2m: Canvas size --> lienzoMapa\n    //e2m: Mouse coordinates --> this.pos\n    ctx.save();\n    ctx.beginPath();\n    if (this.staticDivision == 1) {\n      if (this.comparisonMode == 1) {\n        ctx.rect(0, 0, lienzoMapa[0] / 2 * ratio - margenClip * ratio, lienzoMapa[1]); //e2m: left fixed\n      } else if (this.comparisonMode == 2) {\n        ctx.rect(0, 0, lienzoMapa[0], lienzoMapa[1] * ratio / 2 - margenClip * ratio);//e2m: up fixed\n      } else if (this.comparisonMode == 3) {\n        ctx.rect(0, 0, lienzoMapa[0] / 2 * ratio - margenClip * ratio, lienzoMapa[1] / 2);//e2m: up&left fixed\n      }\n    }\n    else {\n      if (this.comparisonMode == 1) {\n        ctx.rect(0, 0, this.pos[0] - margenClip * ratio, lienzoMapa[1]); //e2m: left dynamic\n      } else if (this.comparisonMode == 2) {\n        ctx.rect(0, 0, ctx.canvas.width, this.pos[1] * ratio - margenClip * ratio);  //e2m: up dynamic\n      } else if (this.comparisonMode == 3) {\n        ctx.rect(0, 0, this.pos[0] - margenClip * ratio, this.pos[1] - margenClip * ratio);  //e2m: up&left dynamic\n      }\n    }\n\n    /**\n     * \n     * e2m: con esto podemos pintar una línea de color para contornear la capa. Pero no queda bien\n     * \n     */\n    if (margenClip > 0) {\n      ctx.lineWidth = 2 * margenClip * ratio;\n      ctx.strokeStyle = 'rgba(0, 102, 204, 0.9)';\n      ctx.stroke();\n    }\n    ctx.clip();\n  }\n\n  /* @private\n   */\n  postcomposeA_(e) {\n    e.context.restore();\n  }\n\n  /* @private\n   */\n  precomposeB_(e) {\n\n    const ctx = e.context;\n    const ratio = e.frameState.pixelRatio;\n    const lienzoMapa = this.map_.getSize();\n    let margenClip = 0; //Stroke size in pixels.\n    //e2m: Canvas size --> lienzoMapa\n    //e2m: Mouse coordinates --> this.pos\n    ctx.save();\n    ctx.beginPath();\n    if (this.staticDivision == 1) {\n      if (this.comparisonMode == 1) {\n        ctx.rect(lienzoMapa[0] * ratio / 2 + margenClip * ratio, 0, ctx.canvas.width - lienzoMapa[0] * ratio / 2, lienzoMapa[1]); //e2m: Right fixed\n      } else if (this.comparisonMode == 2) {\n        ctx.rect(0, lienzoMapa[1] * ratio / 2 + margenClip * ratio, ctx.canvas.width, ctx.canvas.height - lienzoMapa[1] * ratio / 2); //e2m: Down fixed\n      } else if (this.comparisonMode == 3) {\n        ctx.rect(lienzoMapa[0] * ratio / 2, 0, ctx.canvas.width - lienzoMapa[0] * ratio / 2, lienzoMapa[1] / 2); //e2m: up&right fixed\n      }\n    } else {\n      if (this.comparisonMode == 1) {\n        ctx.rect(this.pos[0], 0, lienzoMapa[0] - this.pos[0], lienzoMapa[1]); //e2m: Right dynamic\n      } else if (this.comparisonMode == 2) {\n        ctx.rect(0, this.pos[1], ctx.canvas.width, ctx.canvas.height - this.pos[1]); //e2m: Down dynamic\n      } else if (this.comparisonMode == 3) {\n        //ctx.rect(this.pos[0], 0, lienzoMapa[0] - this.pos[0], lienzoMapa[1]); //e2m: split screen three. maybe\n        ctx.rect(this.pos[0], 0, lienzoMapa[0] - this.pos[0], this.pos[1]); //e2m: up&right dynamic\n      }\n\n    }\n    if (margenClip > 0) {\n      ctx.lineWidth = 2 * margenClip * ratio;\n      ctx.strokeStyle = 'rgba(0, 102, 204, 0.9)';\n      ctx.stroke();\n    }\n    ctx.clip();\n\n\n  }\n\n  /* @private\n   */\n  postcomposeB_(e) {\n    e.context.restore();\n  }\n\n  precomposeC_(e) {\n    const ctx = e.context;\n    const ratio = e.frameState.pixelRatio;\n    const lienzoMapa = this.map_.getSize();\n    let margenClip = 0; //Stroke size in pixels.\n    //e2m: Canvas size --> lienzoMapa\n    //e2m: Mouse coordinates --> this.pos\n\n    ctx.save();\n    ctx.beginPath();\n    if (this.staticDivision == 1) {\n      if (this.comparisonMode == 3) {\n        ctx.rect(0, lienzoMapa[1] * ratio / 2, lienzoMapa[0] / 2 * ratio - margenClip * ratio, lienzoMapa[1]);  //e2m: down&left fixed\n      }\n    }\n    else {\n      if (this.comparisonMode == 3) {\n        ctx.rect(0, this.pos[1] * ratio, this.pos[0] * ratio - margenClip * ratio, (lienzoMapa[1] - this.pos[1]) * ratio - margenClip * ratio);  //e2m: down&left dynamic\n      }\n    }\n    if (margenClip > 0) {\n      ctx.lineWidth = 2 * margenClip * ratio;\n      ctx.strokeStyle = 'rgba(0, 102, 204, 0.9)';\n      ctx.stroke();\n    }\n    ctx.clip();\n  }\n\n  /* @private\n   */\n  postcomposeC_(e) {\n    e.context.restore();\n  }\n\n  precomposeD_(e) {\n    const ctx = e.context;\n    const ratio = e.frameState.pixelRatio;\n    const lienzoMapa = this.map_.getSize();\n    let margenClip = 0; //Stroke size in pixels.\n    //e2m: Canvas size --> lienzoMapa\n    //e2m: Mouse coordinates --> this.pos\n\n    ctx.save();\n    ctx.beginPath();\n    if (this.staticDivision == 1) {\n      if (this.comparisonMode == 3) {\n        ctx.rect(lienzoMapa[0] * ratio / 2, lienzoMapa[1] * ratio / 2, ctx.canvas.width * ratio / 2 - margenClip * ratio, ctx.canvas.height * ratio / 2 - margenClip * ratio); //e2m: down&right fixed\n      }\n    }\n    else {\n      if (this.comparisonMode == 3) {\n        ctx.rect(this.pos[0] * ratio, this.pos[1] * ratio, (ctx.canvas.width - this.pos[0]) * ratio - margenClip * ratio, (ctx.canvas.height - this.pos[1]) * ratio - margenClip * ratio); //e2m: down&right dynamic\n      }\n    }\n    if (margenClip > 0) {\n      ctx.lineWidth = 2 * margenClip * ratio;\n      ctx.strokeStyle = 'rgba(0, 102, 204, 0.9)';\n      ctx.stroke();\n    }\n    ctx.clip();\n  }\n\n  /* @private\n   */\n  postcomposeD_(e) {\n    e.context.restore();\n  }\n  /**\n   * Create the swipe indicator\n   * \n   */\n  createSwipeControl() {\n    let swipeControl;\n    let swipeIcon;\n    if (document.querySelector('.lyrcompare-swipe-control') == null) {\n      swipeControl = document.createElement('div');\n      swipeControl.classList.add('lyrcompare-swipe-control');\n      swipeIcon = document.createElement('div');\n      swipeIcon.classList.add('control-icon');\n      swipeControl.append(swipeIcon);\n      document.querySelector('.ol-overlaycontainer-stopevent').append(swipeControl);\n    } else {\n      swipeControl = document.querySelector('.lyrcompare-swipe-control');\n      swipeIcon = document.querySelector('.lyrcompare-swipe-control .control-icon');\n    }\n    swipeControl.addEventListener('mousedown', () => this.swipeClicked = true);\n    swipeControl.addEventListener('mouseup', () => this.swipeClicked = false);\n    swipeControl.addEventListener('touchstart', () => this.swipeClicked = true);\n    swipeControl.addEventListener('touchend', () => this.swipeClicked = false);\n    this.updatePosition();\n  }\n\n  /**\n  * Move the swipe indicator\n  * \n  */\n  moveSwipeControl() {\n    const lienzoMapa = this.map_.getSize();\n    const swipeControl = document.querySelector('.lyrcompare-swipe-control');\n    if (swipeControl && this.getMap()) {\n      if (this.staticDivision == 0 || this.staticDivision == 2) {\n        if (this.comparisonMode == 1) {\n          swipeControl.style.top = (lienzoMapa[1] / 2) - (swipeControl.offsetHeight / 2) + 'px';\n          swipeControl.style.left = (this.pos[0]) - (swipeControl.offsetWidth / 2) + 'px';\n        } else if (this.comparisonMode == 2) {\n          swipeControl.style.left = (lienzoMapa[0] / 2) - (swipeControl.offsetWidth / 2) + 'px';\n          swipeControl.style.top = (this.pos[1]) - (swipeControl.offsetHeight / 2) + 'px';\n        } else if (this.comparisonMode == 3) {\n          swipeControl.style.left = (this.pos[0]) - (swipeControl.offsetWidth / 2) + 'px';\n          swipeControl.style.top = (this.pos[1]) - (swipeControl.offsetHeight / 2) + 'px';\n        }\n      } else {\n        swipeControl.style.left = (lienzoMapa[0] / 2) - (swipeControl.offsetWidth / 2) + 'px';\n        swipeControl.style.top = (lienzoMapa[1] / 2) - (swipeControl.offsetHeight / 2) + 'px';\n      }\n    }\n  }\n\n  /**\n   * Activate or deactivate the interaction.\n   * @param {boolean} active Active.\n   * @observable\n   * @api\n   */\n  setActive(b) {\n    super.setActive(b);\n  }\n}","/**\n * @module M/impl/control/Lyrcomparecontrol\n */\nimport LyrcompareInteraction from 'impl/cplyrcompareinteraction';\n\n\nexport default class Lyrcomparecontrol extends M.impl.Control {\n  /**\n   * This function adds the control to the specified map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the plugin\n   * @param {HTMLElement} html of the plugin\n   * @api stable\n   */\n  addTo(map, html) {\n    // super addTo - don't delete\n    this.map = map;\n    this.olMap = map.getMapImpl();\n\n    super.addTo(map, html);\n  }\n\n  /**\n   * Effects on the layer\n   *\n   * @public\n   * @function\n   * @param { M.Layer } layer layer to which to assign an effect\n   * @param { Number } opacityVal nivel de opacidad\n   * @api stable\n   */\n  effectSelectedCurtain(lyrA, lyrB, lyrC, lyrD, opacityVal, staticDivision, comparisonMode) {\n\n    lyrA.setVisible(true);\n    lyrB.setVisible(true);\n\n    this.transparentInteraction_ = new LyrcompareInteraction({\n      opacityVal,\n      lyrA,\n      lyrB,\n      lyrC,\n      lyrD\n    });\n\n    this.olMap.addInteraction(this.transparentInteraction_);\n    this.setOpacity(opacityVal);\n    this.setComparisonMode(comparisonMode);\n    this.setStaticDivision(staticDivision);\n  }\n\n  /**\n   * Layer visibility\n   *\n   * @public\n   * @function\n   * @param { Number } opacityVal opacidad de las capas\n   * @api stable\n   */\n  setVisibilityLayersCD() {\n\n    if (this.transparentInteraction_ !== undefined) this.transparentInteraction_.setVisibilityLayersCD();\n\n  }\n\n  /**\n   * Layers opacity\n   *\n   * @public\n   * @function\n   * @param { Number } opacityVal opacidad de las capas\n   * @api stable\n   */\n  setOpacity(opacityVal) {\n\n    if (this.transparentInteraction_ !== undefined) this.transparentInteraction_.setOpacity(opacityVal);\n\n  }\n\n  /**\n     * Layers comparison mode\n     *\n     * @public\n     * @function\n     * @param { Number } comparisonMode opacidad de las capas\n     * @api stable\n     */\n  setComparisonMode(comparisonMode) {\n    if (this.transparentInteraction_ !== undefined) this.transparentInteraction_.setComparisonMode(comparisonMode);\n    this.setVisibilityLayersCD();\n\n  }\n\n  /**\n   * Set staticDivision\n   *\n   * @public\n   * @function\n   * @param { Number } staticDivision establece el tipo de división\n   * @api stable\n   */\n\n  setStaticDivision(staticDivision) {\n    if (this.transparentInteraction_ !== undefined) this.transparentInteraction_.setStaticDivision(staticDivision);\n  }\n\n  /**\n   * Set layer\n   *\n   * @public\n   * @function\n   * @param { M.layer } layer layer to assign effect\n   * @api stable\n   */\n  addLayer(layer) {\n    this.transparentInteraction_.addLayer(layer.getImpl().getOL3Layer());\n  }\n\n  /**\n   * Remove effects\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  removeEffectsCurtain() {\n    this.olMap.removeInteraction(this.transparentInteraction_);\n\n  }\n\n\n  /**\n   * Remove layer\n   *\n   * @public\n   * @function\n   * @param { M.layer } layer to remove\n   * @api stable\n   */\n  removeLayer(layer) {\n    this.transparentInteraction_.removeLayer(layer.getImpl().getOL3Layer());\n\n  }\n\n}\n","/**\n * @module M/control/LyrCompareControl\n */\n\nimport LyrcompareImplControl from 'impl/cplyrcomparecontrol';\nimport template from 'templates/cplyrcompare';\nimport {\n  getValue as getValueTranslate\n} from './i18n/language';\n\nArray.prototype.unique = function (a) {\n  return function () {\n    return this.filter(a)\n  }\n}(function (a, b, c) {\n  return c.indexOf(a, b + 1) < 0\n});\n\nexport default class LyrCompareControl extends M.Control {\n  /**\n   * @classdesc\n   * Main constructor of the class. Creates a PluginControl\n   * control\n   *\n   * @constructor\n   * @extends {M.Control}\n   * @api stable\n   */\n  constructor(values) {\n    // 1. checks if the implementation can create PluginControl\n    if (M.utils.isUndefined(LyrcompareImplControl)) {\n      M.exception('La implementación usada no puede crear controles LyrCompareControl');\n    }\n    // 2. implementation of this control\n    const impl = new LyrcompareImplControl();\n    super(impl, 'LyrCompare');\n\n    /**\n     * All layers\n     * @public\n     * @public {Array}\n     */\n    this.layers = values.layers;\n\n    /**\n     * Nivel de opacidad\n     * @private\n     * @type {Number}\n     */\n    this.opacityVal = values.opacityVal;\n\n    /**\n     * Layer selected A\n     * @public\n     * @type {M.layer}\n     */\n    this.layerSelectedA = null;\n\n    /**\n     * Layer selected B\n     * @public\n     * @type {M.layer}\n     */\n    this.layerSelectedB = null;\n\n    /**\n     * Layer selected C\n     * @public\n     * @type {M.layer}\n     */\n    this.layerSelectedC = null;\n\n    /**\n     * Layer selected D\n     * @public\n     * @type {M.layer}\n     */\n    this.layerSelectedD = null;\n\n    /**\n     * Template\n     * @public\n     * @type { HTMLElement }\n     */\n    this.template = null;\n\n    /**\n     * Static Division selected\n     * @private\n     * @type {Number}\n     */\n    this.staticDivision = values.staticDivision;\n\n    /**\n     * Opacity Value\n     * @private\n     * @type {Number}\n     */\n    this.opacityVal = values.opacityVal;\n\n    /**\n     * Comparison mode\n     * @private\n     * @type {Number}\n     */\n    this.comparisonMode = values.comparisonMode;\n\n    /**\n     * Layer A default\n     * @private\n     * @type {Number}\n     */\n    this.defaultLyrA = values.defaultLyrA;\n\n    /**\n     * Layer B default\n     * @private\n     * @type {Number}\n     */\n    this.defaultLyrB = values.defaultLyrB;\n\n    /**\n     * Layer C default\n     * @private\n     * @type {Number}\n     */\n    this.defaultLyrC = values.defaultLyrC;\n\n    /**\n     * Layer D default\n     * @private\n     * @type {Number}\n     */\n    this.defaultLyrD = values.defaultLyrD;\n\n    /** Show interface\n     *@public\n     *@type{boolean}\n     */\n    this.interface = values.interface;\n  }\n\n  /**\n   * This function creates the view\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the control\n   * @api stable\n   */\n  createView(map) {\n    if (this.interface === false || this.comparisonMode > 0) {\n      this.on(M.evt.ADDED_TO_MAP, (e) => {\n        this.activateCurtain();\n      })\n    }\n    this.map = map;\n    return new Promise((success, fail) => {\n      this.layers = this.transformToLayers(this.layers);\n      if (this.layers.length >= 2) {\n        if (this.comparisonMode === 3 && this.layers.length < 4) {\n          M.dialog.error(getValueTranslate('no_layers_plugin'), 'lyrcompare');\n          this.comparisonMode = 0;\n        }\n        let isLoad = this.allLayerLoad();\n        if (isLoad) {\n          this.setFunctionsAndCompile(success);\n        } else {\n          const idInterval = setInterval(() => {\n            isLoad = this.allLayerLoad();\n            if (isLoad) {\n              clearInterval(idInterval);\n              this.setFunctionsAndCompile(success);\n            }\n          },\n            200);\n        }\n      } else {\n        M.dialog.error(getValueTranslate('no_layers_plugin'), 'lyrcompare');\n      }\n    });\n  }\n\n  /**\n   * This function set plugin behavior and compile template\n   *\n   * @public\n   * @function\n   * @param { function } success to promise\n   * @api stable\n   */\n  setFunctionsAndCompile(success) {\n    let layers = this.layers.map(function (layer) {\n      return layer instanceof Object ? {\n        name: layer.name,\n        legend: layer.legend\n      } : {\n          name: layer,\n          legend: layer\n        };\n    });\n\n    const options = {\n      jsonp: true,\n      vars: {\n        options: layers,\n        comparisonMode: this.comparisonMode,\n        translations: {\n          tooltip_vcurtain: getValueTranslate('tooltip_vcurtain'),\n          tooltip_hcurtain: getValueTranslate('tooltip_hcurtain'),\n          tooltip_multicurtain: getValueTranslate('tooltip_multicurtain'),\n          opacity: getValueTranslate('opacity'),\n          static: getValueTranslate('static'),\n          dynamic: getValueTranslate('dynamic'),\n          mixed: getValueTranslate('mixed'),\n          layer: getValueTranslate('layer'),\n          opacity_tooltip: getValueTranslate('opacity_tooltip'),\n          static_tooltip: getValueTranslate('static_tooltip'),\n          dynamic_tooltip: getValueTranslate('dynamic_tooltip'),\n          mixed_tooltip: getValueTranslate('mixed_tooltip'),\n          lyrLeftSelect_tooltip: getValueTranslate('lyrLeftSelect_tooltip'),\n          lyrRightSelect_tooltip: getValueTranslate('lyrRightSelect_tooltip')\n        }\n      }\n    }\n\n    //config a helper in Handlebars for embedding conditionals in template\n    Handlebars.registerHelper('ifCond', function (v1, v2, options) {\n      if (v1 === v2) {\n        return options.fn(this);\n      }\n      return options.inverse(this);\n    });\n\n    //template with default options\n    this.template = M.template.compileSync(template, options);\n    this.setEventsAndValues();\n    this.updateControls();\n\n    if (this.layers.length == 0) {\n      M.dialog.error(getValueTranslate('no_layers_plugin'));\n    } else {\n      //e2m: Toogle activate/desactivate vcurtain, hcurtain, multicurtain ---> comparisonMode = 1, 2, 3\n      this.template.querySelectorAll('button[id^=\"m-lyrcompare-\"]')\n        .forEach((button, i) => {\n          button.addEventListener('click', evt => {\n            if (this.comparisonMode === 0) {\n              this.comparisonMode = i + 1;\n              this.activateCurtain();\n              return;\n            } else if (this.comparisonMode === i + 1) {\n              this.comparisonMode = 0;\n              this.deactivateCurtain();\n              return;\n            } else {\n              //Cambiamos de modo de visualización sin apagar/encender la interacción\n              this.comparisonMode = i + 1;\n              this.updateControls();\n              this.getImpl().setComparisonMode(this.comparisonMode);\n            }\n          })\n        });\n    }\n    return success(this.template);\n  }\n\n\n  /**\n   * This function set events and values to template\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  setEventsAndValues() {\n    //opacity control\n    this.template.querySelector('#input-transparent-opacity').value = this.opacityVal;\n    this.template.querySelector('#input-transparent-opacity').addEventListener('input', (evt) => {\n      this.opacityVal = Number(evt.target.value);\n      this.getImpl().setOpacity(this.opacityVal);\n    });\n\n    //division selector\n    if (this.staticDivision === 1) {\n      this.template.querySelector('#div-m-lyrcompare-transparent-static').checked = true;\n    } else if (this.staticDivision === 0) {\n      this.template.querySelector('#div-m-lyrcompare-transparent-dynamic').checked = true;\n    } else {\n      this.template.querySelector('#div-m-lyrcompare-transparent-mixed').checked = true;\n    }\n\n    this.template.querySelector('#div-m-lyrcompare-transparent-dynamic').addEventListener('change', (evt) => {\n      this.staticDivision = Number(evt.target.value);\n      this.getImpl().setStaticDivision(this.staticDivision);\n    });\n\n    this.template.querySelector('#div-m-lyrcompare-transparent-static').addEventListener('change', (evt) => {\n      this.staticDivision = Number(evt.target.value);\n      this.getImpl().setStaticDivision(this.staticDivision);\n    });\n\n    this.template.querySelector('#div-m-lyrcompare-transparent-mixed').addEventListener('change', (evt) => {\n      this.staticDivision = Number(evt.target.value);\n      this.getImpl().setStaticDivision(this.staticDivision);\n    });\n\n    this.template.querySelectorAll('select[id^=\"m-lyrcompare-\"]').forEach(item => {\n\n      item.addEventListener('change', evt => {\n\n        const layer = this.layers.filter(function (layer) {\n\n          return layer.name === evt.target.value\n\n        });\n\n        let lstLayers = [];\n\n        if (item.id === \"m-lyrcompare-lyrA\") {\n\n          lstLayers = [layer[0].name, this.layerSelectedB.name, this.layerSelectedC.name, this.layerSelectedD.name];\n\n        } else if (item.id === \"m-lyrcompare-lyrB\") {\n\n          lstLayers = [this.layerSelectedA.name, layer[0].name, this.layerSelectedC.name, this.layerSelectedD.name];\n\n        } else if (item.id === \"m-lyrcompare-lyrC\") {\n\n          lstLayers = [this.layerSelectedA.name, this.layerSelectedB.name, layer[0].name, this.layerSelectedD.name];\n\n        } else if (item.id === \"m-lyrcompare-lyrD\") {\n\n          lstLayers = [this.layerSelectedA.name, this.layerSelectedB.name, this.layerSelectedC.name, layer[0].name];\n\n        }\n\n        //e2m: de esta forma pasamos los parámetros en forma de array\n\n        if (this.checkLayersAreDifferent(...lstLayers) === false) {\n          M.dialog.info(getValueTranslate('advice_sameLayer'));\n          if (item.id === \"m-lyrcompare-lyrA\") {\n            this.template.querySelector('#' + item.id).value = this.layerSelectedA.name\n          } else if (item.id === \"m-lyrcompare-lyrB\") {\n            this.template.querySelector('#' + item.id).value = this.layerSelectedB.name\n          } else if (item.id === \"m-lyrcompare-lyrC\") {\n            this.template.querySelector('#' + item.id).value = this.layerSelectedC.name\n          } else if (item.id === \"m-lyrcompare-lyrD\") {\n            this.template.querySelector('#' + item.id).value = this.layerSelectedD.name\n          }\n          return false;\n        }\n\n        if (item.id === \"m-lyrcompare-lyrA\") {\n          if (layer[0].name === this.layerSelectedC.name) {\n            this.layerSelectedC.setVisible(false);\n            this.layerSelectedC = this.layerSelectedA;\n            this.template.querySelector('#m-lyrcompare-lyrC').value = this.layerSelectedA.name\n          }\n\n          if (layer[0].name === this.layerSelectedD.name) {\n            this.layerSelectedD.setVisible(false);\n            this.layerSelectedD = this.layerSelectedA;\n            this.template.querySelector('#m-lyrcompare-lyrD').value = this.layerSelectedA.name\n          }\n\n        } else if (item.id === \"m-lyrcompare-lyrB\") {\n          if (layer[0].name === this.layerSelectedC.name) {\n            this.layerSelectedC.setVisible(false);\n            this.layerSelectedC = this.layerSelectedB;\n            this.template.querySelector('#m-lyrcompare-lyrC').value = this.layerSelectedB.name\n          }\n\n          if (layer[0].name === this.layerSelectedD.name) {\n            this.layerSelectedD.setVisible(false);\n            this.layerSelectedD = this.layerSelectedB;\n            this.template.querySelector('#m-lyrcompare-lyrD').value = this.layerSelectedB.name\n          }\n\n        }\n        if (item.id === \"m-lyrcompare-lyrA\") {\n          this.layerSelectedA.setVisible(false);\n          this.layerSelectedA = layer[0];\n        } else if (item.id === \"m-lyrcompare-lyrB\") {\n          this.layerSelectedB.setVisible(false);\n          this.layerSelectedB = layer[0];\n\n        } else if (item.id === \"m-lyrcompare-lyrC\") {\n          this.layerSelectedC.setVisible(false);\n          this.layerSelectedC = layer[0];\n        } else if (item.id === \"m-lyrcompare-lyrD\") {\n          this.layerSelectedD.setVisible(false);\n          this.layerSelectedD = layer[0];\n        }\n        this.removeEffectsComparison();\n        this.getImpl().effectSelectedCurtain(this.layerSelectedA, this.layerSelectedB, this.layerSelectedC, this.layerSelectedD, this.opacityVal, this.staticDivision, this.comparisonMode);\n\n      })\n    })\n  }\n\n  /**\n   * This function checks selected layers are diferent\n   *\n   * @public\n   * @function\n   * @api stable\n   * @param { string } lyerA layer 1\n   * @param { string } lyerB layer 2\n   * @param { string } lyerC layer 3\n   * @param { string } lyerD layer 4\n\n   * @return {Boolean}\n   */\n  checkLayersAreDifferent(lyerA, lyerB, lyerC, lyerD) {\n    if ((this.comparisonMode === 1) || (this.comparisonMode === 2)) {\n      if (lyerA === lyerB) {\n        return false\n      }\n    } else {\n      let compLyers = [lyerA, lyerB, lyerC, lyerD];\n      if (compLyers.length !== compLyers.unique().length) {\n        return false\n      }\n    }\n    return true;\n  }\n\n  /**\n   * Activate Select/Input\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  activateCurtain() {\n    this.activeDefault();\n    this.getImpl().effectSelectedCurtain(this.layerSelectedA, this.layerSelectedB, this.layerSelectedC, this.layerSelectedD, this.opacityVal, this.staticDivision, this.comparisonMode);\n    this.updateControls();\n  }\n\n  /**\n   * Activate default values\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  activeDefault() {\n    if (this.layerSelectedA === null) {\n      this.layerSelectedA = this.layers[this.defaultLyrA];\n      this.template.querySelector('#m-lyrcompare-lyrA').selectedIndex = this.defaultLyrA;\n    }\n    if (this.layerSelectedB === null) {\n      this.layerSelectedB = this.layers[this.defaultLyrB];\n      this.template.querySelector('#m-lyrcompare-lyrB').selectedIndex = this.defaultLyrB;\n    }\n    if (this.layerSelectedC === null) {\n      this.layerSelectedC = this.layers[this.defaultLyrC];\n      this.template.querySelector('#m-lyrcompare-lyrC').selectedIndex = this.defaultLyrC;\n    }\n    if (this.layerSelectedD === null) {\n      this.layerSelectedD = this.layers[this.defaultLyrD];\n      this.template.querySelector('#m-lyrcompare-lyrD').selectedIndex = this.defaultLyrD;\n    }\n  }\n\n  /**\n   * Deactivate Select/Input\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  deactivateCurtain() {\n    const swipeControl = document.querySelector('.lyrcompare-swipe-control');\n    if (swipeControl) {\n      swipeControl.classList.display = 'none !important';\n    }\n    this.comparisonMode = 0;\n    if (this.layerSelectedA !== null && this.layerSelectedB !== null) {\n      this.layerSelectedA.setVisible(false);\n      this.layerSelectedB.setVisible(false);\n    }\n    if (this.layerSelectedC !== null && this.layerSelectedD !== null && this.layerSelectedC !== undefined && this.layerSelectedD !== undefined) {\n      this.layerSelectedC.setVisible(false);\n      this.layerSelectedD.setVisible(false);\n    }\n    this.removeEffectsComparison();\n    this.updateControls();\n  }\n\n\n  /**\n   * This function is called to remove the effects\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  removeEffectsComparison() {\n    this.getImpl().removeEffectsCurtain();\n  }\n\n  /**\n   * This procedure updates texts in controls\n   *\n   */\n  updateControls() {\n\n    this.removeActivate();\n    this.activateByMode();\n\n    const swapControl = document.querySelector('.lyrcompare-swipe-control');\n    if (this.comparisonMode == 0) {\n      this.template.querySelectorAll('select[id^=\"m-lyrcompare-\"]').forEach(item => {\n        item.disabled = true;\n      });\n      this.template.querySelector('input').disabled = true; //Deshabilita el range del radio\n      return;\n    } else if (this.comparisonMode === 1) {\n      if (swapControl) swapControl.style.opacity = '1';\n      this.template.querySelector('#m-lyrcompare-lyrA-lbl').classList.add(\"cp-columns-2\");\n      this.template.querySelector('#m-lyrcompare-lyrB-lbl').classList.add(\"cp-columns-1\");\n      this.template.querySelector('#m-lyrcompare-lyrA-cont').style.display = 'block';\n      this.template.querySelector('#m-lyrcompare-lyrB-cont').style.display = 'block';\n      this.template.querySelector('#m-lyrcompare-lyrA').disabled = false;\n      this.template.querySelector('#m-lyrcompare-lyrB').disabled = false;\n    } else if (this.comparisonMode === 2) {\n      if (swapControl) swapControl.style.opacity = '1';\n      this.template.querySelector('#m-lyrcompare-lyrA-lbl').classList.add(\"cp-columns-4\");\n      this.template.querySelector('#m-lyrcompare-lyrB-lbl').classList.add(\"cp-columns-3\");\n      this.template.querySelector('#m-lyrcompare-lyrA-cont').style.display = 'block';\n      this.template.querySelector('#m-lyrcompare-lyrB-cont').style.display = 'block';\n      this.template.querySelector('#m-lyrcompare-lyrA').disabled = false;\n      this.template.querySelector('#m-lyrcompare-lyrB').disabled = false;\n    } else if (this.comparisonMode === 3) {\n      if (swapControl) swapControl.style.opacity = '1';\n      this.template.querySelectorAll('select[id^=\"m-lyrcompare-\"]').forEach(item => {\n        item.disabled = false;\n      });\n      this.template.querySelector('#m-lyrcompare-lyrA-lbl').classList.add(\"cp-th-large-1\");\n      this.template.querySelector('#m-lyrcompare-lyrB-lbl').classList.add(\"cp-th-large-2\");\n      this.template.querySelector('#m-lyrcompare-lyrC-lbl').classList.add(\"cp-th-large-3\");\n      this.template.querySelector('#m-lyrcompare-lyrD-lbl').classList.add(\"cp-th-large-4\");\n\n      this.template.querySelector('#m-lyrcompare-lyrA-cont').style.display = 'block';\n      this.template.querySelector('#m-lyrcompare-lyrB-cont').style.display = 'block';\n      this.template.querySelector('#m-lyrcompare-lyrC-cont').style.display = 'block';\n      this.template.querySelector('#m-lyrcompare-lyrD-cont').style.display = 'block';\n    }\n    this.template.querySelector('input').disabled = false; //Habilita el range del radio\n  }\n\n  activateByMode() {\n    if (this.comparisonMode === 1) {\n      this.template.querySelector('#m-lyrcompare-vcurtain').classList.add('buttom-pressed-vcurtain'); //VCurtain pulsado\n    } else if (this.comparisonMode === 2) {\n      this.template.querySelector('#m-lyrcompare-hcurtain').classList.add('buttom-pressed-hcurtain'); //HCurtain pulsado\n    } else if (this.comparisonMode === 3) {\n      this.template.querySelector('#m-lyrcompare-multicurtain').classList.add('buttom-pressed-multicurtain'); //MultiCurtain pulsado\n    }\n  }\n\n\n  removeActivate() {\n    this.template.querySelector('#m-lyrcompare-vcurtain').classList.remove('buttom-pressed-vcurtain');\n    this.template.querySelector('#m-lyrcompare-hcurtain').classList.remove('buttom-pressed-hcurtain');\n    this.template.querySelector('#m-lyrcompare-multicurtain').classList.remove('buttom-pressed-multicurtain');\n    this.template.querySelectorAll('select[id^=\"m-lyrcompare-\"]').disabled = true;\n    this.template.querySelector('#m-lyrcompare-lyrA-cont').style.display = 'none';\n    this.template.querySelector('#m-lyrcompare-lyrB-cont').style.display = 'none';\n    this.template.querySelector('#m-lyrcompare-lyrC-cont').style.display = 'none';\n    this.template.querySelector('#m-lyrcompare-lyrD-cont').style.display = 'none';\n    this.template.querySelector('#m-lyrcompare-lyrA-lbl').classList = '';\n    this.template.querySelector('#m-lyrcompare-lyrB-lbl').classList = '';\n    const swapControl = document.querySelector('.lyrcompare-swipe-control');\n    if (swapControl) {\n      swapControl.style.opacity = '0';\n    }\n  }\n\n  /**\n   * This function remove the Curtain layers\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  removeCurtainLayers(layers) {\n    layers.forEach(layer => {\n      if (!(layer instanceof Object)) {\n        if (layer.indexOf('*') >= 0) {\n          const urlLayer = layer.split('*');\n          let name = urlLayer[3]\n          const layerByUrl = this.map.getLayers().filter(l => name.includes(l.name))[this.map.getLayers().filter(l => name.includes(l.name)).length - 1];\n          this.map.removeLayers(layerByUrl);\n\n        } else {\n          const layerByName = this.map.getLayers().filter(l => layer.includes(l.name))[this.map.getLayers().filter(l => layer.includes(l.name)).length - 1];\n          this.map.removeLayers(layerByName);\n        }\n      } else if (layer instanceof Object) {\n        const layerByObject = this.map.getLayers().filter(l => layer.name.includes(l.name))[this.map.getLayers().filter(l => layer.name.includes(l.name)).length - 1];\n        this.map.removeLayers(layerByObject);\n      }\n    });\n  }\n\n  allLayerLoad() {\n    if (this.layers[0].load === undefined || this.layers[1].load === undefined &&\n      (this.layers[2] !== undefined && this.layers[3] !== undefined && (this.layers[2].load === undefined || this.layers[3].load === undefined))) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  /**\n   * Transform StringLayers to Mapea M.Layer\n   * @public\n   * @function\n   * @api stable\n   * @param {string}\n   * @return\n   */\n  transformToLayers(layers) {\n    const transform = layers.map(function (layer) {\n      let newLayer = null;\n      if (!(layer instanceof Object)) {\n        if (layer.indexOf('*') >= 0) {\n          const urlLayer = layer.split('*');\n          if (urlLayer[0].toUpperCase() == 'WMS') {\n            newLayer = new M.layer.WMS({\n              url: urlLayer[2],\n              name: urlLayer[3]\n            });\n            if (this.map.getLayers().filter(l => newLayer.name.includes(l.name)).length > 0) {\n              //this.map.removeLayers(this.map.getLayers().filter(l => newLayer.name.includes(l.name))[0]);\n              newLayer = this.map.getLayers().filter(l => newLayer.name.includes(l.name))[0];\n            }else{\n              this.map.addLayers(newLayer);\n            }\n            \n          } else if (urlLayer[0].toUpperCase() == 'WMTS') {\n            newLayer = new M.layer.WMTS({\n              url: urlLayer[1],\n              name: urlLayer[2]\n            });\n            this.map.addLayers(newLayer);\n          }\n        } else {\n          const layerByName = this.map.getLayers().filter(l => layer.includes(l.name))[0];\n          newLayer = this.isValidLayer(layerByName) ? layerByName : null;\n        }\n      } else if (layer instanceof Object) {\n        const layerByObject = this.map.getLayers().filter(l => layer.name.includes(l.name))[0];\n        newLayer = this.isValidLayer(layerByObject) ? layerByObject : null;\n      }\n\n      if (newLayer !== null) {\n        if (newLayer.getImpl().getOL3Layer() === null) {\n          setTimeout(() => {\n            if (newLayer.type === 'WMS') {\n              newLayer.load = true;\n            } else if (newLayer.type === 'WMTS') {\n              newLayer.facadeLayer_.load = true;\n            }\n          }, 1000);\n        } else {\n          newLayer.load = true;\n        }\n        newLayer.displayInLayerSwitcher = false;\n        newLayer.setVisible(false);\n        return newLayer\n      } else {\n        this.layers.remove(layer);\n      }\n\n    }, this);\n    return (transform[0] === undefined) ? [] : transform;\n  }\n  /**\n   * This function transform string to M.Layer\n   *\n   * @public\n   * @function\n   * @api stable\n   * @param {string}\n   * @return {Boolean}\n   */\n  isValidLayer(layer) {\n    return layer.type === 'WMTS' || layer.type === 'WMS';\n  }\n\n  /**\n   * This function compares controls\n   *\n   * @public\n   * @function\n   * @param {M.Control} control to compare\n   * @api stable\n   * @return {Boolean}\n   */\n  equals(control) {\n    return control instanceof LyrCompareControl;\n  }\n\n  getLayersNames() {\n    return this.layers.map(l => l.name);\n  }\n\n\n}","/**\n * @module M/plugin/LyrCompare\n */\nimport 'assets/css/cplyrcompare';\nimport LyrCompareControl from './cplyrcomparecontrol';\nimport api from '../../api';\nimport {\n  getValue\n} from './i18n/language';\n\nexport default class LyrCompare extends M.Plugin {\n  /**\n   * @classdesc\n   * Main facade plugin object. This class creates a plugin\n   * object which has an implementation Object\n   *\n   * @constructor\n   * @extends {M.Plugin}\n   * @param {Object} options plugin configuration options\n   * @api stable\n   */\n  constructor(options = {}) {\n    super();\n\n    /**\n     * Name plugin\n     * @private\n     * @type {String}\n     */\n    this.name_ = 'lyrcompare';\n\n    /** Error control\n     *@private\n     *@type{boolean}\n     */\n    this.error_ = false;\n\n    /**\n     * Layer names that will have effects\n     * @public\n     * Value: the names separated with commas\n     * @type {Array<String>}\n     */\n    this.layers = [];\n    if (options.layers === undefined || options.layers.length < 2) {\n      M.dialog.error(getValue('no_layers_plugin'), 'lyrcompare');\n      this.error_ = true;\n    } else {\n      if (Array.isArray(options.layers)) {\n        this.layers = options.layers;\n      } else {\n        this.layers = options.layers.split(\",\");\n      }\n    }\n\n    /**\n     * Array of controls\n     * @private\n     * @type {Array<M.Control>}\n     */\n    this.controls_ = [];\n\n\n    /**\n     * Facade of the map\n     * @private\n     * @type {M.Map}\n     */\n    this.map_ = null;\n\n    if (this.error_ === false) {\n\n      /**\n       * Position of the Plugin\n       * @public\n       * @type {String}\n       */\n      this.position = 'TR';\n\n      /**\n       * Collapsed attribute\n       * @public\n       * @type {boolean}\n       */\n      this.collapsed = true;\n\n      /**\n       * Collapsible attribute\n       * @public\n       * @type {boolean}\n       */\n      this.collapsible = true;\n\n      /**\n       * staticDivision\n       * Value: number in range 0 - 1\n       * @type {number}\n       * @public\n       */\n      this.staticDivision = options.staticDivision === undefined ? 1 : parseInt(options.staticDivision);\n\n      /**\n       * Opacity\n       * Value: number in range 0 - 100\n       * @type {number}\n       * @public\n       */\n      if (options.opacityVal === undefined) {\n        this.opacityVal = 100;\n      } else {\n        this.opacityVal = parseInt(options.opacityVal);\n        if (this.opacityVal <= 0) {\n          this.opacityVal = 0;\n        } else if (this.opacityVal >= 100) {\n          this.opacityVal = 100;\n        }\n      }\n\n      /**\n       * Comparison Mode\n       * Value: number in range 0 - 3\n       * @type {number}\n       * @public\n       */\n      if (options.comparisonMode === undefined) {\n        this.comparisonMode = 0;\n      } else {\n        this.comparisonMode = parseInt(options.comparisonMode);\n        if (this.comparisonMode <= 0 || this.comparisonMode > 3) {\n          this.comparisonMode = 0;\n        }\n      }\n\n      /**\n       * Metadata from api.json\n       * @private\n       * @type {Object}\n       */\n      this.metadata_ = api.metadata;\n\n      /**\n       *@private\n       *@type { string }\n       */\n      this.tooltip_ = options.tooltip || getValue('tooltip');\n\n      /** Show interface\n       *@public\n       *@type{boolean}\n       */\n      this.interface = options.interface === undefined ? true : options.interface;\n\n      /**\n       * Default Layer A\n       * @type {number}\n       * @public\n       */\n      if (options.defaultLyrA === undefined) {\n        this.defaultLyrA = 0;\n      } else {\n        this.defaultLyrA = parseInt(options.defaultLyrA);\n      }\n\n      /**\n       * Default Layer B\n       * @type {number}\n       * @public\n       */\n      if (options.defaultLyrB === undefined) {\n        this.defaultLyrB = this.defaultLyrA !== 0 ? 0 : 1;\n      } else {\n        this.defaultLyrB = parseInt(options.defaultLyrB);\n      }\n      if (this.defaultLyrA === this.defaultLyrB) {\n        M.dialog.error(getValue('repeated_layers'), 'lyrcompare');\n        this.error_ = true;\n      }\n\n      /**\n       * Default Layer C\n       * @type {number}\n       * @public\n       */\n      if (options.defaultLyrC === undefined) {\n        this.defaultLyrC = 2;\n      } else {\n        this.defaultLyrC = parseInt(options.defaultLyrC);\n      }\n      if ((this.defaultLyrA === this.defaultLyrC) || (this.defaultLyrB === this.defaultLyrC)) {\n        M.dialog.error(getValue('repeated_layers'), 'lyrcompare');\n        this.error_ = true;\n      }\n\n      /**\n       * Default Layer D\n       * @type {number}\n       * @public\n       */\n      if (options.defaultLyrD === undefined) {\n        this.defaultLyrD = 3;\n      } else {\n        this.defaultLyrD = parseInt(options.defaultLyrD);\n      }\n      if ((this.defaultLyrA === this.defaultLyrD) || (this.defaultLyrB === this.defaultLyrD) || (this.defaultLyrC === this.defaultLyrD)) {\n        M.dialog.error(getValue('repeated_layers'), 'lyrcompare');\n        this.error_ = true;\n      }\n    }\n  }\n\n  /**\n   * This function adds this plugin into the map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map the map to add the plugin\n   * @api stable\n   */\n  addTo(map) {\n    this.map_ = map;\n    const values = {\n      layers: this.layers,\n      collapsible: this.collapsible,\n      collapsed: this.collapsed,\n      staticDivision: this.staticDivision,\n      opacityVal: this.opacityVal,\n      comparisonMode: this.comparisonMode,\n      defaultLyrA: this.defaultLyrA,\n      defaultLyrB: this.defaultLyrB,\n      defaultLyrC: this.defaultLyrC,\n      defaultLyrD: this.defaultLyrD,\n      interface: this.interface,\n    };\n    this.control_ = new LyrCompareControl(values);\n    this.controls_.push(this.control_);\n    if (this.error_) {\n      const plugin = map.getPlugins('lyrcompare');\n      if (plugin.length !== 0) map.removePlugins(map.getPlugins('lyrcompare'))\n    } else {\n      if (this.interface) {\n        this.panel_ = new M.ui.Panel('panelLyrcompare', {\n          collapsible: this.collapsible,\n          collapsed: this.collapsed,\n          position: M.ui.position[this.position],\n          className: 'm-plugin-lyrcompare',\n          collapsedButtonClass: 'cp-icon',\n          tooltip: this.tooltip_,\n        });\n      } else {\n        this.panel_ = new M.ui.Panel('panelLyrcompare', {\n          collapsible: false,\n          collapsed: true,\n          position: M.ui.position[this.position],\n          className: 'm-plugin-lyrcompare-hidden',\n        });\n      }\n      this.panel_.addControls(this.controls_);\n      map.addPanels(this.panel_);\n    }\n  }\n\n\n  /**\n   * This function destroys this plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  destroy() {\n    this.deactivate();\n    const swipeControl = document.querySelector('.lyrcompare-swipe-control');\n    if (swipeControl) {\n      swipeControl.remove();\n    }\n    this.map_.removeControls([this.control_]);\n    this.control_.removeCurtainLayers(this.control_.getLayersNames());\n    [this.name_, this.error_, this.layers, this.controls_, this.map_, this.position, this.collapsed, this.collapsible,\n      this.staticDivision, this.opacityVal, this.comparisonMode, this.metadata_, this.tooltip_, this.interface, this.defaultLyrA,\n      this.defaultLyrB, this.defaultLyrC, this.defaultLyrD\n    ] = [null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null];\n  }\n\n  /**\n   * This function gets name plugin\n   * @getter\n   * @public\n   * @returns {string}\n   * @api stable\n   */\n  get name() {\n    return this.name_;\n  }\n\n  /**\n   * This function gets metadata plugin\n   *\n   * @public\n   * @getter\n   * @api stable\n   * @return {Object}\n   */\n  getMetadata() {\n    return this.metadata_;\n  }\n\n  /**\n   * Get the API REST Parameters of the plugin\n   *\n   * @function\n   * @public\n   * @api\n   */\n  getAPIRest() {\n    return `${this.name}=${this.position}*!${this.layers.join(',')}*!${this.collapsible}*!${this.collapsed}*!${this.staticDivision}*!${this.opacityVal}*!${this.comparisonMode}*!${this.defaultLyrA}*!${this.defaultLyrB}*!${this.defaultLyrC}*!${this.defaultLyrD}*!${this.interface}`;\n  }\n\n  /**\n   * Activate plugin\n   *\n   * @function\n   * @public\n   * @api\n   */\n  activate() {\n    this.control_.activateCurtain();\n  }\n\n  /**\n   * Desactivate plugin\n   *\n   * @function\n   * @public\n   * @api\n   */\n  deactivate() {\n    this.control_.deactivateCurtain();\n  }\n\n  /**\n   * This\n   function compare\n   *\n   * @public\n   * @function\n   * @param {M.plugin} plugin to compare\n   * @api stable\n   */\n  equals(plugin) {\n    if (plugin instanceof LyrCompare) {\n      return true;\n    }\n    return false;\n  }\n}","/**\r\n * @module M/control/ComparepanelControl\r\n */\r\n\r\nimport ComparepanelImplControl from 'impl/comparepanelcontrol';\r\nimport template from 'templates/comparepanel';\r\nimport { getValue } from './i18n/language';\r\nimport Mirrorpanel from './cpmirrorpanel';\r\nimport Timeline from './cptimeline';\r\nimport LyrCompare from './cplyrcompare';\r\nimport { getValue as getValueTranslate } from './i18n/language';\r\n\r\nexport default class ComparepanelControl extends M.Control {\r\n  /**\r\n   * @classdesc\r\n   * Main constructor of the class. Creates a PluginControl\r\n   * control\r\n   *\r\n   * @constructor\r\n   * @extends {M.Control}\r\n   * @api stable\r\n   */\r\n  constructor(options) {\r\n    // 1. checks if the implementation can create PluginControl\r\n    if (M.utils.isUndefined(ComparepanelImplControl)) {\r\n      M.exception(getValue('exception'));\r\n    }\r\n    // 2. implementation of this control\r\n    const impl = new ComparepanelImplControl();\r\n    super(impl, 'Comparepanel');\r\n    /**\r\n     * Template\r\n     * @public\r\n     * @type { HTMLElement }\r\n     */\r\n    this.template = null;\r\n\r\n    this.baseLayers = options.baseLayers;\r\n\r\n    this.layers = [];\r\n    this.baseLayers.forEach(e => this.layers.push(e[2]));\r\n    options.mirrorpanelParams.defaultBaseLyrs = this.layers;\r\n    this.mirrorpanel = new Mirrorpanel(options.mirrorpanelParams);\r\n    options.timelineParams.intervals = this.baseLayers;\r\n    this.timeline = new Timeline(options.timelineParams);\r\n    options.lyrcompareParams.layers = this.layers;\r\n    this.lyrcompare = new LyrCompare(options.lyrcompareParams);\r\n    this.plugins = [this.mirrorpanel, this.timeline, this.lyrcompare];\r\n  }\r\n\r\n  /**\r\n   * This function creates the view\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map to add the control\r\n   * @api stable\r\n   */\r\n  createView(map) {\r\n    this.map = map;\r\n    return new Promise((success, fail) => {\r\n      let options = {\r\n        jsonp: true,\r\n        vars: {\r\n          translations: {\r\n            tooltipLyr: getValueTranslate('tooltipLyr'),\r\n            tooltipMirrorpanel: getValueTranslate('tooltipMirrorpanel'),\r\n            tooltipTimeline: getValueTranslate('tooltipTimeline'),\r\n          }\r\n        }\r\n      }\r\n      this.template = M.template.compileSync(template, options);\r\n      this.addComparators(map);\r\n      success(this.template);\r\n    });\r\n  }\r\n\r\n  addComparators(map) {\r\n    this.plugins.forEach((p) => {\r\n      map.addPlugin(p);\r\n      let element = document.querySelector(\".\" + p.panel_._className + \" .m-panel-controls\");\r\n      element.classList.add('cp-' + p.name);\r\n      document.querySelector(\".\" + p.panel_._className).remove();\r\n      this.template.querySelector('#m-cp-' + p.name).append(element);\r\n    });\r\n    this.addButtonEvents();\r\n  }\r\n\r\n  addButtonEvents() {\r\n    this.plugins.forEach(p => {\r\n      this.template.querySelector('#m-cp-' + p.name + ' .cp-button').addEventListener('click', (e) => {\r\n        this.deactivateAndActivate(p);\r\n      });\r\n    });\r\n  }\r\n\r\n  deactivateAndActivate(plugin) {\r\n    this.plugins.forEach(p => {\r\n      if (p != plugin) {\r\n        this.template.querySelector('#m-cp-' + p.name + ' .cp-' + p.name).classList.remove('hide-panel');\r\n        this.template.querySelector('#m-cp-' + p.name + ' .cp-button').classList.remove('active');\r\n      }\r\n      p.deactivate();\r\n    });\r\n    this.template.querySelector('#m-cp-' + plugin.name + ' .cp-button').classList.toggle('active');\r\n    this.template.querySelector('#m-cp-' + plugin.name + ' .cp-' + plugin.name).classList.toggle('hide-panel');\r\n  }\r\n\r\n  deactivate(){\r\n    this.plugins.forEach(p => {\r\n      p.deactivate();\r\n    });\r\n  }\r\n  /**\r\n   * This function compares controls\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Control} control to compare\r\n   * @api stable\r\n   * @return {Boolean}\r\n   */\r\n  equals(control) {\r\n    return control instanceof ComparepanelControl;\r\n  }\r\n}\r\n","/**\r\n * @module M/plugin/Comparepanel\r\n */\r\nimport 'assets/css/comparepanel';\r\nimport ComparepanelControl from './comparepanelcontrol';\r\nimport api from '../../api';\r\nimport { getValue } from './i18n/language';\r\n\r\nexport default class Comparepanel extends M.Plugin {\r\n  /**\r\n   * @classdesc\r\n   * Main facade plugin object. This class creates a plugin\r\n   * object which has an implementation Object\r\n   *\r\n   * @constructor\r\n   * @extends {M.Plugin}\r\n   * @param {Object} impl implementation object\r\n   * @api stable\r\n   */\r\n  constructor(options = {}) {\r\n    super();\r\n\r\n    /**\r\n     * Name plugin\r\n     * @private\r\n     * @type {String}\r\n     */\r\n    this.name_ = 'comparepanel';\r\n\r\n    /**\r\n     * Facade of the map\r\n     * @private\r\n     * @type {M.Map}\r\n     */\r\n    this.map_ = null;\r\n\r\n    /**\r\n     * Array of controls\r\n     * @private\r\n     * @type {Array<M.Control>}\r\n     */\r\n    this.controls_ = [];\r\n\r\n    /**\r\n     * Class name of the html view Plugin\r\n     * @public\r\n     * @type {string}\r\n     */\r\n    this.className = 'm-plugin-comparepanel';\r\n\r\n    /**\r\n     * Position of the Plugin\r\n     * @public\r\n     * Posible values: TR | TL | BL | BR\r\n     * @type {String}\r\n     */\r\n    const positions = ['TR', 'TL', 'BL', 'BR'];\r\n    this.position = positions.includes(options.position) ? options.position : 'TR';\r\n\r\n    /**\r\n     * Collapsed attribute\r\n     * @public\r\n     * @type {boolean}\r\n     */\r\n    this.collapsed = options.collapsed;\r\n    if (this.collapsed === undefined) this.collapsed = true;\r\n\r\n    /**\r\n     * Collapsible attribute\r\n     * @public\r\n     * @type {boolean}\r\n     */\r\n    this.collapsible = options.collapsible;\r\n    if (this.collapsible === undefined) this.collapsible = true;\r\n\r\n    /**\r\n     * Vertical attribute\r\n     * @public\r\n     * Changes the plugin's orientation\r\n     * @type {boolean}\r\n     */\r\n    this.vertical = options.vertical;\r\n    if (this.vertical === undefined) this.vertical = true;\r\n\r\n    /**\r\n     * Base Layers\r\n     * @public\r\n     * Value: Array of layers with the layout [{name, tag, service},{...}]\r\n     * @type {Array}\r\n     */\r\n    this.baseLayers = options.baseLayers;\r\n\r\n    /**\r\n     * mirrorpanelParams\r\n     * @public\r\n     * Value: Object with the rest of mirrorpanel's parameters \r\n     * @type {Object}\r\n     */\r\n    this.mirrorpanelParams = options.mirrorpanelParams || {};\r\n\r\n    /**\r\n     * timelineParams\r\n     * @public\r\n     * Value: Object with the rest of timeline's parameters \r\n     * @type {Object}\r\n     */\r\n    this.timelineParams = options.timelineParams || {};\r\n\r\n    /**\r\n     * lyrcompareParams\r\n     * @public\r\n     * Value: Object with the rest of lyrcompare's parameters \r\n     * @type {Object}\r\n     */\r\n    this.lyrcompareParams = options.lyrcompareParams || {};\r\n\r\n    /**\r\n     * Metadata from api.json\r\n     * @private\r\n     * @type {Object}\r\n     */\r\n    this.metadata_ = api.metadata;\r\n\r\n    /**\r\n     *@private\r\n     *@type { string }\r\n     */\r\n    this.tooltip_ = options.tooltip || getValue('tooltip');\r\n  }\r\n\r\n  /**\r\n   * This function adds this plugin into the map\r\n   *\r\n   * @public\r\n   * @function\r\n   * @param {M.Map} map the map to add the plugin\r\n   * @api stable\r\n   */\r\n  addTo(map) {\r\n    this.control_ = new ComparepanelControl({\r\n      baseLayers: this.baseLayers,\r\n      mirrorpanelParams: this.mirrorpanelParams,\r\n      timelineParams: this.timelineParams,\r\n      lyrcompareParams: this.lyrcompareParams,\r\n    });\r\n    this.controls_.push(this.control_);\r\n    this.map_ = map;\r\n    this.panel_ = new M.ui.Panel('panelComparepanel', {\r\n      collapsible: this.collapsible,\r\n      collapsed: this.collapsed,\r\n      position: M.ui.position[this.position],\r\n      className: this.className,\r\n      collapsedButtonClass: 'cp-icon',\r\n      tooltip: this.tooltip_,\r\n    });\r\n    this.panel_.addControls(this.controls_);\r\n    map.addPanels(this.panel_);\r\n    this.panel_._element.classList.add(this.vertical ? 'orientation-vertical' : 'orientation-horizontal');\r\n  }\r\n\r\n\r\n  /**\r\n   * This function destroys this plugin\r\n   *\r\n   * @public\r\n   * @function\r\n   * @api stable\r\n   */\r\n  destroy() {\r\n    this.control_.deactivate();\r\n    this.map_.removeControls([this.control_]);\r\n    [this.control_, this.panel_, this.map_] = [null, null, null];\r\n  }\r\n\r\n  /**\r\n   * This function gets name plugin\r\n   * @getter\r\n   * @public\r\n   * @returns {string}\r\n   * @api stable\r\n   */\r\n  get name() {\r\n    return this.name_;\r\n  }\r\n\r\n  /**\r\n   * This function gets metadata plugin\r\n   *\r\n   * @public\r\n   * @getter\r\n   * @api stable\r\n   * @return {Object}\r\n   */\r\n  getMetadata() {\r\n    return this.metadata_;\r\n  }\r\n\r\n  /**\r\n   * Get the API REST Parameters of the plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  getAPIRest() {\r\n    return `${this.name}=${this.position}`;\r\n  }\r\n\r\n  /**\r\n   * Activate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  activate() {\r\n    this.control_.activate();\r\n  }\r\n\r\n  /**\r\n   * Desactivate plugin\r\n   *\r\n   * @function\r\n   * @public\r\n   * @api\r\n   */\r\n  deactivate() {\r\n    this.control_.deactivate();\r\n  }\r\n\r\n  /**\r\n   * This function compare if pluging recieved\r\n   * by param is instance of M.plugin.Comparepanel\r\n   * @public\r\n   * @function\r\n   * @param {M.plugin} plugin to compare\r\n   * @api stable\r\n   */\r\n  equals(plugin) {\r\n    if (plugin instanceof Comparepanel) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n","import M$plugin$Comparepanel from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/comparepanel';\nimport M$control$ComparepanelControl from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/comparepanelcontrol';\nimport M$plugin$LyrCompare from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/cplyrcompare';\nimport M$control$LyrCompareControl from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/cplyrcomparecontrol';\nimport M$plugin$Mirrorpanel from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/cpmirrorpanel';\nimport M$control$CompareMirrorpanel from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/cpmirrorpanelcontrol';\nimport M$plugin$Timeline from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/cptimeline';\nimport M$control$TimelineControl from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/facade/js/cptimelinecontrol';\nimport M$impl$control$ComparepanelControl from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/impl/ol/js/comparepanelcontrol';\nimport M$impl$control$Lyrcomparecontrol from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/impl/ol/js/cplyrcomparecontrol';\nimport M$impl$control$LyrcompareInteraction from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/impl/ol/js/cplyrcompareinteraction';\nimport M$impl$control$CompareMirrorpanel from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/impl/ol/js/cpmirrorpanel';\nimport M$impl$control$TimelineControl from '/home/jesusdiaz/Workspace/Git/mapea-plugins/mapea-lite/api-ign-js/src/plugins/comparepanel/src/impl/ol/js/cptimelinecontrol';\n\nif (!window.M.plugin) window.M.plugin = {};\nif (!window.M.control) window.M.control = {};\nif (!window.M.impl) window.M.impl = {};\nif (!window.M.impl.control) window.M.impl.control = {};\nwindow.M.plugin.Comparepanel = M$plugin$Comparepanel;\nwindow.M.control.ComparepanelControl = M$control$ComparepanelControl;\nwindow.M.plugin.LyrCompare = M$plugin$LyrCompare;\nwindow.M.control.LyrCompareControl = M$control$LyrCompareControl;\nwindow.M.plugin.Mirrorpanel = M$plugin$Mirrorpanel;\nwindow.M.control.CompareMirrorpanel = M$control$CompareMirrorpanel;\nwindow.M.plugin.Timeline = M$plugin$Timeline;\nwindow.M.control.TimelineControl = M$control$TimelineControl;\nwindow.M.impl.control.ComparepanelControl = M$impl$control$ComparepanelControl;\nwindow.M.impl.control.Lyrcomparecontrol = M$impl$control$Lyrcomparecontrol;\nwindow.M.impl.control.LyrcompareInteraction = M$impl$control$LyrcompareInteraction;\nwindow.M.impl.control.CompareMirrorpanel = M$impl$control$CompareMirrorpanel;\nwindow.M.impl.control.TimelineControl = M$impl$control$TimelineControl;\n"],"sourceRoot":""}