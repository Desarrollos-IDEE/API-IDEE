(()=>{var e={336:e=>{e.exports='<div id="div-contenedor" class="m-lyrcompare-container">\n    <div class="div-m-lyrcompare-panel">\n        <div class="m-lyrcompare-effect-buttoms">\n            <button tabindex="0" type="button" id="m-lyrcompare-vcurtain" class="big-buttom" title="{{translations.tooltip_vcurtain}}"><i class="cp-columns"></i></button>\n            <button tabindex="0" type="button" id="m-lyrcompare-hcurtain" class="big-buttom" title="{{translations.tooltip_hcurtain}}"><i class="cp-columns-rotate"></i></button>\n            <button tabindex="0" type="button" id="m-lyrcompare-multicurtain" class="big-buttom" title="{{translations.tooltip_multicurtain}}"><i class="cp-th-large"></i></button>\n        </div>\n        <div tabindex="0" role="radiogroup"  class="div-m-lyrcompare-transparent-static">\n            <input role="radio" tabindex="0" type="radio" id="div-m-lyrcompare-transparent-static" name="staticDivision" value="1"><label for="div-m-lyrcompare-transparent-static" title="{{translations.static_tooltip}}">{{translations.static}}</label>\n            <input role="radio" tabindex="0" type="radio" id="div-m-lyrcompare-transparent-mixed" name="staticDivision" value="2"><label for="div-m-lyrcompare-transparent-mixed" title="{{translations.mixed_tooltip}}">{{translations.mixed}}</label>\n        </div>\n        <hr />\n        <div id="m-lyrcompare-list-container">\n        </div>\n    </div>\n</div>\n'},341:e=>{e.exports='<div>\n  {{#if options}}\n      <div class="m-lyrcompare-select" id="m-lyrcompare-lyrA-cont">\n          <label id="m-lyrcompare-lyrA-lbl" for="m-lyrcompare-lyrA" title="{{translations.lyrLeftSelect_tooltip}}"></label>\n          <select disabled id="m-lyrcompare-lyrA">\n              {{#each options}}\n                  <option value=\'{{this.name}}\'>{{this.legend}}</option>\n              {{/each}}\n          </select>\n          <div class="m-lyrcompare-select_arrow"></div>\n      </div>\n      <div class="m-lyrcompare-select" id="m-lyrcompare-lyrB-cont">\n          <label id="m-lyrcompare-lyrB-lbl" for="m-lyrcompare-lyrB" title="{{translations.lyrRightSelect_tooltip}}"></label>\n          <select disabled id="m-lyrcompare-lyrB">\n              {{#each options}}\n                  <option value=\'{{this.name}}\'>{{this.legend}}</option>\n              {{/each}}\n          </select>\n          <div class="m-lyrcompare-select_arrow">\n          </div>\n      </div>\n      \x3c!--Multi Curtain--\x3e\n      <div class="m-lyrcompare-select" id="m-lyrcompare-lyrC-cont">\n          <label id="m-lyrcompare-lyrC-lbl" for="m-lyrcompare-lyrC" title="{{translations.lyrLeftSelect_tooltip}}"></label>\n          <select disabled id="m-lyrcompare-lyrC">\n              {{#each options}}\n                  <option value=\'{{this.name}}\'>{{this.legend}}</option>\n              {{/each}}\n          </select>\n          <div class="m-lyrcompare-select_arrow"></div>\n      </div>\n      <div class="m-lyrcompare-select" id="m-lyrcompare-lyrD-cont">\n          <label id="m-lyrcompare-lyrD-lbl" for="m-lyrcompare-lyrD" title="{{translations.lyrRightSelect_tooltip}}"></label>\n          <select disabled id="m-lyrcompare-lyrD">\n              {{#each options}}\n                  <option value=\'{{this.name}}\'>{{this.legend}}</option>\n              {{/each}}\n          </select>\n          <div class="m-lyrcompare-select_arrow">\n          </div>\n      </div>\n  {{/if}}\n</div>\n'},565:e=>{e.exports='<div id="div-contenedor" class="m-mirrorpanel-container">\n  <div class="div-m-mirrorpanel-panel">\n    <div class="m-mirrorpanel-effect-buttoms">\n      <button tabindex="0" type="button" id="set-mirror-0" class="big-button" title="{{translations.modViz0}}"><i class="cp-modeviz0"></i></button>\n      <button tabindex="0" type="button" id="set-mirror-1" class="big-button" title="{{translations.modViz1}}"><i class="cp-modeviz1"></i></button>\n      <button tabindex="0" type="button" id="set-mirror-2" class="big-button" title="{{translations.modViz2}}"><i class="cp-modeviz2"></i></button>\n      <button tabindex="0" type="button" id="set-mirror-5" class="big-button" title="{{translations.modViz5}}"><i class="cp-modeviz5"></i></button>\n      <button tabindex="0" type="button" id="set-mirror-9" class="big-button" title="{{translations.modViz9}}"><i class="cp-modeviz9"></i></button>\n    </div>\n  </div>\n</div>\n'},194:e=>{e.exports='<div role="menu" id="div-contenedor" class="m-iberpixcompare-container">\n    <div id=\'m-cp-mirrorpanel\'>\n        <button tabindex="0" type="button" class="cp-button cp-icon" title="{{translations.tooltipMirrorpanel}}"></button>\n    </div>\n    <div id=\'m-cp-lyrcompare\'>\n        <button tabindex="0" type="button" class="cp-button cp-comparador-capas" title="{{translations.tooltipLyr}}"></button>\n    </div>\n</div>\n'}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,r||"default");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}function n(t,r,o){return r=l(r),function(t,r){if(r&&("object"==e(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)}(t,i()?Reflect.construct(r,o||[],l(t).constructor):r.apply(t,o))}function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(i=function(){return!!e})()}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var o=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},a.apply(null,arguments)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var c=function(){function e(t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(r=n(this,e,[t])).layers_=[],r.swipeClicked=!1,ol.interaction.Pointer.call(r,{handleDownEvent:r.setPosition,handleUpEvent:function(){r.swipeClicked=!1},handleMoveEvent:r.setPosition});var o=t||{};r.pos=!1,r.opacityVal=o.opacityVal||100;var i=[o.lyrA].map((function(e){return e.getImpl().getLayer()})).filter((function(e){return null!=e}));r.addLayerA(i);var a=[o.lyrB].map((function(e){return e.getImpl().getLayer()})).filter((function(e){return null!=e}));if(r.addLayerB(a),void 0!==o.lyrC&&void 0!==o.lyrD){var l=[o.lyrC].map((function(e){return e.getImpl().getLayer()})).filter((function(e){return null!=e}));r.addLayerC(l);var s=[o.lyrD].map((function(e){return e.getImpl().getLayer()})).filter((function(e){return null!=e}));r.addLayerD(s)}return r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(e,ol.interaction.Pointer),r=e,o=[{key:"setMap",value:function(e){if(this.getMap()){for(var t=0;t<this.layers_.length;t+=1)void 0!==this.layers_[t]&&(this.layers_[t].prerender&&ol.Observable.unByKey(this.layers_[t].prerender),this.layers_[t].postrender&&ol.Observable.unByKey(this.layers_[t].postrender),this.layers_[t].postrender=null,this.layers_[t].prerender=null);this.getMap().renderSync()}ol.interaction.Pointer.prototype.setMap.call(this,e),e&&(this.createSwipeControl(),void 0!==this.layers_[0]&&(this.layers_[0].prerender=this.layers_[0].on("prerender",this.precomposeA_.bind(this)),this.layers_[0].postrender=this.layers_[0].on("postrender",this.postcomposeA_.bind(this))),void 0!==this.layers_[1]&&(this.layers_[1].prerender=this.layers_[1].on("prerender",this.precomposeB_.bind(this)),this.layers_[1].postrender=this.layers_[1].on("postrender",this.postcomposeB_.bind(this))),void 0!==this.layers_[2]&&(this.layers_[2].prerender=this.layers_[2].on("prerender",this.precomposeC_.bind(this)),this.layers_[2].postrender=this.layers_[2].on("postrender",this.postcomposeC_.bind(this))),void 0!==this.layers_[3]&&(this.layers_[3].prerender=this.layers_[3].on("prerender",this.precomposeD_.bind(this)),this.layers_[3].postrender=this.layers_[3].on("postrender",this.postcomposeD_.bind(this))),e.renderSync())}},{key:"setOpacity",value:function(e){if(this.opacityVal=e,this.getMap())for(var t=0;t<this.layers_.length;t+=1)void 0!==this.layers_[t]&&this.layers_[t].setOpacity(this.opacityVal/100)}},{key:"setStaticDivision",value:function(e){this.staticDivision=e,this.updatePosition()}},{key:"setComparisonMode",value:function(e){this.comparisonMode=e,this.updatePosition()}},{key:"setVisibilityLayersCD",value:function(){void 0===this.layers_[2]||void 0===this.layers_[3]||1!==this.comparisonMode&&2!==this.comparisonMode?void 0!==this.layers_[2]&&void 0!==this.layers_[3]&&(this.layers_[2].setVisible(!0),this.layers_[3].setVisible(!0)):(this.layers_[2].setVisible(!1),this.layers_[3].setVisible(!1))}},{key:"addLayerA",value:function(e){var t=e;t instanceof Array||(t=[t]);var r={layer:t[0]};this.getMap()&&(r.prerender=t[0].on("prerender",this.precomposeA_.bind(this)),r.postrender=t[0].on("postrender",this.postcomposeA_.bind(this)),this.getMap().renderSync()),this.layers_.push(t[0])}},{key:"addLayerB",value:function(e){var t=e;t instanceof Array||(t=[t]);var r={layer:t[0]};this.getMap()&&(r.prerender=t[0].on("prerender",this.precomposeB_.bind(this)),r.postrender=t[0].on("postrender",this.postcomposeB_.bind(this)),this.getMap().renderSync()),this.layers_.push(t[0])}},{key:"addLayerC",value:function(e){var t=e;t instanceof Array||(t=[t]);var r={layer:t[0]};this.getMap()&&(r.prerender=t[0].on("prerender",this.precomposeC_.bind(this)),r.postrender=t[0].on("postrender",this.postcomposeC_.bind(this)),this.getMap().renderSync()),this.layers_.push(t[0])}},{key:"addLayerD",value:function(e){var t=e;t instanceof Array||(t=[t]);var r={layer:t[0]};this.getMap()&&(r.prerender=t[0].on("prerender",this.precomposeD_.bind(this)),r.postrender=t[0].on("postrender",this.postcomposeD_.bind(this)),this.getMap().renderSync()),this.layers_.push(t[0])}},{key:"removeLayer",value:function(e){var t=e;t instanceof Array||(t=[t]);for(var r=0;r<t.length;r+=1){var o=void 0;for(o=0;o<this.layers_.length&&this.layers_[o]!==t[r];o+=1);o!==this.layers_.length&&this.getMap()&&(this.layers_[o].prerender&&ol.Observable.unByKey(this.layers_[o].prerender),this.layers_[o].postrender&&ol.Observable.unByKey(this.layers_[o].postrender),this.layers_.splice(o,1),this.getMap().renderSync())}}},{key:"setPosition",value:function(e){if(2===this.staticDivision&&this.swipeClicked||2!==this.staticDivision){if(e.pixel?this.pos=e.pixel:e&&e instanceof Array?this.pos=e:e=[-1e7,-1e7],2===this.staticDivision&&1!==e.pointerEvent.buttons){var t=this.map_.getSize();this.pos=[t[0]/2,t[1]/2],this.swipeClicked=!1}this.getMap()&&this.getMap().renderSync(),this.moveSwipeControl()}}},{key:"updatePosition",value:function(){var e=document.querySelector(".lyrcompare-swipe-control");if(e&&(1===this.comparisonMode?e.classList="lyrcompare-swipe-control vertical".concat(1===this.staticDivision?" static":" dynamic"):2===this.comparisonMode?e.classList="lyrcompare-swipe-control horizontal".concat(1===this.staticDivision?" static":" dynamic"):3===this.comparisonMode&&(e.classList="lyrcompare-swipe-control vertical horizontal".concat(1===this.staticDivision?" static":" dynamic"))),this.getMap()){var t=this.map_.getSize();e.style.left="".concat(t[0]/2-e.offsetWidth/2,"px"),e.style.top="".concat(t[1]/2-e.offsetHeight/2,"px"),this.pos=[t[0]/2,t[1]/2],this.swipeClicked=!1,this.getMap().renderSync()}}},{key:"precomposeA_",value:function(e){var t=e.context,r=e.frameState.pixelRatio,o=this.map_.getSize();t.save(),t.beginPath(),1===this.staticDivision?1===this.comparisonMode?t.rect(0,0,o[0]/2*r-0*r,o[1]):2===this.comparisonMode?t.rect(0,0,o[0],o[1]*r/2-0*r):3===this.comparisonMode&&t.rect(0,0,o[0]/2*r-0*r,o[1]/2):1===this.comparisonMode?t.rect(0,0,this.pos[0]-0*r,o[1]):2===this.comparisonMode?t.rect(0,0,t.canvas.width,this.pos[1]*r-0*r):3===this.comparisonMode&&t.rect(0,0,this.pos[0]-0*r,this.pos[1]-0*r),t.clip()}},{key:"postcomposeA_",value:function(e){e.context.restore()}},{key:"precomposeB_",value:function(e){var t=e.context,r=e.frameState.pixelRatio,o=this.map_.getSize();t.save(),t.beginPath(),1===this.staticDivision?1===this.comparisonMode?t.rect(o[0]*r/2+0*r,0,t.canvas.width-o[0]*r/2,o[1]):2===this.comparisonMode?t.rect(0,o[1]*r/2+0*r,t.canvas.width,t.canvas.height-o[1]*r/2):3===this.comparisonMode&&t.rect(o[0]*r/2,0,t.canvas.width-o[0]*r/2,o[1]/2):1===this.comparisonMode?t.rect(this.pos[0],0,o[0]-this.pos[0],o[1]):2===this.comparisonMode?t.rect(0,this.pos[1],t.canvas.width,t.canvas.height-this.pos[1]):3===this.comparisonMode&&t.rect(this.pos[0],0,o[0]-this.pos[0],this.pos[1]),t.clip()}},{key:"postcomposeB_",value:function(e){e.context.restore()}},{key:"precomposeC_",value:function(e){var t=e.context,r=e.frameState.pixelRatio,o=this.map_.getSize();t.save(),t.beginPath(),1===this.staticDivision?3===this.comparisonMode&&t.rect(0,o[1]*r/2,o[0]/2*r-0*r,o[1]):3===this.comparisonMode&&t.rect(0,this.pos[1]*r,this.pos[0]*r-0*r,(o[1]-this.pos[1])*r-0*r),t.clip()}},{key:"postcomposeC_",value:function(e){e.context.restore()}},{key:"precomposeD_",value:function(e){var t=e.context,r=e.frameState.pixelRatio,o=this.map_.getSize();t.save(),t.beginPath(),1===this.staticDivision?3===this.comparisonMode&&t.rect(o[0]*r/2,o[1]*r/2,t.canvas.width*r/2-0*r,t.canvas.height*r/2-0*r):3===this.comparisonMode&&t.rect(this.pos[0]*r,this.pos[1]*r,(t.canvas.width-this.pos[0])*r-0*r,(t.canvas.height-this.pos[1])*r-0*r),t.clip()}},{key:"postcomposeD_",value:function(e){e.context.restore()}},{key:"createSwipeControl",value:function(){var e,t,r=this;null===document.querySelector(".lyrcompare-swipe-control")?((e=document.createElement("div")).classList.add("lyrcompare-swipe-control"),(t=document.createElement("div")).classList.add("control-icon"),e.append(t),document.querySelector(".ol-overlaycontainer-stopevent").append(e)):(e=document.querySelector(".lyrcompare-swipe-control"),t=document.querySelector(".lyrcompare-swipe-control .control-icon")),e.addEventListener("mousedown",(function(){r.swipeClicked=!0})),e.addEventListener("mouseup",(function(){r.swipeClicked=!1})),e.addEventListener("touchstart",(function(){r.swipeClicked=!0})),e.addEventListener("touchend",(function(){r.swipeClicked=!1})),this.updatePosition()}},{key:"moveSwipeControl",value:function(){var e=this.map_.getSize(),t=document.querySelector(".lyrcompare-swipe-control");t&&this.getMap()&&(0===this.staticDivision||2===this.staticDivision?1===this.comparisonMode?(t.style.top="".concat(e[1]/2-t.offsetHeight/2,"px"),t.style.left="".concat(this.pos[0]-t.offsetWidth/2,"px")):2===this.comparisonMode?(t.style.left="".concat(e[0]/2-t.offsetWidth/2,"px"),t.style.top="".concat(this.pos[1]-t.offsetHeight/2,"px")):3===this.comparisonMode&&(t.style.left="".concat(this.pos[0]-t.offsetWidth/2,"px"),t.style.top="".concat(this.pos[1]-t.offsetHeight/2,"px")):(t.style.left="".concat(e[0]/2-t.offsetWidth/2,"px"),t.style.top="".concat(e[1]/2-t.offsetHeight/2,"px")))}},{key:"setActive",value:function(t){var r,o,n,i,s;(r=e,o="setActive",n=this,s=a(l(1&(i=3)?r.prototype:r),o,n),2&i&&"function"==typeof s?function(e){return s.apply(n,e)}:s)([t])}}],o&&t(r.prototype,o),i&&t(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,y(o.key),o)}}function y(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=u(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}function d(e,t,r){return t=h(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,m()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var o=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},f.apply(null,arguments)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}var b=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(e,IDEE.impl.Control),t=e,r=[{key:"addTo",value:function(t,r){var o,n,i,a,l;this.map=t,this.olMap=t.getMapImpl(),(o=e,n="addTo",i=this,l=f(h(1&(a=3)?o.prototype:o),n,i),2&a&&"function"==typeof l?function(e){return l.apply(i,e)}:l)([t,r])}},{key:"effectSelectedCurtain",value:function(e,t,r,o,n,i,a){e.setVisible(!0),t.setVisible(!0),this.transparentInteraction_=new c({opacityVal:n,lyrA:e,lyrB:t,lyrC:r,lyrD:o}),this.olMap.addInteraction(this.transparentInteraction_),this.setOpacity(n),this.setComparisonMode(a),this.setStaticDivision(i)}},{key:"setVisibilityLayersCD",value:function(){void 0!==this.transparentInteraction_&&this.transparentInteraction_.setVisibilityLayersCD()}},{key:"setOpacity",value:function(e){void 0!==this.transparentInteraction_&&this.transparentInteraction_.setOpacity(e)}},{key:"setComparisonMode",value:function(e){void 0!==this.transparentInteraction_&&this.transparentInteraction_.setComparisonMode(e),this.setVisibilityLayersCD()}},{key:"setStaticDivision",value:function(e){void 0!==this.transparentInteraction_&&this.transparentInteraction_.setStaticDivision(e)}},{key:"addLayer",value:function(e){this.transparentInteraction_.addLayer(e.getImpl().getLayer())}},{key:"removeEffectsCurtain",value:function(){this.olMap.removeInteraction(this.transparentInteraction_)}},{key:"removeLayer",value:function(e){this.transparentInteraction_.removeLayer(e.getImpl().getLayer())}}],r&&p(t.prototype,r),o&&p(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,o}(),g=r(336),S=r.n(g),_=r(341),w=r.n(_);const E=JSON.parse('{"tooltip":"IberpixCompare","title":"IberpixCompare","play":"Play","pause":"Pause","exception":"The implementation used cannot create iberpixcompareControl controls","intervals_error":"The intervals were not defined correctly","tooltipLyr":"Layer Comparison","tooltip_vcurtain":"Vertical curtain","tooltip_hcurtain":"Horizontal curtain","tooltip_multicurtain":"Multi curtain","layers":"Layers","radius":"Radius","opacity":"Opacity","static":"Static","dynamic":"Dynamic","mixed":"Mixed","layer":"Layer","opacity_tooltip":"Opacity of the layers (0-100%)","dynamic_tooltip":"Division between layers is fixed by mouse position","mixed_tooltip":"Division between layers is dragged by mouse","static_tooltip":"Division between layers is fixed 50%","lyrLeftSelect_tooltip":"Select layer on the left","lyrRightSelect_tooltip":"Select layer on the right","advice_sameLayer":"One layer in different places is not allowed","no_layers_plugin":"In order to use this comparison option, you must have as many layers loaded in the \\"Layers\\" tool as divisions you have selected.","tooltipMirrorpanel":"Mirror Comparison","titleMirrorpanel":"Mirror Maps","modViz0":"Standard map","modViz1":"Vertical two maps","modViz2":"Horizontal two maps","modViz3":"Vertical three maps","modViz4":"Vertical four maps","modViz5":"Mosaic maps","modViz6":"Horizontal four maps","modViz7":"Vertical 2-1-1 proportional maps","modViz8":"One map above and two below","modViz9":"Two maps above and one below","nolayertext":"No layer selected","no_coverage":"The selected layer does not have coverage in this area of the map","warning":"Warning","print_disabled":"Printing is not available","georef_download_disabled":"Image download is not available","printmap":"Map Printing","georef_download":"Download Georeferenced image","no_layer":"No layer","iberpixcompare_obsolete":"Message to developer: IDEE.plugin.IberpixCompare has been deprecated, please use IDEE.plugin.Comparators instead"}'),C=JSON.parse('{"tooltip":"Panel de Comparadores","title":"Panel de Comparadores","play":"Iniciar","pause":"Parar","exception":"La implementación usada no puede crear controles IberpixCompareControl","intervals_error":"Los intervalos no fueron definidos correctamente","tooltipLyr":"Comparador de capas","tooltip_vcurtain":"Cortina vertical","tooltip_hcurtain":"Cortina horizontal","tooltip_multicurtain":"Multivista","layers":"Capas","radius":"Radio","opacity":"Opacidad","static":"Estático","dynamic":"Dinámico","mixed":"Mixto","layer":"Capa","opacity_tooltip":"Opacidad de las capas que se comparan (0-100%)","dynamic_tooltip":"La división la marca la posición del cursor","mixed_tooltip":"La división se arrastra con el ratón","static_tooltip":"La división es fija en el centro del mapa","lyrLeftSelect_tooltip":"Selecciona la capa de la izquierda","lyrRightSelect_tooltip":"Selecciona la capa de la derecha","advice_sameLayer":"No puede cargarse la misma capa en varios sitios","no_layers_plugin":"Para utilizar esta opción de comparación, debe tener cargadas tantas capas en la herramienta \\"Capas\\" como divisiones haya seleccionado","tooltipMirrorpanel":"Comparador de mapas espejo","titleMirrorpanel":"Mapas espejo","modViz0":"Mapa standard","modViz1":"Dos mapas en vertical","modViz2":"Dos mapas en horizontal","modViz3":"Tres mapas en vertical","modViz4":"Cuatro mapas en vertical","modViz5":"Mosaico de mapas","modViz6":"Cuatro mapas en horizontal","modViz7":"Tres mapas en proporción 2-1-1","modViz8":"Un mapa arriba y dos abajo","modViz9":"Dos mapas arriba y uno abajo","nolayertext":"Ninguna capa","no_coverage":"La capa seleccionada no tiene cobertura en la zona del mapa en la que se encuentra","warning":"Advertencia","print_disabled":"La impresión no está disponible","georef_download_disabled":"La descarga no está disponible","printmap":"Impresión del mapa","georef_download":"Descargar Imagen georreferenciada","no_layer":"Sin capa","iberpixcompare_obsolete":"Mensaje para el desarrollador: IDEE.plugin.IberpixCompare ha quedado obsoleto, utilice en su lugar IDEE.plugin.Comparators"}');var O={en:E,es:C},D=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t="es","function"==typeof IDEE.language.getLang&&(t=IDEE.language.getLang()),t),o=function(e){return"es"===e||"en"===e?O[e]:IDEE.language.getTranslation(e).iberpixcompare}(r),n="";return IDEE.utils.isNullOrEmpty(o)?console.warn("The translation '".concat(r,"' has not been defined.")):n=e.split(".").reduce((function(e,t){return e[t]}),o),n};function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}var P=void 0;function j(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function k(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,M(o.key),o)}}function M(e){var t=function(e,t){if("object"!=L(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=L(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L(t)?t:t+""}function B(e,t,r){return t=V(t),function(e,t){if(t&&("object"==L(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,A()?Reflect.construct(t,r||[],V(e).constructor):t.apply(e,r))}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(A=function(){return!!e})()}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}Array.prototype.unique=function(e){return function(){return P.filter(e)}};var q=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(IDEE.utils.isUndefined(b)||IDEE.utils.isObject(b)&&IDEE.utils.isNullOrEmpty(Object.keys(b)))&&IDEE.exception(D("exception")),(r=B(this,e,[new b,"LyrCompare"])).layers=[],r.opacityVal=t.opacityVal,r.layerSelectedA=null,r.layerSelectedB=null,r.layerSelectedC=null,r.layerSelectedD=null,r.template=null,r.staticDivision=t.staticDivision,r.opacityVal=t.opacityVal,r.comparisonMode=t.comparisonMode,r.defaultLyrA=t.defaultLyrA,r.defaultLyrB=t.defaultLyrB,r.defaultLyrC=t.defaultLyrC,r.defaultLyrD=t.defaultLyrD,r.interface=t.interface,r.order=t.order,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(e,IDEE.Control),t=e,r=[{key:"createView",value:function(e){var t=this;return console.warn(D("iberpixcompare_obsolete")),this.map=e,new Promise((function(e,r){t.renderPlugin(e)}))}},{key:"renderPlugin",value:function(e){var t=this,r=new IDEE.layer.WMS({url:"https://www.ign.es/wms-inspire/ign-base?",name:"empty_layer",legend:"Sin capa",tiled:!1,version:"1.3.0",displayInLayerSwitcher:!1},{visibility:!0,displayInLayerSwitcher:!1,queryable:!1});r.options.displayInLayerSwitcher=!1,r.displayInLayerSwitcher=!1;var o={jsonp:!0,vars:{comparisonMode:this.comparisonMode,translations:{tooltip_vcurtain:D("tooltip_vcurtain"),tooltip_hcurtain:D("tooltip_hcurtain"),tooltip_multicurtain:D("tooltip_multicurtain"),static:D("static"),mixed:D("mixed"),static_tooltip:D("static_tooltip"),mixed_tooltip:D("mixed_tooltip")}}};return this.template=IDEE.template.compileSync(S(),o),this.accessibilityTab(this.template),this.template.querySelectorAll('button[id^="m-lyrcompare-"]').forEach((function(e,r){e.addEventListener("click",t.assignEventsPlugin.bind(t,r)),e.addEventListener("keydown",(function(e){13===e.keyCode&&t.assignEventsPlugin.bind(t,r)}))})),this.map.addLayers([r]),this.map.on(IDEE.evt.ADDED_LAYER,(function(e){if(null!==t.layerSelectedA){var r=t.comparisonMode;t.comparisonMode=0,t.deactivateCurtain(),setTimeout((function(){t.comparisonMode=r,t.activateCurtain()}),1e3)}})),e(this.template)}},{key:"getAvailableLayers",value:function(){return this.map.getRootLayers().filter((function(e){var t=!0===e.transparent,r=!0===e.displayInLayerSwitcher||!1===e.displayInLayerSwitcher&&"empty_layer"===e.name,o=["wms","wmts"].indexOf(e.type.toLowerCase())>-1,n=!(e.type===IDEE.layer.type.WMS&&IDEE.utils.isNullOrEmpty(e.name));return t&&r&&o&&n})).reverse()}},{key:"assignEventsPlugin",value:function(e){this.layers=this.getAvailableLayers(),0===this.comparisonMode?e<2&&this.layers.length<2||2===e&&this.layers.length<4?IDEE.dialog.error(D("no_layers_plugin")):(this.comparisonMode=e+1,this.activateCurtain()):this.comparisonMode===e+1?(this.comparisonMode=0,this.deactivateCurtain()):2===e&&this.layers.length<4?IDEE.dialog.error(D("no_layers_plugin")):(this.comparisonMode=e+1,this.updateControls(),this.getImpl().setComparisonMode(this.comparisonMode))}},{key:"setEventsAndValues",value:function(){var e=this;1===this.staticDivision?this.template.querySelector("#div-m-lyrcompare-transparent-static").checked=!0:this.template.querySelector("#div-m-lyrcompare-transparent-mixed").checked=!0,this.template.querySelector("#div-m-lyrcompare-transparent-static").addEventListener("change",(function(t){e.staticDivision=Number(t.target.value),e.getImpl().setStaticDivision(e.staticDivision)})),this.template.querySelector("#div-m-lyrcompare-transparent-mixed").addEventListener("change",(function(t){e.staticDivision=Number(t.target.value),e.getImpl().setStaticDivision(e.staticDivision)})),this.template.querySelectorAll('select[id^="m-lyrcompare-"]').forEach((function(t){t.addEventListener("change",(function(r){var o=e.layers.filter((function(e){return e.name===r.target.value})),n=[];if("m-lyrcompare-lyrA"===t.id?n=[void 0!==o[0]?o[0].name:void 0,void 0!==e.layerSelectedB?e.layerSelectedB.name:void 0,void 0!==e.layerSelectedC?e.layerSelectedC.name:void 0,void 0!==e.layerSelectedD?e.layerSelectedD.name:void 0]:"m-lyrcompare-lyrB"===t.id?n=[void 0!==e.layerSelectedA?e.layerSelectedA.name:void 0,void 0!==o[0]?o[0].name:void 0,void 0!==e.layerSelectedC?e.layerSelectedC.name:void 0,void 0!==e.layerSelectedD?e.layerSelectedD.name:void 0]:"m-lyrcompare-lyrC"===t.id?n=[void 0!==e.layerSelectedA?e.layerSelectedA.name:void 0,void 0!==e.layerSelectedB?e.layerSelectedB.name:void 0,void 0!==o[0]?o[0].name:void 0,void 0!==e.layerSelectedD?e.layerSelectedD.name:void 0]:"m-lyrcompare-lyrD"===t.id&&(n=[void 0!==e.layerSelectedA?e.layerSelectedA.name:void 0,void 0!==e.layerSelectedB?e.layerSelectedB.name:void 0,void 0!==e.layerSelectedC?e.layerSelectedC.name:void 0,void 0!==o[0]?o[0].name:void 0]),!1===e.checkLayersAreDifferent.apply(e,j(n)))return IDEE.dialog.info(D("advice_sameLayer")),"m-lyrcompare-lyrA"===t.id?e.template.querySelector("#".concat(t.id)).value=e.layerSelectedA.name:"m-lyrcompare-lyrB"===t.id?e.template.querySelector("#".concat(t.id)).value=e.layerSelectedB.name:"m-lyrcompare-lyrC"===t.id?e.template.querySelector("#".concat(t.id)).value=e.layerSelectedC.name:"m-lyrcompare-lyrD"===t.id&&(e.template.querySelector("#".concat(t.id)).value=e.layerSelectedD.name),!1;"m-lyrcompare-lyrA"===t.id?(void 0!==e.layerSelectedC&&o[0].name===e.layerSelectedC.name&&(e.layerSelectedC.setVisible(!1),e.layerSelectedC=e.layerSelectedA,e.template.querySelector("#m-lyrcompare-lyrC").value=e.layerSelectedA.name),void 0!==e.layerSelectedD&&o[0].name===e.layerSelectedD.name&&(e.layerSelectedD.setVisible(!1),e.layerSelectedD=e.layerSelectedA,e.template.querySelector("#m-lyrcompare-lyrD").value=e.layerSelectedA.name)):"m-lyrcompare-lyrB"===t.id&&(void 0!==e.layerSelectedC&&o[0].name===e.layerSelectedC.name&&(e.layerSelectedC.setVisible(!1),e.layerSelectedC=e.layerSelectedB,e.template.querySelector("#m-lyrcompare-lyrC").value=e.layerSelectedB.name),void 0!==e.layerSelectedD&&o[0].name===e.layerSelectedD.name&&(e.layerSelectedD.setVisible(!1),e.layerSelectedD=e.layerSelectedB,e.template.querySelector("#m-lyrcompare-lyrD").value=e.layerSelectedB.name)),"m-lyrcompare-lyrA"===t.id?(e.layerSelectedA.setVisible(!1),e.layerSelectedA=o[0]):"m-lyrcompare-lyrB"===t.id?(e.layerSelectedB.setVisible(!1),e.layerSelectedB=o[0]):"m-lyrcompare-lyrC"===t.id?(e.layerSelectedC.setVisible(!1),e.layerSelectedC=o[0]):"m-lyrcompare-lyrD"===t.id&&(e.layerSelectedD.setVisible(!1),e.layerSelectedD=o[0]),e.removeEffectsComparison(),e.getImpl().effectSelectedCurtain(e.layerSelectedA,e.layerSelectedB,e.layerSelectedC,e.layerSelectedD,e.opacityVal,e.staticDivision,e.comparisonMode)}))}))}},{key:"checkLayersAreDifferent",value:function(e,t,r,o){var n=!0;if(1===this.comparisonMode||2===this.comparisonMode)n=e!==t;else{var i=[e,t,r,o];n=i.length===i.unique().length}return n}},{key:"activateCurtain",value:function(){this.layers=this.getAvailableLayers();var e={jsonp:!0,vars:{options:this.layers.map((function(e){return{name:e.name,legend:e.legend}})),comparisonMode:this.comparisonMode,translations:{lyrLeftSelect_tooltip:D("lyrLeftSelect_tooltip"),lyrRightSelect_tooltip:D("lyrRightSelect_tooltip")}}},t=IDEE.template.compileSync(w(),e);this.accessibilityTab(t),document.querySelector("#m-lyrcompare-list-container").innerHTML="",document.querySelector("#m-lyrcompare-list-container").appendChild(t),this.setEventsAndValues(),this.activeDefault(),this.getImpl().effectSelectedCurtain(this.layerSelectedA,this.layerSelectedB,this.layerSelectedC,this.layerSelectedD,this.opacityVal,this.staticDivision,this.comparisonMode),this.updateControls(),this.disablePrintButtons()}},{key:"disablePrintButtons",value:function(){var e=document.querySelector(".m-printermap .m-panel-btn.icon-impresora"),t=document.querySelector(".m-georefimage2 .m-panel-btn.icon-descargar");null!==e&&(e.disabled=!0,e.parentNode.title=D("print_disabled")),null!==t&&(t.disabled=!0,t.parentNode.title=D("georef_download_disabled"))}},{key:"enablePrintButtons",value:function(){var e=document.querySelector(".m-printermap .m-panel-btn.icon-impresora"),t=document.querySelector(".m-georefimage2 .m-panel-btn.icon-descargar");null!==e&&(e.disabled=!1,e.parentNode.title=D("printmap")),null!==t&&(t.disabled=!1,t.parentNode.title=D("georef_download"))}},{key:"activeDefault",value:function(){null===this.layerSelectedA&&(this.layerSelectedA=this.layers[this.defaultLyrA],this.template.querySelector("#m-lyrcompare-lyrA").selectedIndex=this.defaultLyrA),null===this.layerSelectedB&&(this.layerSelectedB=this.layers[this.defaultLyrB],this.template.querySelector("#m-lyrcompare-lyrB").selectedIndex=this.defaultLyrB),null===this.layerSelectedC&&(this.layerSelectedC=this.layers[this.defaultLyrC],this.template.querySelector("#m-lyrcompare-lyrC").selectedIndex=this.defaultLyrC),null===this.layerSelectedD&&(this.layerSelectedD=this.layers[this.defaultLyrD],this.template.querySelector("#m-lyrcompare-lyrD").selectedIndex=this.defaultLyrD)}},{key:"deactivateCurtain",value:function(){var e=document.querySelector(".lyrcompare-swipe-control");e&&(e.classList.display="none !important"),this.comparisonMode=0,null!==this.layerSelectedA&&null!==this.layerSelectedB&&(this.layerSelectedA.setVisible(!1),this.layerSelectedB.setVisible(!1)),null!==this.layerSelectedC&&null!==this.layerSelectedD&&void 0!==this.layerSelectedC&&void 0!==this.layerSelectedD&&(this.layerSelectedC.setVisible(!1),this.layerSelectedD.setVisible(!1)),this.removeEffectsComparison(),this.updateControls(),this.enablePrintButtons(),this.layerSelectedA=null,this.layerSelectedB=null,this.layerSelectedC=null,this.layerSelectedD=null,document.querySelector("#m-lyrcompare-list-container").innerHTML="",this.map.fire(IDEE.evt.ADDED_LAYER)}},{key:"removeEffectsComparison",value:function(){this.getImpl().removeEffectsCurtain()}},{key:"updateControls",value:function(){this.removeActivate(),this.activateByMode();var e=document.querySelector(".lyrcompare-swipe-control");if(0===this.comparisonMode)return this.template.querySelectorAll('select[id^="m-lyrcompare-"]').forEach((function(e){e.disabled=!0})),void this.template.querySelectorAll('input[type="radio"]').forEach((function(e){e.disabled=!0}));1===this.comparisonMode?(e&&(e.style.opacity="1"),this.template.querySelector("#m-lyrcompare-lyrA-lbl").classList.add("cp-columns-2"),this.template.querySelector("#m-lyrcompare-lyrB-lbl").classList.add("cp-columns-1"),this.template.querySelector("#m-lyrcompare-lyrA-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrB-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrA").disabled=!1,this.template.querySelector("#m-lyrcompare-lyrB").disabled=!1):2===this.comparisonMode?(e&&(e.style.opacity="1"),this.template.querySelector("#m-lyrcompare-lyrA-lbl").classList.add("cp-columns-4"),this.template.querySelector("#m-lyrcompare-lyrB-lbl").classList.add("cp-columns-3"),this.template.querySelector("#m-lyrcompare-lyrA-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrB-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrA").disabled=!1,this.template.querySelector("#m-lyrcompare-lyrB").disabled=!1):3===this.comparisonMode&&(e&&(e.style.opacity="1"),this.template.querySelectorAll('select[id^="m-lyrcompare-"]').forEach((function(e){e.disabled=!1})),this.template.querySelector("#m-lyrcompare-lyrA-lbl").classList.add("cp-th-large-1"),this.template.querySelector("#m-lyrcompare-lyrB-lbl").classList.add("cp-th-large-2"),this.template.querySelector("#m-lyrcompare-lyrC-lbl").classList.add("cp-th-large-3"),this.template.querySelector("#m-lyrcompare-lyrD-lbl").classList.add("cp-th-large-4"),this.template.querySelector("#m-lyrcompare-lyrA-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrB-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrC-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrD-cont").style.display="block"),this.template.querySelectorAll('input[type="radio"]').forEach((function(e){e.disabled=!1}))}},{key:"activateByMode",value:function(){1===this.comparisonMode?this.template.querySelector("#m-lyrcompare-vcurtain").classList.add("buttom-pressed-vcurtain"):2===this.comparisonMode?this.template.querySelector("#m-lyrcompare-hcurtain").classList.add("buttom-pressed-hcurtain"):3===this.comparisonMode&&this.template.querySelector("#m-lyrcompare-multicurtain").classList.add("buttom-pressed-multicurtain")}},{key:"removeActivate",value:function(){this.template.querySelector("#m-lyrcompare-vcurtain").classList.remove("buttom-pressed-vcurtain"),this.template.querySelector("#m-lyrcompare-hcurtain").classList.remove("buttom-pressed-hcurtain"),this.template.querySelector("#m-lyrcompare-multicurtain").classList.remove("buttom-pressed-multicurtain"),this.template.querySelectorAll('select[id^="m-lyrcompare-"]').disabled=!0,null!==this.template.querySelector("#m-lyrcompare-lyrA-cont")&&(this.template.querySelector("#m-lyrcompare-lyrA-cont").style.display="none"),null!==this.template.querySelector("#m-lyrcompare-lyrB-cont")&&(this.template.querySelector("#m-lyrcompare-lyrB-cont").style.display="none"),null!==this.template.querySelector("#m-lyrcompare-lyrC-cont")&&(this.template.querySelector("#m-lyrcompare-lyrC-cont").style.display="none"),null!==this.template.querySelector("#m-lyrcompare-lyrD-cont")&&(this.template.querySelector("#m-lyrcompare-lyrD-cont").style.display="none"),null!==this.template.querySelector("#m-lyrcompare-lyrA-lbl")&&(this.template.querySelector("#m-lyrcompare-lyrA-lbl").classList=""),null!==this.template.querySelector("#m-lyrcompare-lyrB-lbl")&&(this.template.querySelector("#m-lyrcompare-lyrB-lbl").classList="");var e=document.querySelector(".lyrcompare-swipe-control");e&&(e.style.opacity="0")}},{key:"removeCurtainLayers",value:function(e){var t=this;e.forEach((function(e){if(e instanceof Object){if(e instanceof Object){var r=t.map.getLayers().filter((function(t){return e.name.includes(t.name)}))[t.map.getLayers().filter((function(t){return e.name.includes(t.name)})).length-1];t.map.removeLayers(r)}}else if(e.indexOf("*")>=0){var o=e.split("*")[3],n=t.map.getLayers().filter((function(e){return o.includes(e.name)}))[t.map.getLayers().filter((function(e){return o.includes(e.name)})).length-1];t.map.removeLayers(n)}else{var i=t.map.getLayers().filter((function(t){return e.includes(t.name)}))[t.map.getLayers().filter((function(t){return e.includes(t.name)})).length-1];t.map.removeLayers(i)}}))}},{key:"equals",value:function(t){return t instanceof e}},{key:"getLayersNames",value:function(){return this.layers.map((function(e){return e.name}))}},{key:"accessibilityTab",value:function(e){var t=this;e.querySelectorAll('[tabindex="0"]').forEach((function(e){return e.setAttribute("tabindex",t.order)}))}}],r&&k(t.prototype,r),o&&k(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,o}();const z=JSON.parse('{"Pu":{"name":"IberpixCompare","description":"Plugin de comparadores","text":"Plugin que reune los comparadores","version":"2.0.2","date":"Octubre, 2020","author":"","org":"CNIG","tags":"api-idee,plugin","icon":"./facade/assets/icons/icons.svg","centralized":true}}');function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function R(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,N(o.key),o)}}function N(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=T(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}function K(e,t,r){return t=F(t),function(e,t){if(t&&("object"==T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,H()?Reflect.construct(t,r||[],F(e).constructor):t.apply(e,r))}function H(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(H=function(){return!!e})()}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function G(e,t){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G(e,t)}var W=function(){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(t=K(this,e)).name_="lyrcompare",t.controls_=[],t.map_=null,t.position=r.position,t.collapsed=!0,t.collapsible=!0,t.staticDivision=1,t.opacityVal=100,t.comparisonMode=0,t.metadata_=z.Pu,t.tooltip_=r.tooltip||D("tooltip"),t.interface=void 0===r.interface||r.interface,t.defaultLyrA=0,t.defaultLyrB=0!==t.defaultLyrA?0:1,t.defaultLyrC=2,t.defaultLyrD=3,t.order=r.order,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(e,IDEE.Plugin),t=e,(r=[{key:"addTo",value:function(e){this.map_=e;var t={collapsible:this.collapsible,collapsed:this.collapsed,staticDivision:this.staticDivision,opacityVal:this.opacityVal,comparisonMode:this.comparisonMode,defaultLyrA:this.defaultLyrA,defaultLyrB:this.defaultLyrB,defaultLyrC:this.defaultLyrC,defaultLyrD:this.defaultLyrD,interface:this.interface,order:this.order};this.control_=new q(t),this.controls_.push(this.control_),this.interface?this.panel_=new IDEE.ui.Panel("panelLyrcompare",{collapsible:this.collapsible,collapsed:this.collapsed,position:IDEE.ui.position[this.position],className:"m-plugin-lyrcompare",collapsedButtonClass:"cp-icon",tooltip:this.tooltip_}):this.panel_=new IDEE.ui.Panel("panelLyrcompare",{collapsible:!1,collapsed:!0,position:IDEE.ui.position[this.position],className:"m-plugin-lyrcompare-hidden"}),this.panel_.addControls(this.controls_),e.addPanels(this.panel_)}},{key:"destroy",value:function(){this.deactivate();var e=document.querySelector(".lyrcompare-swipe-control");e&&e.remove(),this.map_.removeControls([this.control_]),this.control_.removeCurtainLayers(this.control_.getLayersNames());var t=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];this.name_=t[0],this.controls_=t[1],this.map_=t[2],this.position=t[3],this.collapsed=t[4],this.collapsible=t[5],this.staticDivision=t[6],this.opacityVal=t[7],this.comparisonMode=t[8],this.metadata_=t[9],this.tooltip_=t[10],this.interface=t[11],this.defaultLyrA=t[12],this.defaultLyrB=t[13],this.defaultLyrC=t[14],this.defaultLyrD=t[15]}},{key:"name",get:function(){return this.name_}},{key:"getMetadata",value:function(){return this.metadata_}},{key:"activate",value:function(){this.control_.activateCurtain()}},{key:"deactivate",value:function(){this.control_.deactivateCurtain()}},{key:"equals",value:function(t){return t instanceof e}}])&&R(t.prototype,r),o&&R(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,o}();function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function J(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Z(o.key),o)}}function Z(e){var t=function(e,t){if("object"!=U(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=U(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==U(t)?t:t+""}function Y(e,t,r){return t=X(t),function(e,t){if(t&&("object"==U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,$()?Reflect.construct(t,r||[],X(e).constructor):t.apply(e,r))}function $(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($=function(){return!!e})()}function Q(){return Q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var o=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=X(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},Q.apply(null,arguments)}function X(e){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},X(e)}function ee(e,t){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ee(e,t)}var te=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Y(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}(e,IDEE.impl.Control),t=e,r=[{key:"addTo",value:function(t,r){var o,n,i,a,l,s=this;t.getMapImpl().getInteractions().forEach((function(e){e instanceof ol.interaction.DoubleClickZoom&&(s.dblClickInteraction_=e)})),(o=e,n="addTo",i=this,l=Q(X(1&(a=3)?o.prototype:o),n,i),2&a&&"function"==typeof l?function(e){return l.apply(i,e)}:l)([t,r])}}],r&&J(t.prototype,r),o&&J(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,o}(),re=r(565),oe=r.n(re);function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function ie(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,ae(o.key),o)}}function ae(e){var t=function(e,t){if("object"!=ne(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=ne(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ne(t)?t:t+""}function le(e,t,r){return t=ue(t),function(e,t){if(t&&("object"==ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,se()?Reflect.construct(t,r||[],ue(e).constructor):t.apply(e,r))}function se(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(se=function(){return!!e})()}function ce(){return ce="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var o=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=ue(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},ce.apply(null,arguments)}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}function pe(e,t){return pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pe(e,t)}var ye=function(){function e(t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(IDEE.utils.isUndefined(te)||IDEE.utils.isObject(te)&&IDEE.utils.isNullOrEmpty(Object.keys(te)))&&IDEE.exception(D("exception")),(r=le(this,e,[new te,"Mirrorpanel"])).template=null,r.modeViz=t.modeViz,r.showCursors=t.showCursors,r.mapL={A:null,B:null,C:null,D:null},r.lyrCursor={A:null,B:null,C:null,D:null},r.featureLyrCursor={A:null,B:null,C:null,D:null},r.oldClass="",r.styleCursor=new IDEE.style.Point({icon:{form:IDEE.style.form.CIRCLE,fontsize:.5,radius:5,rotation:0,rotate:!1,offset:[0,0],color:"black",fill:"red",gradientcolor:"#088A85",opacity:.8}}),r.backImgLayersConfig=t.backImgLayersConfig,r.fullTOCConfig=t.fullTOCConfig,r.vectorsConfig=t.vectorsConfig,r.order=t.order,r.createMapContainers(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pe(e,t)}(e,IDEE.Control),t=e,r=[{key:"createView",value:function(e){var t=this;return IDEE.template.compileSync||(IDEE.template.compileSync=function(e,t){var r,o={};IDEE.utils.isUndefined(t)||(o=IDEE.utils.extends(o,t.vars),r=t.parseToHtml);var n=Handlebars.compile(e)(o);return!1!==r?IDEE.utils.stringToHtml(n):n}),this.mapL.A=e,this.showCursors&&this.addLayerCursor("A"),new Promise((function(e,r){var o;o={jsonp:!0,vars:{translations:{titleMirrorpanel:D("titleMirrorpanel"),modViz0:D("modViz0"),modViz1:D("modViz1"),modViz2:D("modViz2"),modViz3:D("modViz3"),modViz4:D("modViz4"),modViz5:D("modViz5"),modViz6:D("modViz6"),modViz7:D("modViz7"),modViz8:D("modViz8"),modViz9:D("modViz9")}}},t.template=IDEE.template.compileSync(oe(),o),t.accessibilityTab(t.template),t.template.querySelectorAll('button[id^="set-mirror-"]').forEach((function(e){var r=parseInt(e.getAttribute("id").replace("set-mirror-",""),10);e.addEventListener("click",(function(e){t.manageVisionPanelByCSSGrid(r)})),e.addEventListener("keydown",(function(e){13===e.keyCode&&t.manageVisionPanelByCSSGrid(r)}))})),e(t.template),t.manageVisionPanelByCSSGrid(t.modeViz)}))}},{key:"activate",value:function(){var t,r,o,n,i;(t=e,r="activate",o=this,i=ce(ue(1&(n=3)?t.prototype:t),r,o),2&n&&"function"==typeof i?function(e){return i.apply(o,e)}:i)([])}},{key:"deactivate",value:function(){this.manageVisionPanelByCSSGrid(0)}},{key:"createMapContainers",value:function(){var e=document.createElement("div");e.id="lienzo",e.classList.add("mirrorpanel-grid");var t=document.getElementById("mapjs")||document.getElementById("map");this.oldClass=t.classList.toString(),t.parentElement.insertBefore(e,t),t.classList.add("mirror1"),e.appendChild(t);var r=document.createElement("div");r.id="mapjsB",r.classList.add("mirror2"),e.appendChild(r);var o=document.createElement("div");o.id="mapjsC",o.classList.add("mirror3"),e.appendChild(o);var n=document.createElement("div");n.id="mapjsD",n.classList.add("mirror4"),e.appendChild(n)}},{key:"manageVisionPanelByCSSGrid",value:function(e){var t=this.modeViz;(document.getElementById("mapjs")||document.getElementById("map")).style.display="none",document.getElementById("mapjsB").style.display="none",document.getElementById("mapjsC").style.display="none",document.getElementById("mapjsD").style.display="none",this.template.querySelector("#set-mirror-".concat(t)).classList.remove("buttom-pressed");for(var r=0;r<10;r+=1)document.getElementById("lienzo").classList.remove("modeViz".concat(r));document.getElementById("lienzo").classList.add("modeViz".concat(e)),[1,2].includes(e)&&null===this.mapL.B&&this.createMapObjects("B"),[3,7,8,9].includes(e)&&(null===this.mapL.B&&this.createMapObjects("B"),null===this.mapL.C&&this.createMapObjects("C")),[4,5,6].includes(e)&&(null===this.mapL.B&&this.createMapObjects("B"),null===this.mapL.C&&this.createMapObjects("C"),null===this.mapL.D&&this.createMapObjects("D")),this.modeViz=e,this.template.querySelector("#set-mirror-".concat(e)).classList.add("buttom-pressed"),this.map_.refresh(),null!==this.mapL.B&&this.mapL.B.refresh(),null!==this.mapL.C&&this.mapL.C.refresh(),null!==this.mapL.D&&this.mapL.D.refresh(),0!==e?(document.querySelector("#m-cp-mirrorpanel > button").click(),this.disablePrintButtons()):this.enablePrintButtons()}},{key:"disablePrintButtons",value:function(){var e=document.querySelector(".m-printermap .m-panel-btn.icon-impresora"),t=document.querySelector(".m-georefimage2 .m-panel-btn.icon-descargar");null!==e&&(e.disabled=!0,e.parentNode.title=D("print_disabled")),null!==t&&(t.disabled=!0,t.parentNode.title=D("georef_download_disabled"))}},{key:"enablePrintButtons",value:function(){var e=document.querySelector(".m-printermap .m-panel-btn.icon-impresora"),t=document.querySelector(".m-georefimage2 .m-panel-btn.icon-descargar");null!==e&&(e.disabled=!1,e.parentNode.title=D("printmap")),null!==t&&(t.disabled=!1,t.parentNode.title=D("georef_download"))}},{key:"createMapObjects",value:function(e){this.mapL[e]=IDEE.map({container:"mapjs".concat(e),center:this.map_.getCenter(),projection:"".concat(this.map_.getProjection().code,"*").concat(this.map_.getProjection().units),zoom:this.map_.getZoom()}),this.mapL[e].getMapImpl().setView(this.map_.getMapImpl().getView()),["B","C","D"].indexOf(e)>-1&&this.addCommonPlugins(this.mapL[e],e),this.showCursors&&this.addLayerCursor(e),this.mapL[e].refresh()}},{key:"addLayerCursor",value:function(e){var t=this;this.lyrCursor[e]=new IDEE.layer.Vector({name:"Coordenadas centro ".concat(e)},{displayInLayerSwitcher:!1}),this.featureLyrCursor[e]=new IDEE.Feature("Center".concat(e),{type:"Feature",properties:{},geometry:{type:"Point",coordinates:this.mapL[e].getCenter()}}),this.lyrCursor[e].addFeatures([this.featureLyrCursor[e]]),this.lyrCursor[e].setStyle(this.styleCursor),this.lyrCursor[e].setZIndex(5e3),this.mapL[e].addLayers(this.lyrCursor[e]),this.mapL[e].getMapImpl().on("pointermove",(function(r){t.lyrCursor[e].setVisible(!1),Object.keys(t.featureLyrCursor).forEach((function(o){o!==e&&null!==t.featureLyrCursor[o]&&(t.lyrCursor[o].setVisible(!0),t.featureLyrCursor[o].setGeometry({type:"Point",coordinates:r.coordinate}))}))}))}},{key:"addCommonPlugins",value:function(e,t){void 0!==IDEE.plugin.BackImgLayer&&void 0!==this.backImgLayersConfig.position&&(this.backImgLayersConfig.layerId="B"===t?1:"C"===t?2:"D"===t?3:0,e.addPlugin(new IDEE.plugin.BackImgLayer(this.backImgLayersConfig))),void 0!==IDEE.plugin.FullTOC&&void 0!==this.fullTOCConfig.position&&e.addPlugin(new IDEE.plugin.FullTOC(this.fullTOCConfig)),void 0!==IDEE.plugin.Vectors&&void 0!==this.vectorsConfig.position&&e.addPlugin(new IDEE.plugin.Vectors(this.vectorsConfig))}},{key:"removeMaps",value:function(){this.mapL.B=null,this.mapL.C=null,this.mapL.D=null}},{key:"destroyMapsContainer",value:function(){this.manageVisionPanelByCSSGrid(0),document.getElementById("mapjsB").remove(),document.getElementById("mapjsC").remove(),document.getElementById("mapjsD").remove();var e=document.getElementById("lienzo"),t=document.querySelector(".mirror1");e.parentElement.insertBefore(t,e),t.style.display="block",t.classList.remove("mirror1"),t.classList=this.oldClass,document.getElementById("lienzo").remove()}},{key:"equals",value:function(t){return t instanceof e}},{key:"accessibilityTab",value:function(e){var t=this;e.querySelectorAll('[tabindex="0"]').forEach((function(e){return e.setAttribute("tabindex",t.order)}))}}],r&&ie(t.prototype,r),o&&ie(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,o}();function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function me(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,fe(o.key),o)}}function fe(e){var t=function(e,t){if("object"!=de(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=de(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==de(t)?t:t+""}function he(e,t,r){return t=be(t),function(e,t){if(t&&("object"==de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,ve()?Reflect.construct(t,r||[],be(e).constructor):t.apply(e,r))}function ve(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ve=function(){return!!e})()}function be(e){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},be(e)}function ge(e,t){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ge(e,t)}var Se=function(){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(t=he(this,e)).name_="mirrorpanel",t.map_=null,t.controls_=[],t.position=r.position,t.collapsed=!0,t.collapsible=!0,t.modeViz=r.modeViz,void 0===t.modeViz&&(t.modeViz=0),t.enabledKeyFunctions=r.enabledKeyFunctions,void 0===t.enabledKeyFunctions&&(t.enabledKeyFunctions=!0),t.showCursors=r.showCursors,void 0===t.showCursors&&(t.showCursors=!0),t.backImgLayersConfig=o,t.fullTOCConfig=n,t.vectorsConfig=i,t.interface=void 0===r.interface||r.interface,t.tooltip_=r.tooltip||D("tooltip"),t.metadata_=z.Pu,t.order=a,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ge(e,t)}(e,IDEE.Plugin),t=e,(r=[{key:"addTo",value:function(e){var t=this,r={pluginOnLeft:!!["TL","BL"].includes(this.position),collapsible:this.collapsible,collapsed:this.collapsed,modeViz:this.modeViz,showCursors:this.showCursors,backImgLayersConfig:this.backImgLayersConfig,fullTOCConfig:this.fullTOCConfig,vectorsConfig:this.vectorsConfig,order:this.order};this.control_=new ye(r),this.controls_.push(this.control_),this.map_=e,this.panel_=new IDEE.ui.Panel("panelMirrorpanel",{collapsible:this.collapsible,collapsed:this.collapsed,position:IDEE.ui.position[this.position],modeViz:this.modeViz,showCursors:this.showCursors,className:this.interface?"m-plugin-panelMirrorpanel":"m-plugin-panelMirrorpanel hidden",collapsedButtonClass:"mirrorpanel-icon",tooltip:this.tooltip_}),this.panel_.addControls(this.controls_),e.addPanels(this.panel_),document.addEventListener("keydown",(function(e){if(t.enabledKeyFunctions){for(var r=0;r<10;r+=1)e.ctrlKey&&e.shiftKey&&e.key==="F".concat(r+1)&&t.control_.manageVisionPanelByCSSGrid(r);var o=["Control","Shift","Alt","Meta"].includes(e.key)?"":e.key;"Escape"==(e.ctrlKey?"Control ":"")+(e.shiftKey?"Shift ":"")+(e.altKey?"Alt ":"")+(e.metaKey?"Meta ":"")+o&&t.control_.manageVisionPanelByCSSGrid(0)}}))}},{key:"destroy",value:function(){document.removeEventListener("keydown",(function(e){})),this.control_.removeMaps(),this.control_.destroyMapsContainer(),this.map_.removeControls([this.control_]);var e=[null,null,null,null,null,null,null,null,null,null];this.control_=e[0],this.panel_=e[1],this.map_=e[2],this.collapsible=e[3],this.collapsed=e[4],this.modeViz=e[5],this.enabledKeyFunctions=e[6],this.showCursors=e[7],this.backImgLayersParams=e[8],this.interface=e[9]}},{key:"name",get:function(){return this.name_}},{key:"getMetadata",value:function(){return this.metadata_}},{key:"activate",value:function(){this.control_.activate()}},{key:"deactivate",value:function(){this.control_.deactivate()}}])&&me(t.prototype,r),o&&me(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,o}();function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function we(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Ee(o.key),o)}}function Ee(e){var t=function(e,t){if("object"!=_e(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=_e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_e(t)?t:t+""}function Ce(e,t,r){return t=Le(t),function(e,t){if(t&&("object"==_e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Oe()?Reflect.construct(t,r||[],Le(e).constructor):t.apply(e,r))}function Oe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Oe=function(){return!!e})()}function De(){return De="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var o=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=Le(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},De.apply(null,arguments)}function Le(e){return Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Le(e)}function Pe(e,t){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pe(e,t)}var je=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ce(this,e,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}(e,IDEE.impl.Control),t=e,r=[{key:"addTo",value:function(t,r){var o,n,i,a,l;this.map=t,this.olMap=t.getMapImpl(),(o=e,n="addTo",i=this,l=De(Le(1&(a=3)?o.prototype:o),n,i),2&a&&"function"==typeof l?function(e){return l.apply(i,e)}:l)([t,r])}}],r&&we(t.prototype,r),o&&we(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,o}(),Ie=r(194),ke=r.n(Ie);function Me(e){return Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Me(e)}function Be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function Ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ve(e,t,r){return(t=qe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xe(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,qe(o.key),o)}}function qe(e){var t=function(e,t){if("object"!=Me(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=Me(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Me(t)?t:t+""}function ze(e,t,r){return t=Re(t),function(e,t){if(t&&("object"==Me(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Te()?Reflect.construct(t,r||[],Re(e).constructor):t.apply(e,r))}function Te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Te=function(){return!!e})()}function Re(e){return Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Re(e)}function Ne(e,t){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ne(e,t)}var Ke=function(){function e(t){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(IDEE.utils.isUndefined(je)||IDEE.utils.isObject(je)&&IDEE.utils.isNullOrEmpty(Object.keys(je)))&&IDEE.exception(D("exception"));var o=new je;return(r=ze(this,e,[o,"IberpixCompare"])).template=null,r.order=t.order,r.position=t.position,r.params=[t.mirrorpanelParams,t.lyrcompareParams],r.params.forEach((function(e){e.position=r.position})),r.mirrorpanel=new Se(t.mirrorpanelParams,t.backImgLayersConfig,t.fullTOCConfig,t.vectorsConfig,t.order),r.lyrcompare=new W(Ae(Ae({},t.lyrcompareParams),{},{order:t.order})),r.panels=[],r.plugins=[r.mirrorpanel,r.lyrcompare],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}(e,IDEE.Control),t=e,r=[{key:"createView",value:function(e){var t=this;return this.map=e,new Promise((function(r,o){var n={jsonp:!0,vars:{translations:{tooltipLyr:D("tooltipLyr"),tooltipMirrorpanel:D("tooltipMirrorpanel")}}};t.template=IDEE.template.compileSync(ke(),n),t.accessibilityTab(t.template),r(t.template),t.addComparators(e)}))}},{key:"addComparators",value:function(e){var t=this;this.plugins.forEach((function(r,o){e.addPlugin(r),t.panels.push(r.panel_._element);var n=document.querySelector(".".concat(r.panel_._className," .m-panel-controls"));n.classList.add("cp-".concat(r.name)),document.querySelector(".".concat(r.panel_._className)).remove(),t.template.querySelector("#m-cp-".concat(r.name)).append(n),o===t.plugins.length-1&&t.addButtonEvents()}))}},{key:"addButtonEvents",value:function(){var e=this;this.plugins.forEach((function(t){e.template.querySelector("#m-cp-".concat(t.name," .cp-button")).addEventListener("click",(function(r){e.deactivateAndActivate(t)})),e.template.querySelector("#m-cp-".concat(t.name," .cp-button")).addEventListener("keydown",(function(r){13!==r.keyCode&&e.deactivateAndActivate(t),9===r.keyCode&&e.deactivateAndActivate(t)}))}))}},{key:"deactivateAndActivate",value:function(e){var t=this;this.plugins.forEach((function(r){r.name!==e.name?(t.template.querySelector("#m-cp-".concat(r.name," .cp-").concat(r.name)).classList.remove("hide-panel"),t.template.querySelector("#m-cp-".concat(r.name," .cp-button")).classList.remove("active"),r.deactivate()):"mirrorpanel"!==e.name&&r.deactivate()})),this.template.querySelector("#m-cp-".concat(e.name," .cp-button")).classList.toggle("active"),this.template.querySelector("#m-cp-".concat(e.name," .cp-").concat(e.name)).classList.toggle("hide-panel")}},{key:"deactivate",value:function(){var e=this;this.plugins.forEach((function(t,r){t.deactivate(),document.querySelector(".m-plugin-iberpixcompare").parentElement.append(e.panels[r])})),this.map.removePlugins(this.plugins)}},{key:"equals",value:function(t){return t instanceof e}},{key:"accessibilityTab",value:function(e){var t=this;e.querySelectorAll('[tabindex="0"]').forEach((function(e){return e.setAttribute("tabindex",t.order)}))}}],r&&xe(t.prototype,r),o&&xe(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,o}();function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function Fe(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Ge(o.key),o)}}function Ge(e){var t=function(e,t){if("object"!=He(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=He(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==He(t)?t:t+""}function We(e,t,r){return t=Je(t),function(e,t){if(t&&("object"==He(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ue()?Reflect.construct(t,r||[],Je(e).constructor):t.apply(e,r))}function Ue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ue=function(){return!!e})()}function Je(e){return Je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Je(e)}function Ze(e,t){return Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ze(e,t)}var Ye=function(){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(t=We(this,e)).name_="iberpixcompare",t.map_=null,t.controls_=[],t.className="m-plugin-iberpixcompare";return t.position=["TR","TL","BL","BR"].includes(r.position)?r.position:"TR",t.collapsed=r.collapsed,void 0===t.collapsed&&(t.collapsed=!0),t.collapsible=r.collapsible,void 0===t.collapsible&&(t.collapsible=!0),t.vertical=r.vertical,void 0===t.vertical&&(t.vertical=!0),t.mirrorpanelParams=r.mirrorpanelParams||{},t.lyrcompareParams=r.lyrcompareParams||{},t.backImgLayersConfig=r.backImgLayersConfig||{},t.fullTOCConfig=r.fullTOCConfig||{},t.vectorsConfig=r.vectorsConfig||{},t.metadata_=z.Pu,t.tooltip_=r.tooltip||D("tooltip"),t.order=r.order>=-1?r.order:null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ze(e,t)}(e,IDEE.Plugin),t=e,o=[{key:"getJSONTranslations",value:function(e){return"en"===e||"es"===e?"en"===e?E:C:IDEE.language.getTranslation(e).iberpixcompare}}],(r=[{key:"addTo",value:function(e){this.map_=e,this.control_=new Ke({mirrorpanelParams:this.mirrorpanelParams,lyrcompareParams:this.lyrcompareParams,backImgLayersConfig:this.backImgLayersConfig,fullTOCConfig:this.fullTOCConfig,vectorsConfig:this.vectorsConfig,position:this.position,order:this.order}),this.controls_.push(this.control_),this.panel_=new IDEE.ui.Panel("panelIberpixCompare",{collapsible:this.collapsible,collapsed:this.collapsed,position:IDEE.ui.position[this.position],className:this.className,collapsedButtonClass:"cp-icon",tooltip:this.tooltip_,order:this.order}),this.panel_.addControls(this.controls_),e.addPanels(this.panel_),this.panel_._element.classList.add(this.vertical?"orientation-vertical":"orientation-horizontal")}},{key:"destroy",value:function(){this.control_.deactivate(),this.map_.removeControls([this.control_]);var e=[null,null,null,null,null,null];this.control_=e[0],this.panel_=e[1],this.map_=e[2],this.vertical=e[3],this.mirrorpanelParams=e[4],this.lyrcompareParams=e[5]}},{key:"name",get:function(){return this.name_}},{key:"getMetadata",value:function(){return this.metadata_}},{key:"getAPIRest",value:function(){return"".concat(this.name,"=").concat(this.position,"*!").concat(this.vertical)}},{key:"activate",value:function(){this.control_.activate()}},{key:"deactivate",value:function(){this.control_.deactivate()}},{key:"equals",value:function(t){return t instanceof e}}])&&Fe(t.prototype,r),o&&Fe(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,o}();window.IDEE.plugin||(window.IDEE.plugin={}),window.IDEE.control||(window.IDEE.control={}),window.IDEE.impl||(window.IDEE.impl={}),window.IDEE.impl.control||(window.IDEE.impl.control={}),window.IDEE.plugin.LyrCompare=W,window.IDEE.control.LyrCompareControl=q,window.IDEE.plugin.Mirrorpanel=Se,window.IDEE.control.CompareMirrorpanel=ye,window.IDEE.plugin.IberpixCompare=Ye,window.IDEE.control.IberpixCompareControl=Ke,window.IDEE.impl.control.Lyrcomparecontrol=b,window.IDEE.impl.control.LyrcompareInteraction=c,window.IDEE.impl.control.CompareMirrorpanel=te,window.IDEE.impl.control.IberpixCompareControl=je})()})();
//# sourceMappingURL=iberpixcompare.ol.min.js.map