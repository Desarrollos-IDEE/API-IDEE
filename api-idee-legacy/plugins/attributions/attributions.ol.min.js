(()=>{var t={945:t=>{t.exports='<div id="m-attributions-container" class="m-control m-container m-attributions">\n    <button id=\'close-button\' class="{{icon}}"></button>\n</div>'}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}function r(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}function o(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(o=function(){return!!t})()}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function a(t,e){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},a(t,e)}const u=function(){function n(e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),(r=function(e,n,r){return n=i(n),function(e,n){if(n&&("object"==t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e)}(e,o()?Reflect.construct(n,r||[],i(e).constructor):n.apply(e,r))}(this,n)).map_=e,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(n,IDEE.Object),r=n,(u=[{key:"registerEvent",value:function(t,e){this.map_.getMapImpl().on(t,e)}}])&&e(r.prototype,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,u}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,s(r.key),r)}}function s(t){var e=function(t){if("object"!=c(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==c(e)?e:e+""}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},p.apply(null,arguments)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}var m=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,n){return e=y(e),function(t,e){if(e&&("object"==c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,n||[],y(t).constructor):e.apply(t,n))}(this,t,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(t,IDEE.impl.Control),e=t,n=[{key:"addTo",value:function(e,n){var r,o,i,a=this;e.getMapImpl().getInteractions().forEach((function(t){t instanceof ol.interaction.DoubleClickZoom&&(a.dblClickInteraction_=t)})),(r=t,o=this,"function"==typeof(i=p(y(1&3?r.prototype:r),"addTo",o))?function(t){return i.apply(o,t)}:i)([e,n])}},{key:"destroy",value:function(){this.facadeMap_.getMapImpl().removeControl(this),this.facadeMap_=null}}],n&&l(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}(),d=n(945),h=n.n(d);const v=JSON.parse('{"exception":{"impl":"The implementation used cannot create Attributions controls.","mode":"Options mode is bad setted. Tip: {mode: 1 | 2 | 3}.","type":"Missing \'type\' options. When \'url\' option is setted the plugin needs \'type\' option. Values = geojson | kml | topojson.","layer_name":"Missing \'layerName\' options. When \'url\' option is setted the plugin needs \'layerName\' option.","attribution_obsolete":"Developer message: IDEE.plugin.Attributions has been deprecated, use the Attributions control instead"},"attribution":"attribution","tooltip":"Acknowledgments"}'),g=JSON.parse('{"exception":{"impl":"La implementación no puede crear controles de Attribution.","mode":"La opción \'mode\' no ha sido establecida correctamente. Consejo: {mode: 1 | 2 | 3}.","type":"La opción \'type\' no ha sido establecida. Cuando la opción \'url\' es usada el plugin necesita la opción \'type\'. Valores = geojson | kml | topojson.","layer_name":"La opción \'layerName\' no ha sido establecida. Cuando la opción \'url\' es usada el plugin necesita la opción \'layerName\'.","attribution_obsolete":"Mensaje para el desarrollador: IDEE.plugin.Attributions ha quedado obsoleto, utilice en su lugar el control Attributions"},"attribution":"atribución","tooltip":"Reconocimientos"}');var E={en:v,es:g},_=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e="es","function"==typeof IDEE.language.getLang&&(e=IDEE.language.getLang()),e),r=function(t){return"es"===t||"en"===t?E[t]:IDEE.language.getTranslation(t).attributions}(n),o="";return IDEE.utils.isNullOrEmpty(r)?console.warn("The translation '".concat(n,"' has not been defined.")):o=t.split(".").reduce((function(t,e){return t[e]}),r),o};function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P(r.key),r)}}function P(t){var e=function(t){if("object"!=w(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==w(e)?e:e+""}function j(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(j=function(){return!!t})()}function I(t){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},I(t)}function S(t,e){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},S(t,e)}var D=function(){function t(e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(IDEE.utils.isUndefined(m)||IDEE.utils.isObject(m)&&IDEE.utils.isNullOrEmpty(Object.keys(m)))&&IDEE.exception(_("exception.impl")),(r=function(t,e,n){return e=I(e),function(t,e){if(e&&("object"==w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,j()?Reflect.construct(e,n||[],I(t).constructor):e.apply(t,n))}(this,t,[new m,"Attributions"])).position=e,r.closePanel=n,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(t,IDEE.Control),e=t,(n=[{key:"createView",value:function(t){var e=this;return this.map=t,console.warn(_("exception.attribution_obsolete")),new Promise((function(t,n){var r=IDEE.template.compileSync(h(),{vars:{icon:"BR"===e.position||"TR"===e.position?"g-cartografia-flecha-derecha":"g-cartografia-flecha-izquierda"}});r.querySelector("#close-button").addEventListener("click",(function(){return e.closePanel()})),e.html_=r,t(r)}))}},{key:"equals",value:function(e){return e instanceof t}},{key:"destroy",value:function(){this.getImpl().destroy()}}])&&O(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}();function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function C(t,e,n){return e=N(e),function(t,e){if(e&&("object"==x(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,L()?Reflect.construct(e,n||[],N(t).constructor):e.apply(t,n))}function L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(L=function(){return!!t})()}function N(t){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},N(t)}function A(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}function x(t){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M(r.key),r)}}function B(t,e,n){return e&&F(t.prototype,e),n&&F(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function M(t){var e=function(t){if("object"!=x(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==x(e)?e:e+""}var U=function(t){function e(t,n){return R(this,e),C(this,e,[function(e,n){var r=null;return IDEE.utils.isNullOrEmpty(e)||(r=e.getGeometry()),t(r,n)},n])}return A(e,t),B(e)}(function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return R(this,e),(n=C(this,e)).filterFunction_=t,n.cqlFilter_="",IDEE.utils.isNullOrEmpty(r.cqlFilter)||(n.cqlFilter_=r.cqlFilter),n}return A(e,t),B(e,[{key:"setFunction",value:function(t){this.filterFunction_=t}},{key:"getFunctionFilter",value:function(){return this.filterFunction_}},{key:"execute",value:function(t){return t.filter(this.filterFunction_)}},{key:"toCQL",value:function(){return this.cqlFilter_}}])}(function(){return B((function t(){R(this,t)}),[{key:"getFunctionFilter",value:function(){}},{key:"execute",value:function(t){}},{key:"toCQL",value:function(){}}])}())),W=function(t,e){var n="",r=new IDEE.format.WKT;return e.forEach((function(e,o){0!==o&&(n+=" OR ");var i=new IDEE.Feature("filtered_geom",{type:"Feature",geometry:e}),a=r.write(i);n+="".concat(t,"({{geometryName}}, ").concat(a,")")})),n},G=function(t){var e=function(t){var e,n=t,r=[];return n instanceof IDEE.layer.Vector?r=function(t){if(Array.isArray(t))return k(t)}(e=n.getFeatures().map((function(t){return t.getGeometry()})))||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return k(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}():(IDEE.utils.isArray(n)||(n=[n]),r=n.map((function(t){var e;return t instanceof IDEE.Feature?e=t.getGeometry():IDEE.isObject(t)&&(e=t),e}))),r}(t);return new U((function(t,n){var r=new jsts.io.GeoJSONReader,o=r.read(t);return e.some((function(t){var e=r.read(t);return jsts.operation.relate.RelateOp.intersects(o,e)}))}),{cqlFilter:W("INTERSECTS",e)})};function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J(r.key),r)}}function J(t){var e=function(t){if("object"!=q(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==q(e)?e:e+""}function Z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Z=function(){return!!t})()}function z(t){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},z(t)}function H(t,e){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},H(t,e)}var K=function(){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e=function(t,e,n){return e=z(e),function(t,e){if(e&&("object"==q(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Z()?Reflect.construct(e,n||[],z(t).constructor):e.apply(t,n))}(this,t),1!==n.mode||IDEE.utils.isNullOrEmpty(n.url)||IDEE.utils.isNullOrEmpty(n.type)&&console.warn(_("exception.type")),1!==n.mode||IDEE.utils.isNullOrEmpty(n.layerName)||IDEE.utils.isNullOrEmpty(n.type)&&console.warn(_("exception.layerName")),e.map_=null,e.controls_=[],e.mode_=Number.parseInt(n.mode,10)||1,e.url_=n.url||"https://componentes.idee.es/estaticos/Datos/reconocimientos/WMTS_PNOA_20170220/atribucionPNOA_Url.kml",e.type_=n.type||"kml",e.layerName_=n.layerName||"attributions",e.layer_=n.layer,e.scale_=Number.parseInt(n.scale,10)||1e4,e.attributionParam_=n.attributionParam||"atribucion",e.urlParam_=n.urlParam||"url",e.minWidth_=n.minWidth||"100px",e.maxWidth_=n.maxWidth||"200px",e.position_=n.position||"BL",e.defaultAttribution_=n.defaultAttribution||"Instituto Geogr&aacute;fico Nacional",e.defaultURL_=n.defaultURL||"https://www.ign.es/",e.tooltip_=n.tooltip||_("tooltip"),e.urlAttribute=n.urlAttribute||"Gobierno de España",window.addEventListener("resize",(function(t){return e.setCollapsiblePanel(t)})),e.order=n.order>=-1?n.order:null,e.options=n,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&H(t,e)}(t,IDEE.Plugin),e=t,n=[{key:"addTo",value:function(t){var e=this;this.map_=t,(IDEE.utils.isUndefined(u)||IDEE.utils.isObject(u)&&IDEE.utils.isNullOrEmpty(Object.keys(u)))&&IDEE.exception(_("exception.impl")),this.impl_=new u(t),this.control_=new D(this.position_,this.closePanel),this.controls_.push(this.control_),this.panel_=new IDEE.ui.Panel("Attributions",{collapsible:window.innerWidth<769,position:IDEE.ui.position[this.position_],className:"m-panel-attributions",collapsedButtonClass:"g-cartografia-info",tooltip:this.tooltip_,order:this.order}),this.panel_.addControls(this.control_),this.map_.addPanels(this.panel_),this.initMode(),this.onMoveEnd((function(){e.changeAttributions()}))}},{key:"destroy",value:function(){this.map_.removeControls([this.control_]),this.panel_=null}},{key:"initMode",value:function(){if(1===this.mode_){if(!(this.layer_ instanceof IDEE.layer.Vector)){var t={name:this.layerName_,url:this.url_};"geojson"===this.type_?this.layer_=new IDEE.layer.GeoJSON(t,{displayInLayerSwitcher:!1}):"kml"===this.type_?this.layer_=new IDEE.layer.KML(t,{displayInLayerSwitcher:!1}):this.type}this.map_.getLayers({name:this.layer_}).length<1&&(this.map_.addLayers(this.layer_),this.layer_.displayInLayerSwitcher=!1,this.layer_.setVisible(!1))}}},{key:"changeAttributions",value:function(){if(this.clearContent(),this.map_.getScale()<=this.scale_){this.setVisible(!0);var t=[];if(1===this.mode_){t=this.getMapAttributions();var e=this.map_.getZoom(),n=this.map_.getBaseLayers()[0],r=this.map_.getLayers().filter((function(t){return"WMTS"===t.type&&!t.displayInLayerSwitcher&&"OI.OrthoimageCoverage"===t.name})).length>0;t=void 0!==n&&"OI.OrthoimageCoverage"===n.name||r?e<14?[{attribution:"Copernicus Sentinel 2019",url:"https://sentinel.esa.int/web/sentinel/home"}].concat(t):[{attribution:"Sistema Cartográfico Nacional",url:"http://www.scne.es/"}].concat(t):void 0===n||"IGNBaseTodo"!==n.name&&"EL.GridCoverageDSM"!==n.name?void 0!==n&&"LC.LandCoverSurfaces"===n.name?e<14?[{attribution:"CORINE-Land Cover. Instituto Geográfico Nacional",url:this.defaultURL_}].concat(t):[{attribution:"Sistema Cartográfico Nacional",url:"http://www.scne.es/"}].concat(t):[{attribution:this.defaultAttribution_,url:this.defaultURL_}].concat(t):[{attribution:"Sistema Cartográfico Nacional",url:"http://www.scne.es/"}].concat(t)}this.addContent(t)}else{var o=this.map_.getZoom(),i=this.map_.getBaseLayers()[0],a=[{attribution:this.defaultAttribution_,url:this.defaultURL_}],u=this.map_.getLayers().filter((function(t){return"WMTS"===t.type&&!t.displayInLayerSwitcher&&"OI.OrthoimageCoverage"===t.name})).length>0;void 0!==i&&"OI.OrthoimageCoverage"===i.name||u?a=o<14?[{attribution:"Copernicus Sentinel 2019",url:"https://sentinel.esa.int/web/sentinel/home"}]:[{attribution:"Sistema Cartográfico Nacional",url:"http://www.scne.es/"}]:void 0===i||"IGNBaseTodo"!==i.name&&"EL.GridCoverageDSM"!==i.name?void 0!==i&&"LC.LandCoverSurfaces"===i.name&&(a=o<14?[{attribution:"CORINE-Land Cover. Instituto Geográfico Nacional",url:this.defaultURL_}]:[{attribution:"Sistema Cartográfico Nacional",url:"http://www.scne.es/"}]):a=[{attribution:"Sistema Cartográfico Nacional",url:"http://www.scne.es/"}],this.addContent(a)}}},{key:"addContent",value:function(t){var e=this,n=this.control_.getElement(),r=t.map((function(t,n,r){var o=document.createElement("a");o.target="_blank",o.href=t.url,o.setAttribute("rol","link"),o.setAttribute("tabindex",e.order),o.innerHTML=t.attribution;var i=e.map_.getScale()>e.scale_?"":", ".concat(e.urlAttribute);return o.innerHTML+=r.length-1===n?i:",",o})),o=document.createElement("div");r.forEach((function(t){o.append(t)})),n.append(o)}},{key:"clearContent",value:function(){if(!IDEE.utils.isNullOrEmpty(this.control_)){var t=this.control_.getElement();t.querySelectorAll("div").forEach((function(e){return t.removeChild(e)}))}}},{key:"setVisible",value:function(t){this.control_.getElement().style.display=!1===t?"none":""}},{key:"getMapAttributions",value:function(){var t=this;this.updateBBoxFeature();var e=this.map_.getLayers().find((function(t){return t.name.includes("attributions")})).getFeatures();return G(this.bboxFeature_).execute(e).map((function(e){return{attribution:e.getAttribute(t.attributionParam_)||"",url:e.getAttribute(t.urlParam_)||t.defaultURL_}})).filter((function(t,e,n){return n.map((function(t){return t.attribution})).indexOf(t.attribution)===e}))}},{key:"getLayerAttributions",value:function(){}},{key:"closePanel",value:function(){this.getPanel().collapse()}},{key:"changeContentAttribution",value:function(t){this.control_.changeContent(t)}},{key:"updateBBoxFeature",value:function(){var t=this.map_.getBbox(),e=t.x,n=t.y;this.bboxFeature_=new IDEE.Feature("bbox_feature",{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[[e.min,n.min],[e.min,n.max],[e.max,n.max],[e.max,n.min],[e.min,n.min]]]}})}},{key:"setCollapsiblePanel",value:function(t){this.getPanel()&&this.getPanel().getTemplatePanel()&&(t.target.innerWidth<769?(this.getPanel().getTemplatePanel().classList.remove("no-collapsible"),this.closePanel()):(this.getPanel().getTemplatePanel().classList.add("no-collapsible"),this.getPanel().getTemplatePanel().classList.remove("collapsed")))}},{key:"onMoveEnd",value:function(t){this.impl_.registerEvent("moveend",(function(e){return t(e)}))}},{key:"getPanel",value:function(){return this.panel_}},{key:"name",get:function(){return"attributions"}},{key:"mode",get:function(){return this.mode_}},{key:"position",get:function(){return this.position_}},{key:"scale",get:function(){return this.scale_}},{key:"defaultAttribution",get:function(){return this.defaultAttribution_}},{key:"defaultURL",get:function(){return this.defaultURL_}},{key:"url",get:function(){return this.url_}},{key:"type",get:function(){return this.type_}},{key:"layerName",get:function(){return this.layerName_}},{key:"attributionParam",get:function(){return this.attributionParam_}},{key:"urlParam",get:function(){return this.urlParam_}},{key:"getAPIRest",value:function(){return"".concat(this.name,"=").concat(this.position,"*").concat(this.tooltip_,"*").concat(this.mode,"*").concat(this.scale,"*").concat(this.defaultAttribution,"*").concat(this.defaultURL,"*").concat(this.url,"*").concat(this.type,"*").concat(this.layerName,"*").concat(this.attributionParam_,"*").concat(this.urlParam,"*").concat(this.minWidth_,"*").concat(this.maxWidth_,"*").concat(this.urlAttribute)}},{key:"getAPIRestBase64",value:function(){return"".concat(this.name,"=base64=").concat(IDEE.utils.encodeBase64(this.options))}}],r=[{key:"getJSONTranslations",value:function(t){return"en"===t||"es"===t?"en"===t?v:g:IDEE.language.getTranslation(t).attributions}}],n&&V(e.prototype,n),r&&V(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();window.IDEE.plugin||(window.IDEE.plugin={}),window.IDEE.control||(window.IDEE.control={}),window.IDEE.impl||(window.IDEE.impl={}),window.IDEE.impl.control||(window.IDEE.impl.control={}),window.IDEE.plugin.Attributions=K,window.IDEE.control.AttributionsControl=D,window.IDEE.impl.control.AttributionsControl=m})()})();
//# sourceMappingURL=attributions.ol.min.js.map
