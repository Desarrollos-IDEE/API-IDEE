(()=>{var e={650:()=>{},337:e=>{e.exports='<div id="div-contenedor" class="m-lyrcompare-container">\n    <div id="m-lyrcompare-titulo">{{translations.tooltip}}</div>\n    <div class="div-m-lyrcompare-panel">\n        <div class="m-lyrcompare-effect-buttoms">\n            <button id="m-lyrcompare-vcurtain" class="big-buttom" title="{{translations.tooltip_vcurtain}}"><i class="lyrcompare-icon-columns"></i></button>\n            <button id="m-lyrcompare-hcurtain" class="big-buttom" title="{{translations.tooltip_hcurtain}}"><i class="lyrcompare-icon-columns-rotate"></i></button>\n            <button id="m-lyrcompare-multicurtain" class="big-buttom" title="{{translations.tooltip_multicurtain}}"><i class="lyrcompare-icon-th-large"></i></button>\n        </div>\n        <div class="div-m-lyrcompare-transparent-opacity">\n            <label for="input-transparent-opacity" title="{{translations.opacity_tooltip}}">{{translations.opacity}}: </label>\n            <input type="range" min="0" max="100" value="100" id="input-transparent-opacity" title="{{translations.opacity_tooltip}}"></input>\n        </div>\n        <div class="div-m-lyrcompare-transparent-static">\n            <input type="radio" id="div-m-lyrcompare-transparent-dynamic" name="staticDivision" value="0"><label for="div-m-lyrcompare-transparent-dynamic" title="{{translations.dynamic_tooltip}}">{{translations.dynamic}}</label>\n            <input type="radio" id="div-m-lyrcompare-transparent-static" name="staticDivision" value="1"><label for="div-m-lyrcompare-transparent-static" title="{{translations.static_tooltip}}">{{translations.static}}</label>\n            <input type="radio" id="div-m-lyrcompare-transparent-mixed" name="staticDivision" value="2"><label for="div-m-lyrcompare-transparent-mixed" title="{{translations.mixed_tooltip}}">{{translations.mixed}}</label>\n        </div>\n        <hr />\n        {{#if options}}\n            <div class="m-lyrcompare-select" id="m-lyrcompare-lyrA-cont">\n                <label id="m-lyrcompare-lyrA-lbl" for="m-lyrcompare-lyrA" title="{{translations.lyr1Select_tooltip}}"></label>\n                <select disabled id="m-lyrcompare-lyrA">\n                    {{#each options}}\n                        <option value=\'{{this.name}}\'>{{this.legend}}</option>\n                    {{/each}}\n                </select>\n                <div class="m-lyrcompare-select_arrow"></div>\n            </div>\n            <div class="m-lyrcompare-select" id="m-lyrcompare-lyrB-cont">\n                <label id="m-lyrcompare-lyrB-lbl" for="m-lyrcompare-lyrB" title="{{translations.lyr2Select_tooltip}}"></label>\n                <select disabled id="m-lyrcompare-lyrB">\n                    {{#each options}}\n                        <option value=\'{{this.name}}\'>{{this.legend}}</option>\n                    {{/each}}\n                </select>\n                <div class="m-lyrcompare-select_arrow">\n                </div>\n            </div>\n            \x3c!--Multi Curtain--\x3e\n            <div class="m-lyrcompare-select" id="m-lyrcompare-lyrC-cont">\n                <label id="m-lyrcompare-lyrC-lbl" for="m-lyrcompare-lyrC" title="{{translations.lyr3Select_tooltip}}"></label>\n                <select disabled id="m-lyrcompare-lyrC">\n                    {{#each options}}\n                        <option value=\'{{this.name}}\'>{{this.legend}}</option>\n                    {{/each}}\n                </select>\n                <div class="m-lyrcompare-select_arrow"></div>\n            </div>\n            <div class="m-lyrcompare-select" id="m-lyrcompare-lyrD-cont">\n                <label id="m-lyrcompare-lyrD-lbl" for="m-lyrcompare-lyrD" title="{{translations.lyr4Select_tooltip}}"></label>\n                <select disabled id="m-lyrcompare-lyrD">\n                    {{#each options}}\n                        <option value=\'{{this.name}}\'>{{this.legend}}</option>\n                    {{/each}}\n                </select>\n                <div class="m-lyrcompare-select_arrow">\n                </div>\n            </div>\n        {{/if}}\n    </div>\n</div>'}},t={};function r(l){var a=t[l];if(void 0!==a)return a.exports;var i=t[l]={exports:{}};return e[l](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var l in t)r.o(t,l)&&!r.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(650),t=r.n(e),l=r(337),a=r.n(l);const i=JSON.parse('{"tooltip":"Layer Comparison","tooltip_vcurtain":"Vertical curtain","tooltip_hcurtain":"Horizontal curtain","tooltip_multicurtain":"Multi curtain","layers":"Layers","radius":"Radius","opacity":"Opacity","static":"Static","dynamic":"Dynamic","mixed":"Mixed","layer":"Layer","opacity_tooltip":"Opacity of the layers (0-100%)","dynamic_tooltip":"Division between layers is fixed by mouse position","mixed_tooltip":"Division between layers is dragged by mouse","static_tooltip":"Division between layers is fixed 50%","lyr1Select_tooltip":"Select layer on the first position","lyr2Select_tooltip":"Select layer on the second position","lyr3Select_tooltip":"Select layer on the third position","lyr4Select_tooltip":"Select layer on the fourth position","advice_sameLayer":"One layer in different places is not allowed","no_layers_plugin":"The number of layers is insufficient to apply the effect","repeated_layers":"Selected layers cannot be repeated","lyrcompare_obsolete":"Message to developer: IDEE.plugin.LyrCompare has been deprecated, please use IDEE.plugin.Comparators instead"}'),o=JSON.parse('{"tooltip":"Comparador de capas","tooltip_vcurtain":"Cortina vertical","tooltip_hcurtain":"Cortina horizontal","tooltip_multicurtain":"Multivista","layers":"Capas","radius":"Radio","opacity":"Opacidad","static":"Estático","dynamic":"Dinámico","mixed":"Mixto","layer":"Capa","opacity_tooltip":"Opacidad de las capas que se comparan (0-100%)","dynamic_tooltip":"La división la marca la posición del cursor","mixed_tooltip":"La división se arrastra con el ratón","static_tooltip":"La división es fija en el centro del mapa","lyr1Select_tooltip":"Selecciona la capa de la posición 1","lyr2Select_tooltip":"Selecciona la capa de la posición 2","lyr3Select_tooltip":"Selecciona la capa de la posición 3","lyr4Select_tooltip":"Selecciona la capa de la posición 4","advice_sameLayer":"No puede cargarse la misma capa en varios sitios","no_layers_plugin":"El número de capas es insuficiente para aplicar el efecto","repeated_layers":"Las capas seleccionadas no se pueden repetir","lyrcompare_obsolete":"Mensaje para el desarrollador: IDEE.plugin.LyrCompare ha quedado obsoleto, utilice en su lugar IDEE.plugin.Comparators"}');var n,c={en:i,es:o},s=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t="es","function"==typeof IDEE.language.getLang&&(t=IDEE.language.getLang()),t),l=function(e){return"es"===e||"en"===e?c[e]:IDEE.language.getTranslation(e).lyrcompare}(r),a="";return IDEE.utils.isNullOrEmpty(l)?console.warn("The translation '".concat(r,"' has not been defined.")):a=e.split(".").reduce((function(e,t){return e[t]}),l),a};function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function p(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,l=Array(t);r<t;r++)l[r]=e[r];return l}function m(e,t){for(var r=0;r<t.length;r++){var l=t[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,d(l.key),l)}}function d(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var l=r.call(e,t||"default");if("object"!=y(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}function f(e,t,r){return t=v(t),function(e,t){if(t&&("object"==y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h()?Reflect.construct(t,r||[],v(e).constructor):t.apply(e,r))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}Array.prototype.unique=(n=function(e,t,r){return r.indexOf(e,t+1)<0},function(){return this.filter(n)});var S=function(){function e(r){var l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(IDEE.utils.isUndefined(t())||IDEE.utils.isObject(t())&&IDEE.utils.isNullOrEmpty(Object.keys(t())))&&IDEE.exception("La implementación usada no puede crear controles LyrCompareControl"),(l=f(this,e,[new(t()),"LyrCompare"])).layers=r.layers,l.collapsible=r.collapsible,l.collapsed=r.collapsed,l.opacityVal=r.opacityVal,l.layerSelectedA=null,l.layerSelectedB=null,l.layerSelectedC=null,l.layerSelectedD=null,l.template=null,l.staticDivision=r.staticDivision,l.opacityVal=r.opacityVal,l.comparisonMode=r.comparisonMode,l.defaultLyrA=r.defaultLyrA,l.defaultLyrB=r.defaultLyrB,l.defaultLyrC=r.defaultLyrC,l.defaultLyrD=r.defaultLyrD,l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(e,IDEE.Control),r=e,(l=[{key:"createView",value:function(e){var t=this;return console.warn(s("lyrcompare_obsolete")),this.comparisonMode>0&&this.on(IDEE.evt.ADDED_TO_MAP,(function(e){t.activateCurtain()})),this.map=e,new Promise((function(e,r){if(t.layers=t.transformToLayers(t.layers),t.layers.length>=2){3===t.comparisonMode&&t.layers.length<4&&(IDEE.dialog.error(s("no_layers_plugin"),"lyrcompare"),t.comparisonMode=0);var l=t.allLayerLoad();if(l)t.setFunctionsAndCompile(e);else var a=setInterval((function(){(l=t.allLayerLoad())&&(clearInterval(a),t.setFunctionsAndCompile(e))}),200)}else IDEE.dialog.error(s("no_layers_plugin"),"lyrcompare")}))}},{key:"setFunctionsAndCompile",value:function(e){var t=this,r={jsonp:!0,vars:{options:this.layers.map((function(e){return e instanceof Object?{name:e.name,legend:e.legend}:{name:e,legend:e}})),comparisonMode:this.comparisonMode,translations:{tooltip:s("tooltip"),tooltip_vcurtain:s("tooltip_vcurtain"),tooltip_hcurtain:s("tooltip_hcurtain"),tooltip_multicurtain:s("tooltip_multicurtain"),opacity:s("opacity"),static:s("static"),dynamic:s("dynamic"),mixed:s("mixed"),layer:s("layer"),opacity_tooltip:s("opacity_tooltip"),static_tooltip:s("static_tooltip"),dynamic_tooltip:s("dynamic_tooltip"),mixed_tooltip:s("mixed_tooltip"),lyr1Select_tooltip:s("lyr1Select_tooltip"),lyr2Select_tooltip:s("lyr2Select_tooltip"),lyr3Select_tooltip:s("lyr3Select_tooltip"),lyr4Select_tooltip:s("lyr4Select_tooltip")}}};return this.template=IDEE.template.compileSync(a(),r),this.setEventsAndValues(),this.updateControls(),0===this.layers.length?IDEE.dialog.error(s("no_layers_plugin")):this.template.querySelectorAll('button[id^="m-lyrcompare-"]').forEach((function(e,r){e.addEventListener("click",(function(e){0===t.comparisonMode?(t.comparisonMode=r+1,t.activateCurtain()):t.comparisonMode===r+1?(t.comparisonMode=0,t.deactivateCurtain()):(t.comparisonMode=r+1,t.updateControls(),t.getImpl().setComparisonMode(t.comparisonMode))}))})),e(this.template)}},{key:"setEventsAndValues",value:function(){var e=this;this.template.querySelector("#input-transparent-opacity").value=this.opacityVal,this.template.querySelector("#input-transparent-opacity").addEventListener("input",(function(t){e.opacityVal=Number(t.target.value),e.getImpl().setOpacity(e.opacityVal)})),1===this.staticDivision?this.template.querySelector("#div-m-lyrcompare-transparent-static").checked=!0:0===this.staticDivision?this.template.querySelector("#div-m-lyrcompare-transparent-dynamic").checked=!0:this.template.querySelector("#div-m-lyrcompare-transparent-mixed").checked=!0,this.template.querySelector("#div-m-lyrcompare-transparent-dynamic").addEventListener("change",(function(t){e.staticDivision=Number(t.target.value),e.getImpl().setStaticDivision(e.staticDivision)})),this.template.querySelector("#div-m-lyrcompare-transparent-static").addEventListener("change",(function(t){e.staticDivision=Number(t.target.value),e.getImpl().setStaticDivision(e.staticDivision)})),this.template.querySelector("#div-m-lyrcompare-transparent-mixed").addEventListener("change",(function(t){e.staticDivision=Number(t.target.value),e.getImpl().setStaticDivision(e.staticDivision)})),this.template.querySelectorAll('select[id^="m-lyrcompare-"]').forEach((function(t){t.addEventListener("change",(function(r){var l=e.layers.filter((function(e){return e.name===r.target.value})),a=[];if("m-lyrcompare-lyrA"===t.id?a=[l[0].name,e.layerSelectedB.name,e.layerSelectedC.name,e.layerSelectedD.name]:"m-lyrcompare-lyrB"===t.id?a=[e.layerSelectedA.name,l[0].name,e.layerSelectedC.name,e.layerSelectedD.name]:"m-lyrcompare-lyrC"===t.id?a=[e.layerSelectedA.name,e.layerSelectedB.name,l[0].name,e.layerSelectedD.name]:"m-lyrcompare-lyrD"===t.id&&(a=[e.layerSelectedA.name,e.layerSelectedB.name,e.layerSelectedC.name,l[0].name]),!1===e.checkLayersAreDifferent.apply(e,p(a)))return IDEE.dialog.info(s("advice_sameLayer")),"m-lyrcompare-lyrA"===t.id?e.template.querySelector("#".concat(t.id)).value=e.layerSelectedA.name:"m-lyrcompare-lyrB"===t.id?e.template.querySelector("#".concat(t.id)).value=e.layerSelectedB.name:"m-lyrcompare-lyrC"===t.id?e.template.querySelector("#".concat(t.id)).value=e.layerSelectedC.name:"m-lyrcompare-lyrD"===t.id&&(e.template.querySelector("#".concat(t.id)).value=e.layerSelectedD.name),!1;"m-lyrcompare-lyrA"===t.id?(l[0].name===e.layerSelectedC.name&&(e.layerSelectedC.setVisible(!1),e.layerSelectedC=e.layerSelectedA,e.template.querySelector("#m-lyrcompare-lyrC").value=e.layerSelectedA.name),l[0].name===e.layerSelectedD.name&&(e.layerSelectedD.setVisible(!1),e.layerSelectedD=e.layerSelectedA,e.template.querySelector("#m-lyrcompare-lyrD").value=e.layerSelectedA.name)):"m-lyrcompare-lyrB"===t.id&&(l[0].name===e.layerSelectedC.name&&(e.layerSelectedC.setVisible(!1),e.layerSelectedC=e.layerSelectedB,e.template.querySelector("#m-lyrcompare-lyrC").value=e.layerSelectedB.name),l[0].name===e.layerSelectedD.name&&(e.layerSelectedD.setVisible(!1),e.layerSelectedD=e.layerSelectedB,e.template.querySelector("#m-lyrcompare-lyrD").value=e.layerSelectedB.name)),"m-lyrcompare-lyrA"===t.id?(e.layerSelectedA.setVisible(!1),e.layerSelectedA=l[0]):"m-lyrcompare-lyrB"===t.id?(e.layerSelectedB.setVisible(!1),e.layerSelectedB=l[0]):"m-lyrcompare-lyrC"===t.id?(e.layerSelectedC.setVisible(!1),e.layerSelectedC=l[0]):"m-lyrcompare-lyrD"===t.id&&(e.layerSelectedD.setVisible(!1),e.layerSelectedD=l[0]),e.removeEffectsComparison(),e.getImpl().effectSelectedCurtain(e.layerSelectedA,e.layerSelectedB,e.layerSelectedC,e.layerSelectedD,e.opacityVal,e.staticDivision,e.comparisonMode)}))}))}},{key:"checkLayersAreDifferent",value:function(e,t,r,l){if(1===this.comparisonMode||2===this.comparisonMode){if(e===t)return!1}else{var a=[e,t,r,l];if(a.length!==a.unique().length)return!1}return!0}},{key:"activateCurtain",value:function(){this.activeDefault(),this.getImpl().effectSelectedCurtain(this.layerSelectedA,this.layerSelectedB,this.layerSelectedC,this.layerSelectedD,this.opacityVal,this.staticDivision,this.comparisonMode),this.updateControls()}},{key:"activeDefault",value:function(){null===this.layerSelectedA&&(this.layerSelectedA=this.layers[this.defaultLyrA],this.template.querySelector("#m-lyrcompare-lyrA").selectedIndex=this.defaultLyrA),null===this.layerSelectedB&&(this.layerSelectedB=this.layers[this.defaultLyrB],this.template.querySelector("#m-lyrcompare-lyrB").selectedIndex=this.defaultLyrB),null===this.layerSelectedC&&(this.layerSelectedC=this.layers[this.defaultLyrC],this.template.querySelector("#m-lyrcompare-lyrC").selectedIndex=this.defaultLyrC),null===this.layerSelectedD&&(this.layerSelectedD=this.layers[this.defaultLyrD],this.template.querySelector("#m-lyrcompare-lyrD").selectedIndex=this.defaultLyrD)}},{key:"deactivateCurtain",value:function(){this.comparisonMode=0,null!==this.layerSelectedA&&null!==this.layerSelectedB&&(this.layerSelectedA.setVisible(!1),this.layerSelectedB.setVisible(!1)),null!==this.layerSelectedC&&null!==this.layerSelectedD&&void 0!==this.layerSelectedC&&void 0!==this.layerSelectedD&&(this.layerSelectedC.setVisible(!1),this.layerSelectedD.setVisible(!1)),this.removeEffectsComparison(),this.updateControls()}},{key:"removeEffectsComparison",value:function(){this.getImpl().removeEffectsCurtain()}},{key:"updateControls",value:function(){this.removeActivate(),this.activateByMode();var e=document.querySelector(".lyrcompare-swipe-control");if(0===this.comparisonMode)return this.template.querySelectorAll('select[id^="m-lyrcompare-"]').forEach((function(e){e.disabled=!0})),void(this.template.querySelector("input").disabled=!0);1===this.comparisonMode?(e&&(e.style.opacity="1"),this.template.querySelector("#m-lyrcompare-lyrA-lbl").classList.add("lyrcompare-icon-columns-2"),this.template.querySelector("#m-lyrcompare-lyrB-lbl").classList.add("lyrcompare-icon-columns-1"),this.template.querySelector("#m-lyrcompare-lyrA-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrB-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrA").disabled=!1,this.template.querySelector("#m-lyrcompare-lyrB").disabled=!1):2===this.comparisonMode?(e&&(e.style.opacity="1"),this.template.querySelector("#m-lyrcompare-lyrA-lbl").classList.add("lyrcompare-icon-columns-4"),this.template.querySelector("#m-lyrcompare-lyrB-lbl").classList.add("lyrcompare-icon-columns-3"),this.template.querySelector("#m-lyrcompare-lyrA-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrB-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrA").disabled=!1,this.template.querySelector("#m-lyrcompare-lyrB").disabled=!1):3===this.comparisonMode&&(e&&(e.style.opacity="1"),this.template.querySelectorAll('select[id^="m-lyrcompare-"]').forEach((function(e){e.disabled=!1})),this.template.querySelector("#m-lyrcompare-lyrA-lbl").classList.add("lyrcompare-icon-th-large-1"),this.template.querySelector("#m-lyrcompare-lyrB-lbl").classList.add("lyrcompare-icon-th-large-2"),this.template.querySelector("#m-lyrcompare-lyrC-lbl").classList.add("lyrcompare-icon-th-large-3"),this.template.querySelector("#m-lyrcompare-lyrD-lbl").classList.add("lyrcompare-icon-th-large-4"),this.template.querySelector("#m-lyrcompare-lyrA-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrB-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrC-cont").style.display="block",this.template.querySelector("#m-lyrcompare-lyrD-cont").style.display="block"),this.template.querySelector("input").disabled=!1}},{key:"activateByMode",value:function(){1===this.comparisonMode?this.template.querySelector("#m-lyrcompare-vcurtain").classList.add("buttom-pressed-vcurtain"):2===this.comparisonMode?this.template.querySelector("#m-lyrcompare-hcurtain").classList.add("buttom-pressed-hcurtain"):3===this.comparisonMode&&this.template.querySelector("#m-lyrcompare-multicurtain").classList.add("buttom-pressed-multicurtain")}},{key:"removeActivate",value:function(){this.template.querySelector("#m-lyrcompare-vcurtain").classList.remove("buttom-pressed-vcurtain"),this.template.querySelector("#m-lyrcompare-hcurtain").classList.remove("buttom-pressed-hcurtain"),this.template.querySelector("#m-lyrcompare-multicurtain").classList.remove("buttom-pressed-multicurtain"),this.template.querySelectorAll('select[id^="m-lyrcompare-"]').disabled=!0,this.template.querySelector("#m-lyrcompare-lyrA-cont").style.display="none",this.template.querySelector("#m-lyrcompare-lyrB-cont").style.display="none",this.template.querySelector("#m-lyrcompare-lyrC-cont").style.display="none",this.template.querySelector("#m-lyrcompare-lyrD-cont").style.display="none",this.template.querySelector("#m-lyrcompare-lyrA-lbl").classList="",this.template.querySelector("#m-lyrcompare-lyrB-lbl").classList="";var e=document.querySelector(".lyrcompare-swipe-control");e&&(e.style.opacity="0")}},{key:"removeCurtainLayers",value:function(e){var t=this;e.forEach((function(e){if(e instanceof Object){if(e instanceof Object){var r=t.map.getLayers().filter((function(t){return e.name.includes(t.name)}))[t.map.getLayers().filter((function(t){return e.name.includes(t.name)})).length-1];t.map.removeLayers(r)}}else if(e.indexOf("*")>=0){var l=e.split("*")[3],a=t.map.getLayers().filter((function(e){return l.includes(e.name)}))[t.map.getLayers().filter((function(e){return l.includes(e.name)})).length-1];t.map.removeLayers(a)}else{var i=t.map.getLayers().filter((function(t){return e.includes(t.name)}))[t.map.getLayers().filter((function(t){return e.includes(t.name)})).length-1];t.map.removeLayers(i)}}))}},{key:"allLayerLoad",value:function(){return void 0!==this.layers[0].load&&(void 0!==this.layers[1].load||void 0===this.layers[2]||void 0===this.layers[3]||void 0!==this.layers[2].load&&void 0!==this.layers[3].load)}},{key:"transformToLayers",value:function(e){var t=this,r=e.map((function(e){var r=null;if(e instanceof Object){if(e instanceof Object){var l=t.map.getLayers().filter((function(t){return e.name.includes(t.name)}))[0];r=t.isValidLayer(l)?l:null}}else if(e.indexOf("*")>=0){var a=e.split("*");"WMS"===a[0].toUpperCase()?(r=new IDEE.layer.WMS({url:a[2],name:a[3]}),t.map.getLayers().filter((function(e){return r.name.includes(e.name)})).length>0&&t.map.removeLayers(t.map.getLayers().filter((function(e){return r.name.includes(e.name)}))[0]),t.map.addLayers(r)):"WMTS"===a[0].toUpperCase()&&(r=new IDEE.layer.WMTS({url:a[1],name:a[2]}),t.map.addLayers(r))}else{var i=t.map.getLayers().filter((function(t){return e.includes(t.name)}))[0];r=t.isValidLayer(i)?i:null}if(null!==r)return null===r.getImpl().getLayer()?setTimeout((function(){"WMS"===r.type?r.load=!0:"WMTS"===r.type&&(r.facadeLayer_.load=!0)}),1e3):r.load=!0,r.displayInLayerSwitcher=!1,r.setVisible(!1),r;t.layers.remove(e)}),this);return void 0===r[0]?[]:r}},{key:"isValidLayer",value:function(e){return"WMTS"===e.type||"WMS"===e.type}},{key:"equals",value:function(t){return t instanceof e}},{key:"getLayersNames",value:function(){return this.layers.map((function(e){return e.name}))}}])&&m(r.prototype,l),i&&m(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,l,i}();const L=JSON.parse('{"Pu":{"name":"LyrCompare","description":"Comparación entre capas","text":"Plugin que permite comparar varias capas sobre una cartografía base. La extensión de las capas sobre lienzo vienen definidas por la posición del ratón o por el punto medio del lienzo.","version":"2.0.2","date":"Abril, 2020","author":"","org":"Centro Nacional de Información Geográfica - Instituto Geográfico Nacional. Ministerio de Transportes, Mobilidad y Agenda Urbana","tags":"apicnig,plugin","icon":"./facade/assets/icons/icons.svg"}}');function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function _(e,t){for(var r=0;r<t.length;r++){var l=t[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,D(l.key),l)}}function D(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var l=r.call(e,t||"default");if("object"!=g(l))return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}function E(e,t,r){return t=A(t),function(e,t){if(t&&("object"==g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,C()?Reflect.construct(t,r||[],A(e).constructor):t.apply(e,r))}function C(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(C=function(){return!!e})()}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}var q=function(){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(t=E(this,e)).name_="lyrcompare",t.error_=!1,t.layers=[],void 0===r.layers||r.layers.length<2?(IDEE.dialog.error(s("no_layers_plugin"),"lyrcompare"),t.error_=!0):Array.isArray(r.layers)?t.layers=r.layers:t.layers=r.layers.split(","),t.controls_=[],t.map_=null,!1===t.error_){t.position=["TR","TL","BL","BR"].includes(r.position)?r.position:"TR",t.collapsed=r.collapsed,void 0===t.collapsed&&(t.collapsed=!0),t.collapsible=r.collapsible,void 0===t.collapsible&&(t.collapsible=!0),t.staticDivision=void 0===r.staticDivision?1:parseInt(r.staticDivision,10),void 0===r.opacityVal?t.opacityVal=100:(t.opacityVal=parseInt(r.opacityVal,10),t.opacityVal<=0?t.opacityVal=0:t.opacityVal>=100&&(t.opacityVal=100)),void 0===r.comparisonMode?t.comparisonMode=0:(t.comparisonMode=parseInt(r.comparisonMode,10),(t.comparisonMode<=0||t.comparisonMode>3)&&(t.comparisonMode=0)),t.metadata_=L.Pu,t.tooltip_=r.tooltip||s("tooltip"),void 0===r.defaultLyrA?t.defaultLyrA=0:t.defaultLyrA=parseInt(r.defaultLyrA,10),void 0===r.defaultLyrB?t.defaultLyrB=0!==t.defaultLyrA?0:1:t.defaultLyrB=parseInt(r.defaultLyrB,10),t.defaultLyrA===t.defaultLyrB&&(IDEE.dialog.error(s("repeated_layers"),"lyrcompare"),t.error_=!0),void 0===r.defaultLyrC?t.defaultLyrC=2:t.defaultLyrC=parseInt(r.defaultLyrC,10),t.defaultLyrA!==t.defaultLyrC&&t.defaultLyrB!==t.defaultLyrC||(IDEE.dialog.error(s("repeated_layers"),"lyrcompare"),t.error_=!0),void 0===r.defaultLyrD?t.defaultLyrD=3:t.defaultLyrD=parseInt(r.defaultLyrD,10),t.defaultLyrA!==t.defaultLyrD&&t.defaultLyrB!==t.defaultLyrD&&t.defaultLyrC!==t.defaultLyrD||(IDEE.dialog.error(s("repeated_layers"),"lyrcompare"),t.error_=!0)}return t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}(e,IDEE.Plugin),t=e,l=[{key:"getJSONTranslations",value:function(e){return"en"===e||"es"===e?"en"===e?i:o:IDEE.language.getTranslation(e).lyrcompare}}],(r=[{key:"addTo",value:function(e){this.map_=e;var t={layers:this.layers,collapsible:this.collapsible,collapsed:this.collapsed,staticDivision:this.staticDivision,opacityVal:this.opacityVal,comparisonMode:this.comparisonMode,defaultLyrA:this.defaultLyrA,defaultLyrB:this.defaultLyrB,defaultLyrC:this.defaultLyrC,defaultLyrD:this.defaultLyrD};this.control_=new S(t),this.controls_.push(this.control_),this.error_?0!==e.getPlugins("lyrcompare").length&&e.removePlugins(e.getPlugins("lyrcompare")):(this.panel_=new IDEE.ui.Panel("panelLyrcompare",{collapsible:this.collapsible,collapsed:this.collapsed,position:IDEE.ui.position[this.position],className:"m-plugin-lyrcompare",collapsedButtonClass:"lyrcompare-icon",tooltip:this.tooltip_}),this.panel_.addControls(this.controls_),e.addPanels(this.panel_))}},{key:"destroy",value:function(){this.deactivate();var e=document.querySelector(".lyrcompare-swipe-control");e&&e.remove(),this.map_.removeControls([this.control_]),this.control_.removeCurtainLayers(this.control_.getLayersNames());var t=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];this.name_=t[0],this.error_=t[1],this.layers=t[2],this.controls_=t[3],this.map_=t[4],this.position=t[5],this.collapsed=t[6],this.collapsible=t[7],this.staticDivision=t[8],this.opacityVal=t[9],this.comparisonMode=t[10],this.metadata_=t[11],this.tooltip_=t[12],this.defaultLyrA=t[13],this.defaultLyrB=t[14],this.defaultLyrC=t[15],this.defaultLyrD=t[16]}},{key:"name",get:function(){return this.name_}},{key:"getMetadata",value:function(){return this.metadata_}},{key:"getAPIRest",value:function(){return"".concat(this.name,"=").concat(this.position,"*!").concat(this.layers.join(","),"*!").concat(this.collapsible,"*!").concat(this.collapsed,"*!").concat(this.staticDivision,"*!").concat(this.opacityVal,"*!").concat(this.comparisonMode,"*!").concat(this.defaultLyrA,"*!").concat(this.defaultLyrB,"*!").concat(this.defaultLyrC,"*!").concat(this.defaultLyrD)}},{key:"activate",value:function(){this.control_.activateCurtain()}},{key:"deactivate",value:function(){this.control_.deactivateCurtain()}},{key:"equals",value:function(t){return t instanceof e}}])&&_(t.prototype,r),l&&_(t,l),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,l}();window.IDEE.plugin||(window.IDEE.plugin={}),window.IDEE.control||(window.IDEE.control={}),window.IDEE.impl||(window.IDEE.impl={}),window.IDEE.impl.control||(window.IDEE.impl.control={}),window.IDEE.plugin.LyrCompare=q,window.IDEE.control.LyrCompareControl=S,window.IDEE.impl.control.Lyrcomparecontrol=t()})()})();
//# sourceMappingURL=lyrcompare.cesium.min.js.map