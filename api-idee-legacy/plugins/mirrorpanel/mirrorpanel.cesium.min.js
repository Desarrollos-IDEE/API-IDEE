(()=>{var e={174:()=>{},164:e=>{e.exports='<div id="div-contenedor" class="m-mirrorpanel-container">\r\n  <div id="m-mirrorpanel-titulo">{{translations.title}}</div>\r\n  <div class="div-m-mirrorpanel-panel">\r\n    <div class="m-mirrorpanel-effect-buttoms">\r\n      <button id="set-mirror-0" class="big-button" title="{{translations.modViz0}}"><i class="mirrorpanel-modeviz0"></i></button>\r\n      <button id="set-mirror-1" class="big-button" title="{{translations.modViz1}}"><i class="mirrorpanel-modeviz1"></i></button>\r\n      <button id="set-mirror-2" class="big-button" title="{{translations.modViz2}}"><i class="mirrorpanel-modeviz2"></i></button>\r\n      <button id="set-mirror-3" class="big-button" title="{{translations.modViz3}}"><i class="mirrorpanel-modeviz3"></i></button>\r\n      <button id="set-mirror-4" class="big-button" title="{{translations.modViz4}}"><i class="mirrorpanel-modeviz4"></i></button>\r\n    </div>\r\n    <div class="m-mirrorpanel-effect-buttoms">\r\n      <button id="set-mirror-5" class="big-button" title="{{translations.modViz5}}"><i class="mirrorpanel-modeviz5"></i></button>\r\n      <button id="set-mirror-6" class="big-button" title="{{translations.modViz6}}"><i class="mirrorpanel-modeviz6"></i></button>\r\n      <button id="set-mirror-7" class="big-button" title="{{translations.modViz7}}"><i class="mirrorpanel-modeviz7"></i></button>\r\n      <button id="set-mirror-8" class="big-button" title="{{translations.modViz8}}"><i class="mirrorpanel-modeviz8"></i></button>\r\n      <button id="set-mirror-9" class="big-button" title="{{translations.modViz9}}"><i class="mirrorpanel-modeviz9"></i></button>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n'}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(174),t=r.n(e),o=r(164),n=r.n(o);const i=JSON.parse('{"tooltip":"Mirror Comparison","title":"Mirror Maps","modViz0":"Standard map","modViz1":"Vertical two maps","modViz2":"Horizontal two maps","modViz3":"Vertical three maps","modViz4":"Vertical four maps","modViz5":"Mosaic maps","modViz6":"Horizontal four maps","modViz7":"Vertical 2-1-1 proportional maps","modViz8":"One map above and two below","modViz9":"Two maps above and one below","backimglayersparams_undefined":"BackImgLayers\' parameters are not defined correctly.","mirrorpanel_obsolete":"Message to developer: IDEE.plugin.Mirrorpanel has been deprecated, please use IDEE.plugin.Comparators instead"}'),a=JSON.parse('{"tooltip":"Comparador de mapas espejo","title":"Mapas espejo","modViz0":"Mapa standard","modViz1":"Dos mapas en vertical","modViz2":"Dos mapas en horizontal","modViz3":"Tres mapas en vertical","modViz4":"Cuatro mapas en vertical","modViz5":"Mosaico de mapas","modViz6":"Cuatro mapas en horizontal","modViz7":"Tres mapas en proporción 2-1-1","modViz8":"Un mapa arriba y dos abajo","modViz9":"Dos mapas arriba y uno abajo","backimglayersparams_undefined":"Los parámetros de BackImgLayers no están definidos correctamente.","mirrorpanel_obsolete":"Mensaje para el desarrollador: IDEE.plugin.Mirrorpanel ha quedado obsoleto, utilice en su lugar IDEE.plugin.Comparators"}');var s={en:i,es:a},l=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t="es","function"==typeof IDEE.language.getLang&&(t=IDEE.language.getLang()),t),o=function(e){return"es"===e||"en"===e?s[e]:IDEE.language.getTranslation(e).mirrorpanel}(r),n="";return IDEE.utils.isNullOrEmpty(o)?console.warn("The translation '".concat(r,"' has not been defined.")):n=e.split(".").reduce((function(e,t){return e[t]}),o),n};function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,m(o.key),o)}}function m(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=u(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}function d(e,t,r){return t=h(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,p()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(p=function(){return!!e})()}function y(e,t,r,o){var n=f(h(1&o?e.prototype:e),t,r);return 2&o&&"function"==typeof n?function(e){return n.apply(r,e)}:n}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var o=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(arguments.length<3?e:r):n.value}},f.apply(null,arguments)}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var v=function(){function e(r){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(IDEE.utils.isUndefined(t())||IDEE.utils.isObject(t())&&IDEE.utils.isNullOrEmpty(Object.keys(t())))&&IDEE.exception("La implementación usada no puede crear controles MirrorpanelControl"),(o=d(this,e,[new(t()),"Mirrorpanel"])).template=null,o.modeViz=r.modeViz,o.enabledPlugins=r.enabledPlugins,o.showCursors=r.showCursors,o.mapL={A:null,B:null,C:null,D:null},o.lyrCursor={A:null,B:null,C:null,D:null},o.featureLyrCursor={A:null,B:null,C:null,D:null},o.styleCursor=new IDEE.style.Point({icon:{form:IDEE.style.form.CIRCLE,fontsize:.5,radius:5,rotation:0,rotate:!1,offset:[0,0],color:"black",fill:"red",gradientcolor:"#088A85",opacity:.8}}),o.defaultBaseLyrs=r.defaultBaseLyrs,o.mirrorLayers=r.mirrorLayers,o.backImgLayersParams=r.backImgLayersParams,o.createMapContainers(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(e,IDEE.Control),r=e,(o=[{key:"createView",value:function(e){var t=this;return console.warn(l("mirrorpanel_obsolete")),IDEE.template.compileSync||(IDEE.template.compileSync=function(e,t){var r,o={};IDEE.utils.isUndefined(t)||(o=IDEE.utils.extends(o,t.vars),r=t.parseToHtml);var n=Handlebars.compile(e)(o);return!1!==r?IDEE.utils.stringToHtml(n):n}),this.mapL.A=e,this.mirrorLayers.length>0&&(this.mapL.A.addLayers(this.mirrorLayers),this.mapL.A.getLayers().forEach((function(e){0!==e.zindex_&&e.setVisible(!1)}))),this.showCursors&&this.addLayerCursor("A"),new Promise((function(e,r){var o;o={jsonp:!0,vars:{translations:{title:l("title"),modViz0:l("modViz0"),modViz1:l("modViz1"),modViz2:l("modViz2"),modViz3:l("modViz3"),modViz4:l("modViz4"),modViz5:l("modViz5"),modViz6:l("modViz6"),modViz7:l("modViz7"),modViz8:l("modViz8"),modViz9:l("modViz9")}}},t.template=IDEE.template.compileSync(n(),o),t.template.querySelectorAll('button[id^="set-mirror-"]').forEach((function(e,r){e.addEventListener("click",(function(e){t.manageVisionPanelByCSSGrid(r)}))})),t.manageVisionPanelByCSSGrid(t.modeViz),e(t.template)}))}},{key:"activate",value:function(){y(e,"activate",this,3)([])}},{key:"deactivate",value:function(){y(e,"deactivate",this,3)([])}},{key:"copyBackImgLayersParams",value:function(e,t){var r,o=e.split("!!"),n=o[8].split(","),i=o[9].split(","),a=o[10].split(","),s=o[11].split(","),l=[];return s.forEach((function(e,t){var r=e.split("sumar");r=r.map((function(e){return"TMS"===e.slice(0,3)?new IDEE.layer.TMS(e):new IDEE.layer.WMTS(e)}));var o={id:n[t],title:i[t],preview:a[t],layers:r};l.push(o)})),{position:o[0],collapsed:"true"===o[1],collapsible:"true"===o[2],tooltip:o[3],layerId:(r=t,"A"===r?0:"B"===r?1:"C"===r?2:3),layerVisibility:"true"===o[4],columnsNumber:o[6],layerOpts:l}}},{key:"createMapContainers",value:function(){var e=document.createElement("div");e.id="lienzo",e.classList.add("mirrorpanel-grid");var t=document.getElementById("mapjs")||document.getElementById("map");document.body.insertBefore(e,t),t.classList.add("mirror1"),e.appendChild(t);var r=document.createElement("div");r.id="mapjsB",r.classList.add("mirror2"),e.appendChild(r);var o=document.createElement("div");o.id="mapjsC",o.classList.add("mirror3"),e.appendChild(o);var n=document.createElement("div");n.id="mapjsD",n.classList.add("mirror4"),e.appendChild(n)}},{key:"manageVisionPanelByCSSGrid",value:function(e){var t=this.modeViz;(document.getElementById("mapjs")||document.getElementById("map")).style.display="none",document.getElementById("mapjsB").style.display="none",document.getElementById("mapjsC").style.display="none",document.getElementById("mapjsD").style.display="none",this.template.querySelector("#set-mirror-".concat(t)).classList.remove("buttom-pressed");for(var r=0;r<10;r+=1)document.getElementById("lienzo").classList.remove("modeViz".concat(r));document.getElementById("lienzo").classList.add("modeViz".concat(e)),[1,2].includes(e)&&null==this.mapL.B&&this.createMapObjects("B"),[3,7,8,9].includes(e)&&(null==this.mapL.B&&this.createMapObjects("B"),null==this.mapL.C&&this.createMapObjects("C")),[4,5,6].includes(e)&&(null==this.mapL.B&&this.createMapObjects("B"),null==this.mapL.C&&this.createMapObjects("C"),null==this.mapL.D&&this.createMapObjects("D")),this.modeViz=e,this.template.querySelector("#set-mirror-".concat(e)).classList.add("buttom-pressed"),this.map_.refresh(),null!==this.mapL.B&&this.mapL.B.refresh(),null!==this.mapL.C&&this.mapL.C.refresh(),null!==this.mapL.D&&this.mapL.D.refresh()}},{key:"createMapObjects",value:function(e){var t=this,r=null,o=null;this.enabledPlugins&&this.map_.getPlugins().forEach((function(n){n.metadata_&&("FullTOC"===n.metadata_.name&&(r=new IDEE.plugin.FullTOC({http:n.http,https:n.https,precharged:n.precharged})),"backimglayer"===n.metadata_.name&&(o=new IDEE.plugin.BackImgLayer(t.copyBackImgLayersParams(t.backImgLayersParams,e))))})),this.mapL[e]=IDEE.map({container:"mapjs".concat(e),layers:this.defaultBaseLyrs.length>=1&&null==o?[this.defaultBaseLyrs[0]]:this.map_.getLayers()[0].setMap(this),center:this.map_.getCenter(),projection:"".concat(this.map_.getProjection().code,"*").concat(this.map_.getProjection().units),zoom:this.map_.getZoom()}),this.mapL[e].getMapImpl().setView(this.map_.getMapImpl().getView()),null!==r&&this.mapL[e].addPlugin(r),null!==o&&this.mapL[e].addPlugin(o),this.enabledPlugins&&this.mirrorLayers.length>0&&(this.mapL[e].addLayers(this.mirrorLayers),this.mapL[e].getLayers().forEach((function(e){0!==e.zindex_&&e.setVisible(!1)}))),this.showCursors&&this.addLayerCursor(e),this.mapL[e].refresh()}},{key:"addLayerCursor",value:function(e){var t=this;this.lyrCursor[e]=new IDEE.layer.Vector({name:"Coordenadas centro ".concat(e)},{displayInLayerSwitcher:!1}),this.featureLyrCursor[e]=new IDEE.Feature("Center".concat(e),{type:"Feature",properties:{},geometry:{type:"Point",coordinates:this.mapL[e].getCenter()}}),this.lyrCursor[e].addFeatures([this.featureLyrCursor[e]]),this.lyrCursor[e].setStyle(this.styleCursor),this.lyrCursor[e].setZIndex(5e3),this.mapL[e].addLayers(this.lyrCursor[e]),this.mapL[e].getMapImpl().on("pointermove",(function(r){t.lyrCursor[e].setVisible(!1),Object.keys(t.featureLyrCursor).forEach((function(o){o!==e&&null!==t.featureLyrCursor[o]&&(t.lyrCursor[o].setVisible(!0),t.featureLyrCursor[o].setGeometry({type:"Point",coordinates:r.coordinate}))}))}))}},{key:"removeMaps",value:function(){this.mapL.B=null,this.mapL.C=null,this.mapL.D=null}},{key:"destroyMapsContainer",value:function(){document.getElementById("mapjsB").remove(),document.getElementById("mapjsC").remove(),document.getElementById("mapjsD").remove();var e=document.getElementById("lienzo"),t=document.getElementById("mapjs")||document.getElementById("map");t.style.display="block",t.classList.remove("mirror1"),document.body.insertBefore(t,e),document.getElementById("lienzo").remove()}},{key:"equals",value:function(t){return t instanceof e}}])&&c(r.prototype,o),i&&c(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}();const g=JSON.parse('{"Pu":{"uuid_plugin":"","uuid_version_plugin":"","version_ficha_metadatos":"","name":"Mirrorpanel","description":"Plugin que permite comparar varias capas dividiendo la pantalla en varias partes.","text":"Plugin que permite comparar varias capas dividiendo la pantalla en varias partes. Los mapas tienen sus vistas sincronizadas, y podemos ver la representación de una misma zona por distintas capas.","version":"2.0.2","date":"Julio, 2020","author":"","org":"","tags":"api-idee,plugin","icon":"./facade/assets/icons/icons.svg","buttons":[{"title":"","description":"","querySelector":""},{"title":"","description":"","querySelector":""}],"dependencies":{"modules":["",""],"plugins":[{"uuid":"","name":""}],"services":[{"name":"","description":""}]}}}');function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function L(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,w(o.key),o)}}function w(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=E(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E(t)?t:t+""}function z(e,t,r){return t=C(t),function(e,t){if(t&&("object"==E(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,I()?Reflect.construct(t,r||[],C(e).constructor):t.apply(e,r))}function I(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(I=function(){return!!e})()}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}var P=function(){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(t=z(this,e)).name_="mirrorpanel",t.map_=null,t.controls_=[],t.className="m-plugin-mirrorpanel";if(t.position=["TR","TL","BL","BR"].includes(r.position)?r.position:"TR",t.collapsed=r.collapsed,void 0===t.collapsed&&(t.collapsed=!0),t.collapsible=r.collapsible,void 0===t.collapsible&&(t.collapsible=!0),t.modeViz=r.modeViz,void 0===t.modeViz&&(t.modeViz=0),t.enabledPlugins=r.enabledPlugins,void 0===t.enabledPlugins&&(t.enabledPlugins=!0),t.enabledKeyFunctions=r.enabledKeyFunctions,void 0===t.enabledKeyFunctions&&(t.enabledKeyFunctions=!0),t.showCursors=r.showCursors,void 0===t.showCursors&&(t.showCursors=!0),t.mirrorLayers=[],void 0!==r.mirrorLayers&&(Array.isArray(r.mirrorLayers)?t.mirrorLayers=r.mirrorLayers:t.mirrorLayers=r.mirrorLayers.split(",")),t.defaultBaseLyrs=[],void 0!==r.defaultBaseLyrs&&(Array.isArray(r.defaultBaseLyrs)?t.defaultBaseLyrs=r.defaultBaseLyrs:t.defaultBaseLyrs=r.defaultBaseLyrs.split(",")),t.backImgLayersParams=r.backImgLayersParams,void 0!==r.backImgLayersParams&&IDEE.utils.isObject(r.backImgLayersParams)){var o=new IDEE.plugin.BackImgLayer(r.backImgLayersParams);t.backImgLayersParams=o.getAPIRest().replace("backimglayer=","").replace(/\*!/g,"!!")}return t.interface=void 0===r.interface||r.interface,t.tooltip_=r.tooltip||l("tooltip"),t.metadata_=g.Pu,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(e,IDEE.Plugin),t=e,o=[{key:"getJSONTranslations",value:function(e){return"en"===e||"es"===e?"en"===e?i:a:IDEE.language.getTranslation(e).mirrorpanel}}],(r=[{key:"addTo",value:function(e){var t=this,r={pluginOnLeft:!!["TL","BL"].includes(this.position),collapsible:this.collapsible,collapsed:this.collapsed,modeViz:this.modeViz,enabledPlugins:this.enabledPlugins,showCursors:this.showCursors,mirrorLayers:this.mirrorLayers,defaultBaseLyrs:this.defaultBaseLyrs,backImgLayersParams:this.backImgLayersParams};this.control_=new v(r),this.controls_.push(this.control_),this.map_=e,this.panel_=new IDEE.ui.Panel("panelMirrorpanel",{collapsible:this.collapsible,collapsed:this.collapsed,position:IDEE.ui.position[this.position],modeViz:this.modeViz,enabledPlugins:this.enabledPlugins,showCursors:this.showCursors,className:this.interface?"m-plugin-panelMirrorpanel":"m-plugin-panelMirrorpanel hidden",collapsedButtonClass:"mirrorpanel-icon",tooltip:this.tooltip_}),this.panel_.addControls(this.controls_),e.addPanels(this.panel_),this.map_.getControls("BackImgLayer").length>0&&void 0===this.backImgLayersParams&&IDEE.dialog.error(l("backimglayersparams_undefined")),document.addEventListener("keydown",(function(e){if(t.enabledKeyFunctions){for(var r=0;r<10;r+=1)e.ctrlKey&&e.shiftKey&&e.key==="F".concat(r+1)&&t.control_.manageVisionPanelByCSSGrid(r);var o=["Control","Shift","Alt","Meta"].includes(e.key)?"":e.key;"Escape"==(e.ctrlKey?"Control ":"")+(e.shiftKey?"Shift ":"")+(e.altKey?"Alt ":"")+(e.metaKey?"Meta ":"")+o&&t.control_.manageVisionPanelByCSSGrid(0)}}))}},{key:"destroy",value:function(){document.removeEventListener("keydown",(function(e){})),this.control_.removeMaps(),this.control_.destroyMapsContainer(),this.map_.removeControls([this.control_]);var e=[null,null,null,null,null,null,null,null,null,null,null,null,null];this.control_=e[0],this.panel_=e[1],this.map_=e[2],this.collapsible=e[3],this.collapsed=e[4],this.modeViz=e[5],this.enabledPlugins=e[6],this.enabledKeyFunctions=e[7],this.showCursors=e[8],this.mirrorLayers=e[9],this.defaultBaseLyrs=e[10],this.backImgLayersParams=e[11],this.interface=e[12]}},{key:"name",get:function(){return this.name_}},{key:"getMetadata",value:function(){return this.metadata_}},{key:"getAPIRest",value:function(){return"".concat(this.name,"=").concat(this.position,"*!").concat(this.collapsed,"*!").concat(this.collapsible,"*!").concat(this.modeViz,"*!").concat(this.enabledPlugins,"*!").concat(this.enabledKeyFunctions,"*!").concat(this.showCursors,"*!").concat(this.mirrorLayers,"*!").concat(this.defaultBaseLyrs,"*!").concat(this.backImgLayersParams,"*!").concat(this.interface)}},{key:"activate",value:function(){this.control_.activate()}},{key:"deactivate",value:function(){this.control_.deactivate()}}])&&L(t.prototype,r),o&&L(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,r,o}();window.IDEE.plugin||(window.IDEE.plugin={}),window.IDEE.control||(window.IDEE.control={}),window.IDEE.impl||(window.IDEE.impl={}),window.IDEE.impl.control||(window.IDEE.impl.control={}),window.IDEE.plugin.Mirrorpanel=P,window.IDEE.control.MirrorpanelControl=v,window.IDEE.impl.control.MirrorpanelControl=t()})()})();
//# sourceMappingURL=mirrorpanel.cesium.min.js.map