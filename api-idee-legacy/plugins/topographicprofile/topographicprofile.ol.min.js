(()=>{var t={843:t=>{t.exports='<div class="m-control m-container m-topographicprofile-container">\r\n    <button id=\'m-topographicprofile-btn\' class="m-topographicprofile-btn icon-chart"></button>\r\n</div>\r\n'}},e={};function o(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,o),r.exports}o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t=JSON.parse('{"exception":{"impl":"The implementation used cannot create Perfiltopografico controls.","obsolete":"Developer message: IDEE.plugin.Topographicprofile has been deprecated, use the IDEE.plugin.VectorsManagement instead"},"tooltip":"Topography Profile","title":"Topography Profile","profil":{"title":"Topographic Profile","zmin":"Min Alt.","zmax":"Max Alt.","altitude":"Alt.","distance":"Full Distance","ytitle":"Altitude (m)","xtitle":"Distance (km)"}}'),e=JSON.parse('{"exception":{"impl":"La implementaci칩n no puede crear controles de Perfiltopografico.","obsolete":"Mensaje para el desarrollador: IDEE.plugin.Topographicprofile ha quedado obsoleto, utilice en su lugar IDEE.plugin.VectorsManagement"},"tooltip":"Perfil Topogr치fico","title":"Perfil Topogr치fico","profil":{"title":"Perfil Topogr치fico","zmin":"Alt. min","zmax":"Alt. max","altitude":"Altitud","distance":"Dist. total","ytitle":"Altitud (m)","xtitle":"Distancia (km)"}}');var n,i,r={en:t,es:e},a=function(t){var e,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e="es","function"==typeof IDEE.language.getLang&&(e=IDEE.language.getLang()),e),n=function(t){return"es"===t||"en"===t?r[t]:IDEE.language.getTranslation(t).topographicprofile}(o),i="";return IDEE.utils.isNullOrEmpty(n)?console.warn("The translation '".concat(o,"' has not been defined.")):i=t.split(".").reduce((function(t,e){return t[e]}),n),i},l={zmin:"Zmin",zmax:"Zmax",ytitle:"Altitude (m)",xtitle:"Distance (km)",time:"Time",altitude:"Altitude",distance:"Distance",altitudeUnits:"m",distanceUnitsM:"m",distanceUnitsKM:"km"},s=function(t){var e=this,o=t||{};this.info=o.info||l;var n,i=this;if(o.target)(n=document.createElement("div")).classList.add(o.className||"ol-profil");else{(n=document.createElement("div")).className=((o.className||"ol-profil")+" ol-unselectable ol-control ol-collapsed").trim();var r=document.createElement("p");r.textContent=a("profil.title"),n.appendChild(r);var s=document.createElement("button");s.setAttribute("type","button"),s.setAttribute("class","profile-close-button");var c=function(n){t.map.removeControl(e),o.source.clear()};s.addEventListener("click",c),s.addEventListener("touchstart",c),r.appendChild(s);var p=document.createElement("button");p.setAttribute("type","button"),p.setAttribute("class","profile-download-button");var u=function(t){var o=e.getImage(),n=document.createElement("a");n.href=o,n.download="Perfil.png",n.click(),n.remove()};p.addEventListener("click",u),p.addEventListener("touchstart",u),r.appendChild(p)}var f=document.createElement("div");f.classList.add("ol-inner"),n.appendChild(f);var d=document.createElement("div");d.style.position="relative",f.appendChild(d);var h=this.ratio=2;this.canvas_=document.createElement("canvas"),this.canvas_.width=(o.width||400)*h,this.canvas_.height=(o.height||250)*h;var m={msTransform:"scale(0.5,0.5)",msTransformOrigin:"0 0",webkitTransform:"scale(0.5,0.5)",webkitTransformOrigin:"0 0",mozTransform:"scale(0.5,0.5)",mozTransformOrigin:"0 0",transform:"scale(0.5,0.5)",transformOrigin:"0 0"};Object.keys(m).forEach((function(t){t in i.canvas_.style&&(i.canvas_.style[t]=m[t])}));var y=document.createElement("div");d.appendChild(y),y.style.width=this.canvas_.width/h+"px",y.style.height=this.canvas_.height/h+"px",y.appendChild(this.canvas_),y.addEventListener("click",(function(t){i.onMove(t)})),y.addEventListener("mousemove",(function(t){i.onMove(t)})),this.element=n,this.margin_={top:25*h,left:55*h,bottom:45*h,right:25*h},this.info.ytitle||(this.margin_.left-=20*h),this.info.xtitle||(this.margin_.bottom-=20*h),this.bar_=document.createElement("div"),this.bar_.classList.add("ol-profilbar"),this.bar_.style.top=this.margin_.top/h+"px",this.bar_.style.height=(this.canvas_.height-this.margin_.top-this.margin_.bottom)/h+"px",d.appendChild(this.bar_),this.cursor_=document.createElement("div"),this.cursor_.classList.add("ol-profilcursor"),d.appendChild(this.cursor_),this.popup_=document.createElement("div"),this.popup_.classList.add("ol-profilpopup"),this.cursor_.appendChild(this.popup_);var v=document.createElement("table");v.cellPadding="0",v.cellSpacing="0",v.style.clientWidth=this.canvas_.width/h+"px",d.appendChild(v);var g=document.createElement("tr");g.classList.add("track-info"),v.appendChild(g);var _=document.createElement("td");_.innerHTML=(this.info.zmin||"Zmin")+': <span class="zmin">',g.appendChild(_);var b=document.createElement("td");b.innerHTML=(this.info.zmax||"Zmax")+': <span class="zmax">',g.appendChild(b);var E=document.createElement("td");E.innerHTML=(this.info.distance||"Distance")+': <span class="dist">',g.appendChild(E);var w=document.createElement("tr");w.classList.add("point-info"),v.appendChild(w);var P=document.createElement("td");P.innerHTML=(this.info.altitude||"Altitude")+': <span class="z">',w.appendChild(P);var S=document.createElement("td");S.innerHTML='Dist. parcial: <span class="dist">',w.appendChild(S);var M=document.createElement("td");M.innerHTML=(this.info.time||"Time")+': <span class="time">',w.appendChild(M),this.tab_=[],o.feature&&this.setGeometry(o.feature)};n=s,i=ol.control.Control,n.prototype=Object.create(i.prototype),n.prototype.constructor=n,s.prototype.popup=function(t){this.popup_.innerHTML=t},s.prototype.onMove=function(t){if(this.tab_.length){var e=this.canvas_.getBoundingClientRect(),o=e.top+window.pageYOffset-document.documentElement.clientTop,n=e.left+window.pageXOffset-document.documentElement.clientLeft,i=t.pageX-n,r=t.pageY-o,a=this.ratio;if(i>this.margin_.left/a&&i<(this.canvas_.width-this.margin_.right)/a&&r>this.margin_.top/a&&r<(this.canvas_.height-this.margin_.bottom)/a){this.bar_.style.left=i+"px",this.bar_.style.display="block";for(var l,s=(i*a-this.margin_.left)/this.scale_[0],c=this.tab_[0],p=1;l=this.tab_[p];p++)if(l[0]>=s){s<(l[0]+c[0])/2&&(l=c);break}l?(this.cursor_.style.left=i+"px",this.cursor_.style.top=(this.canvas_.height-this.margin_.bottom+l[1]*this.scale_[1]+this.dy_)/a+"px",this.cursor_.style.display="block"):this.cursor_.style.display="none",this.bar_.parentElement.classList.add("over"),this.element.querySelector(".point-info .z").textContent=l[1]+this.info.altitudeUnits,this.element.querySelector(".point-info .dist").textContent=(l[0]/1e3).toFixed(1)+this.info.distanceUnitsKM,this.element.querySelector(".point-info .time").textContent=l[2],i>this.canvas_.width/a/2?this.popup_.classList.add("ol-left"):this.popup_.classList.remove("ol-left"),this.dispatchEvent({type:"over",click:"click"===t.type,coord:l[3],time:l[2],distance:l[0]})}else this.bar_.parentElement.classList.contains("over")&&(this.bar_.style.display="none",this.cursor_.style.display="none",this.bar_.parentElement.classList.remove("over"),this.dispatchEvent({type:"out"}))}},s.prototype.show=function(){this.element.classList.remove("ol-collapsed"),this.dispatchEvent({type:"show",show:!0})},s.prototype.hide=function(){this.element.classList.add("ol-collapsed"),this.dispatchEvent({type:"show",show:!1})},s.prototype.toggle=function(){this.element.classList.toggle("ol-collapsed");var t=this.element.classList.contains("ol-collapsed");this.dispatchEvent({type:"show",show:!t})},s.prototype.isShown=function(){return!this.element.classList.contains("ol-collapsed")},s.prototype.setGeometry=function(t,e){e||(e={}),t instanceof ol.Feature&&(t=t.getGeometry());var o=this.canvas_,n=o.getContext("2d"),i=o.width,r=o.height;if(n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,i,r),/Z/.test(t.getLayout())){/IDEE/.test(t.getLayout())?this.element.querySelector(".time").parentElement.style.display="block":this.element.querySelector(".time").parentElement.style.display="none";var a=t.getCoordinates();switch(t.getType()){case"LineString":break;case"MultiLineString":a=a[0];break;default:return}var l=e.projection||this.getMap().getView().getProjection();n.setTransform(1,0,0,1,this.margin_.left,r-this.margin_.bottom);var s=this.ratio;i-=this.margin_.right+this.margin_.left,r-=this.margin_.top+this.margin_.bottom,n.strokeStyle="#000",n.lineWidth=.5*s,n.beginPath(),n.moveTo(0,0),n.lineTo(0,-r),n.moveTo(0,0),n.lineTo(i,0),n.stroke();var c,p,u,f,d,h,m,y=1/0,v=-1/0,g=this.tab_=[];for(c=0;p=a[c];c++)(f=p[2])<y&&(y=f),f>v&&(v=f),0===c?u=0:u+=(h=a[c-1],m=p,ol.sphere.getDistance(ol.proj.transform(h,l,"EPSG:4326"),ol.proj.transform(m,l,"EPSG:4326"))),d=j(a[0][3],p[3]),g.push([u,f,d,p]);this.element.querySelector(".track-info .zmin").textContent=y.toFixed(2)+this.info.altitudeUnits,this.element.querySelector(".track-info .zmax").textContent=v.toFixed(2)+this.info.altitudeUnits,this.element.querySelector(".track-info .dist").textContent=u>1e3?(u/1e3).toFixed(1)+this.info.distanceUnitsKM:u.toFixed(1)+this.info.distanceUnitsM;for(var _=e.graduation||100;;){if(!(r/(((v=Math.ceil(v/_)*_)-(y=Math.floor(y/_)*_))/_)<15*s))break;_*=2}"number"==typeof e.zmin&&y>e.zmin&&(y=e.zmin),"number"==typeof e.zmax&&v<e.zmax&&(v=e.zmax);var b=e.amplitude;b&&(v=Math.max(y+b,v));var E=i/u,w=-r/(v-y),P=this.dy_=-y*w;for(this.scale_=[E,w],n.font=12*s+"px arial",n.textAlign="right",n.textBaseline="middle",n.fillStyle="#000",n.beginPath(),c=y;c<=v;c+=_)"km"!=e.zunit?n.fillText(c,-4*s,c*w+P):n.fillText((c/1e3).toFixed(1),-4*s,c*w+P),n.moveTo(-2*s,c*w+P),0!=c?n.lineTo(u*E,c*w+P):n.lineTo(0,c*w+P);n.textAlign="center",n.textBaseline="top",n.setLineDash([s,3*s]);var S,M=e.unit||"km";for(u>1e3?(S=100*Math.round(u/1e3))>1e3&&(S=1e3*Math.ceil(S/1e3)):(M="m",S=u>100?10*Math.round(u/100):u>10?Math.round(u/10):u>1?Math.round(u)/10:u),c=0;c<=u;c+=S){var x="m"===M?c:c/1e3;n.fillText(Math.round(10*x)/10,c*E,4*s),n.moveTo(c*E,2*s),n.lineTo(c*E,0)}for(n.font=14*s+"px arial",n.fillText(this.info.xtitle.replace("(km)","("+M+")"),i/2,18*s),n.save(),n.rotate(-Math.PI/2),n.fillText(this.info.ytitle,r/2,-this.margin_.left),n.restore(),n.stroke(),n.strokeStyle="#368",n.lineWidth=3,n.setLineDash([]),n.beginPath(),c=0;p=g[c];c++)0===c?n.moveTo(p[0]*E,p[1]*w+P):n.lineTo(p[0]*E,p[1]*w+P);n.stroke()}function j(t,e){if(!t||!e)return"-";var o=(e-t)/60,n=Math.trunc(o/60),i=Math.trunc(o-60*n);return n+"h"+(i<10?"0":"")+i+"mn"}},s.prototype.getImage=function(t,e){return"canvas"===t?this.canvas_:this.canvas_.toDataURL(t,e)};const c=s;function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function u(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function f(t){var e=function(t,e){if("object"!=p(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==p(e)?e:e+""}function d(t,e,o){return e=y(e),function(t,e){if(e&&("object"==p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h()?Reflect.construct(e,o||[],y(t).constructor):e.apply(t,o))}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:o):i.value}},m.apply(null,arguments)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function v(t,e){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},v(t,e)}var g=function(){function t(e){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),o=d(this,t);var n=[e.distance,"EPSG:900913",e.serviceURL,"EPSG:4326"];o.distancePoinst_=n[0],o.mercator_=n[1],o.serviceURL=n[2],o.coordEPSG4326=n[3];var i=[null,null,null,null,null,null,null,null,null,null,null,null];o.projectionMap_=i[0],o.profil_=i[1],o.facadeMap_=i[2],o.vector_=i[3],o.source_=i[4],o.vectorProfile_=i[5],o.sourceProfile_=i[6],o.draw_=i[7],o.lineCoord_=i[8],o.pointsCoord_=i[9],o.dataPoints_=i[10],o.pt=i[11];var r=[null,null,null];return o.lineString_=r[0],o.feature_=r[1],o.style_=r[2],o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(t,IDEE.impl.Control),e=t,o=[{key:"addTo",value:function(e,o){var n,i,r,a,l;this.facadeMap_=e,this.initOlLayers(),(n=t,i="addTo",r=this,l=m(y(1&(a=3)?n.prototype:n),i,r),2&a&&"function"==typeof l?function(t){return l.apply(r,t)}:l)([e,o])}},{key:"initOlLayers",value:function(){this.style_=function(t){return"LineString"===t.getGeometry().getType()?[new ol.style.Style({stroke:new ol.style.Stroke({color:"#4286f4",width:2})})]:[new ol.style.Style({image:new ol.style.Circle({radius:6,fill:new ol.style.Fill({color:"#4286f4"})}),stroke:new ol.style.Stroke({color:"#4286f4",width:2}),fill:new ol.style.Fill({color:"#4286f4"})})]},this.source_=new ol.source.Vector({wrapX:!1}),this.vector_=new ol.layer.Vector({source:this.source_,style:this.style_,name:"capatopo"}),this.sourceProfile_=new ol.source.Vector,this.vectorProfile_=new ol.layer.Vector({source:this.sourceProfile_}),this.vector_.setZIndex(1e3),this.facadeMap_.getMapImpl().addLayer(this.vector_),this.projectionMap_=this.facadeMap_.getProjection().code}},{key:"findNewPoints",value:function(t,e){var o,n,i="",r=ol.proj.transform(t,this.projectionMap_,this.mercator_),a=ol.proj.transform(e,this.projectionMap_,this.mercator_),l=this.getAngleBetweenPoints(r,a),s=this.getDistBetweenPoints(t,e);if(!(s<50)){for(var c=s/this.distancePoinst_>this.distancePoinst_?s/this.distancePoinst_:this.distancePoinst_,p=0;p<=s/c;p+=1){l>=0&&l<=90?(o=1,n=1):l>=90?(o=-1,n=1):l<=0&&l>=-90?(o=1,n=-1):(o=-1,n=-1);var u=[Math.cos(l*Math.PI/180)*(c*p)+r[0],Math.sin(l*Math.PI/180)*(c*p)+r[1]],f=[Math.cos(l*Math.PI/180)*(c*p+o)+r[0],Math.sin(l*Math.PI/180)*(c*p+n)+r[1]];i+="".concat(ol.proj.transform(u,this.mercator_,this.coordEPSG4326),","),i+="".concat(ol.proj.transform(f,this.mercator_,this.coordEPSG4326),"|")}return i}}},{key:"getDistBetweenPoints",value:function(t,e){return new ol.geom.LineString([ol.proj.transform(t,this.projectionMap_,this.mercator_),ol.proj.transform(e,this.projectionMap_,this.mercator_)]).getLength()}},{key:"getAngleBetweenPoints",value:function(t,e){var o=t[0],n=(t[1],e[0]);return e[1],Math.atan2(180*(n-o))/Math.PI}},{key:"startLoad",value:function(){document.body.style.cursor="wait",this.deactivate(),document.querySelector(".m-topographicprofile.activated").style.pointerEvents="none"}},{key:"endLoad",value:function(){document.body.style.cursor="default",this.activate(),document.querySelector(".m-topographicprofile.activated").style.pointerEvents="auto"}},{key:"activate",value:function(){this.draw_||this.createIteraction("LineString"),this.facadeMap_.getMapImpl().addInteraction(this.draw_),document.querySelector("#m-topographicprofile-btn").classList.add("activated")}},{key:"createIteraction",value:function(t){var e=this;this.draw_=new ol.interaction.Draw({source:this.source_,type:t}),this.draw_.on("drawstart",(function(t){e.projectionMap_=e.facadeMap_.getProjection().code,e.clearLayer()})),this.draw_.on("drawend",(function(t){e.lineCoord_=t.feature.getGeometry().getCoordinates(),e.pointsCoord_="";for(var o=1;o<e.lineCoord_.length;o+=1)e.pointsCoord_=e.pointsCoord_.concat(e.findNewPoints(e.lineCoord_[o-1],e.lineCoord_[o]));e.getDataFromGGISCore()}))}},{key:"getDataFromGGISCore",value:function(){var t=this;if(this.pointsCoord_){var e=this.pointsCoord_.split("|"),o=[],n=[];e=e.filter((function(t){return""!==t&&t.trim().length>3})),IDEE.proxy(!1),e.forEach((function(t){var e="".concat("https://servicios.idee.es/wcs-inspire/mdt?request=GetCoverage&bbox=").concat(t).concat("&service=WCS&version=1.0.0&coverage=Elevacion4258_500&interpolationMethod=bilinear&crs=EPSG%3A4258&format=ArcGrid&width=2&height=2");n.push(IDEE.remote.get(e))})),Promise.all(n).then((function(n){IDEE.proxy(!0),n.forEach((function(t){var e=0,n=t.text.split("NODATA_value -9999.000").join("");n.indexOf("dy")>-1?e=n.split("dy")[1].split(" ").filter((function(t){return""!==t}))[1]:n.indexOf("cellsize")>-1&&(e=n.split("cellsize")[1].split(" ").filter((function(t){return""!==t}))[1]),o.push(parseFloat(e))}));var i=[];o.forEach((function(t,o){var n=e[o].split(","),r=ol.extent.getCenter([parseFloat(n[0]),parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3])]);i.push([r[0],r[1],t])})),t.controlProfile();var r=i.map((function(e){return ol.proj.transform(e,"EPSG:4326",t.facadeMap_.getProjection().code)}));t.lineString_.setCoordinates(r)})).catch((function(t){IDEE.proxy(!0),IDEE.dialog.error("No se han obtenido datos")}))}}},{key:"setDataFromLocal",value:function(t){var e=this;this.controlProfile();var o=t.map((function(t){return ol.proj.transform(t,"EPSG:4326",e.facadeMap_.getProjection().code)}));this.lineString_.setCoordinates(o),this.vector_.getSource().addFeature(this.feature_)}},{key:"controlProfile",value:function(){var t=this;if(!this.profil_){this.lineString_=new ol.geom.LineString([]),this.feature_=new ol.Feature({geometry:this.lineString_,name:"Line"}),this.sourceProfile_.addFeature(this.feature_),this.profil_=new c({info:{zmin:a("profil.zmin"),zmax:a("profil.zmax"),altitude:a("profil.altitude"),distance:a("profil.distance"),ytitle:a("profil.ytitle"),xtitle:a("profil.xtitle"),altitudeUnits:"m",distanceUnitsM:"m",distanceUnitsKM:"km"},projection:this.facadeMap_.getProjection().code,map:this.facadeMap_.getMapImpl(),source:this.source_}),this.facadeMap_.getMapImpl().addControl(this.profil_);var e=function(t){this.pt&&("over"===t.type?(this.pt.setGeometry(new ol.geom.Point(t.coord)),this.pt.setStyle([new ol.style.Style({image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:"#ff0000"})})})])):this.pt.setStyle([]))}.bind(this);this.sourceProfile_.once("change",(function(e){"ready"===t.sourceProfile_.getState()&&(t.profil_.setGeometry(t.sourceProfile_.getFeatures()[0]),t.pt=new ol.Feature(new ol.geom.Point([0,0])),t.pt.setStyle([]),t.source_.addFeature(t.pt))})),this.profil_.on(["over","out"],(function(o){"over"===o.type&&t.profil_.popup("".concat(o.coord[2]," m")),e(o)}))}this.profil_.show()}},{key:"deactivate",value:function(){this.draw_&&(this.facadeMap_.getMapImpl().removeInteraction(this.draw_),this.clearLayer(),document.querySelector("#m-topographicprofile-btn").classList.remove("activated"))}},{key:"clearLayer",value:function(){this.source_.clear(),this.profil_&&(this.profil_.hide(),this.sourceProfile_.clear(),this.facadeMap_.getMapImpl().removeControl(this.profil_),this.profil_=null)}},{key:"removeLayer",value:function(){this.deactivate(),this.clearLayer(),this.facadeMap_.getMapImpl().removeLayer(this.vector_)}},{key:"destroy",value:function(){this.removeLayer(),this.facadeMap_.getMapImpl().removeControl(this)}},{key:"toggle",value:function(){this.profil_&&this.profil_.toggle()}}],o&&u(e.prototype,o),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,o,n}(),_=o(843),b=o.n(_);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function w(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,P(n.key),n)}}function P(t){var e=function(t,e){if("object"!=E(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==E(e)?e:e+""}function S(t,e,o){return e=j(e),function(t,e){if(e&&("object"==E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,M()?Reflect.construct(e,o||[],j(t).constructor):e.apply(t,o))}function M(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(M=function(){return!!t})()}function x(){return x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=j(t)););return t}(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:o):i.value}},x.apply(null,arguments)}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}function O(t,e){return O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},O(t,e)}var T=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(IDEE.utils.isUndefined(g)||IDEE.utils.isObject(g)&&IDEE.utils.isNullOrEmpty(Object.keys(g)))&&IDEE.exception("La implementaci칩n usada no puede crear controles TopographicprofileControl"),S(this,t,[new g(e),"Topographicprofile"])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O(t,e)}(t,IDEE.Control),e=t,o=[{key:"createView",value:function(t){var e=this;return console.warn(a("exception.obsolete")),IDEE.template.compileSync||(IDEE.template.compileSync=function(t,e){var o,n={};IDEE.utils.isUndefined(e)||(n=IDEE.utils.extends(n,e.vars),o=e.parseToHtml);var i=Handlebars.compile(t)(n);return!1!==o?IDEE.utils.stringToHtml(i):i}),this.facadeMap_=t,new Promise((function(t,o){var n=IDEE.template.compileSync(b());e.template_=n,n.querySelector("#m-topographicprofile-btn").title=a("title"),t(n)}))}},{key:"getActivationButton",value:function(t){return t.querySelector("#m-topographicprofile-btn")}},{key:"deactivate",value:function(){var e,o,n,i,r;(e=t,o="deactivate",n=this,r=x(j(1&(i=3)?e.prototype:e),o,n),2&i&&"function"==typeof r?function(t){return r.apply(n,t)}:r)([])}},{key:"equals",value:function(e){return e instanceof t}}],o&&w(e.prototype,o),n&&w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,o,n}();const k=JSON.parse('{"Pu":{"name":"Perfil Topogr치fico","description":"Genera un perfil longitudinal","text":"A partir de un eje dibujado, el plugin muestra un perfil longitudinal del terreno","version":"2.0.2","date":"Enero, 2020","author":"","org":"CNIG","tags":"api-idee,plugin","icon":"./facade/assets/icons/icons.svg","centralized":true}}');function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function C(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,L(n.key),n)}}function L(t){var e=function(t,e){if("object"!=D(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!=D(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==D(e)?e:e+""}function I(t,e,o){return e=F(e),function(t,e){if(e&&("object"==D(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,z()?Reflect.construct(e,o||[],F(t).constructor):e.apply(t,o))}function z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(z=function(){return!!t})()}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}function A(t,e){return A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},A(t,e)}var G=function(){function o(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(t=I(this,o)).map_=null,t.controls_=[],t.position_=e.position?e.position:"TR",t.metadata_=k.Pu,t.facadeMap_=null,t.panel_=null,t.control_=null,t.options_=e,t.options_.distance=e.distance||30,t.options_.visible=!Object.prototype.hasOwnProperty.call(e,"visible")||e.visible,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A(t,e)}(o,IDEE.Plugin),n=o,r=[{key:"getJSONTranslations",value:function(o){return"en"===o||"es"===o?"en"===o?t:e:IDEE.language.getTranslation(o).topographicprofile}}],(i=[{key:"addTo",value:function(t){this.controls_.push(new T(this.options_)),this.map_=t,this.panel_=new IDEE.ui.Panel("panelTopographicprofile",{className:"m-topographicprofile",collapsedButtonClass:"icon-chart",position:IDEE.ui.position[this.position_],tooltip:a("tooltip")}),this.panel_.addControls(this.controls_),t.addPanels(this.panel_),this.options_.visible||setTimeout((function(){document.querySelector("#m-topographicprofile-btn").click(),document.getElementsByClassName("m-topographicprofile")[0].style.setProperty("display","none","important")}),50)}},{key:"setDataFromLocal",value:function(t){this.controls_[0].impl_.setDataFromLocal(t)}},{key:"getMetadata",value:function(){return this.metadata_}},{key:"getAPIRest",value:function(){return"".concat(this.name,"=").concat(this.position_)}},{key:"destroy",value:function(){this.map_.removeControls(this.controls_);var t=[null,null,null];this.map_=t[0],this.controls_=t[1],this.panel_=t[2]}},{key:"name",get:function(){return"topographicprofile"}}])&&C(n.prototype,i),r&&C(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,r}();window.IDEE.plugin||(window.IDEE.plugin={}),window.IDEE.control||(window.IDEE.control={}),window.IDEE.impl||(window.IDEE.impl={}),window.IDEE.impl.control||(window.IDEE.impl.control={}),window.IDEE.plugin.Topographicprofile=G,window.IDEE.control.Topographicprofilecontrol=T,window.IDEE.impl.control.TopographicprofileControl=g})()})();
//# sourceMappingURL=topographicprofile.ol.min.js.map