(()=>{var e={750:()=>{},167:e=>{e.exports='<div id="div-contenedor" class="m-control m-container m-selectiondraw">\r\n    <button id="point" class="g-plugin-selectordraw-pin-seleccionado" title="Buscar punto"></button>\r\n    <button id="polygon" class="g-plugin-selectordraw-poligono" title="Buscar polígono"></button>\r\n    <button id="clear" class="g-plugin-selectordraw-papelera" title="Eliminar búsqueda"></button>\r\n</div>'}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(750),t=n.n(e),o=n(167),r=n.n(o);const i=JSON.parse('{"exception":{"obsolete":"Developer message: IDEE.plugin.SelectionDraw has been deprecated, use the IDEE.plugin.VectorsManagement instead"},"tooltip":"Search by geometry","exception_selectiondrawcontrol":"The implementation used cannot create SelectionDrawImplControl controls"}'),c=JSON.parse('{"exception":{"obsolete":"Mensaje para el desarrollador: IDEE.plugin.SelectionDraw ha quedado obsoleto, utilice en su lugar IDEE.plugin.VectorsManagement"},"tooltip":"Búsqueda por geometría","exception_selectiondrawcontrol":"La implementación usada no puede crear controles SelectionDrawImplControl"}');var a={en:i,es:c},l=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t="es","function"==typeof IDEE.language.getLang&&(t=IDEE.language.getLang()),t),o=function(e){return"es"===e||"en"===e?a[e]:IDEE.language.getTranslation(e).selectiondraw}(n),r="";return IDEE.utils.isNullOrEmpty(o)?console.warn("The translation '".concat(n,"' has not been defined.")):r=e.split(".").reduce((function(e,t){return e[t]}),o),r};function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,p(o.key),o)}}function p(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=u(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}function f(e,t,n){return t=d(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,y()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var v=function(){function e(n){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(IDEE.utils.isUndefined(t())||IDEE.utils.isObject(t())&&IDEE.utils.isNullOrEmpty(Object.keys(t())))&&IDEE.exception(l("exception_selectiondrawcontrol"));var r=new(t())(n.projection);return o=f(this,e,[r,"SelectionDraw"]),r.facadeControl=o,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(e,IDEE.Control),n=e,o=[{key:"createView",value:function(e){var t=this;return console.warn(l("exception.obsolete")),new Promise((function(n){var o=IDEE.template.compileSync(r()),i=o.querySelector("button#polygon"),c=o.querySelector("button#point"),a=o.querySelector("button#clear"),l=e.getLayers().find((function(e){return"__draw__"===e.name}));a.addEventListener("click",(function(){l.clear()})),c.addEventListener("click",(function(){var e="Point";t.activeGeometry===e?t.deactivate([c,i]):(t.deactivate([c,i]),t.activate(e,c))})),i.addEventListener("click",(function(){var e="Polygon";t.activeGeometry===e?t.deactivate([c,i]):(t.deactivate([c,i]),t.activate(e,i))})),document.onkeydown=function(e){var t=window.event?event:e;if(90===t.keyCode&&t.ctrlKey){var n=l.getImpl().getLayer().getSource().getFeatures().length;l.getImpl().getLayer().getSource().removeFeature(l.getImpl().getLayer().getSource().getFeatures()[n-1])}},n(o)}))}},{key:"activate",value:function(e,t){this.activeGeometry=e,this.getImpl().activate(e,t)}},{key:"deactivate",value:function(e){this.activeGeometry="",this.getImpl().deactivate(e)}},{key:"equals",value:function(t){return t instanceof e}}],o&&s(n.prototype,o),i&&s(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,i}();function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,h(o.key),o)}}function h(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=w(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:t+""}function O(e,t,n){return t=D(t),function(e,t){if(t&&("object"==w(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,j()?Reflect.construct(t,n||[],D(e).constructor):t.apply(e,n))}function j(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(j=function(){return!!e})()}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}var P=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=O(this,e);var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({collapsed:!1,collapsible:!0,position:"TL",projection:"EPSG:3857"},n);return t.map_=null,t.controls_=[],t.collapsed=o.collapsed||!1,t.collapsible=o.collapsible||!0,t.position=o.position||"TL",t.name=e.NAME,t.options=o,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(e,IDEE.Plugin),t=e,o=[{key:"getJSONTranslations",value:function(e){return"en"===e||"es"===e?"en"===e?i:c:IDEE.language.getTranslation(e).selectiondraw}}],(n=[{key:"addTo",value:function(e){var t=this;this.control_=new v(this.options),this.map_=e,this.panel_=new IDEE.ui.Panel("panel_selection_raw",{collapsible:this.collapsible,collapsed:this.collapsed,position:IDEE.ui.position[this.position],collapsedButtonClass:"g-plugin-selectordraw-editar",className:"m-selectiondraw",tooltip:l("tooltip")}),this.panel_.addControls(this.control_),e.addPanels(this.panel_),this.control_.on("finished:draw",(function(e){t.fire("finished:draw",[e])}))}},{key:"destroy",value:function(){this.map_.removeControls([this.control_]),this.map_=null,this.control_=null,this.panel_=null}},{key:"getAPIRest",value:function(){return"".concat(this.name,"=").concat(this.position,"*").concat(this.collapsed,"*").concat(this.collapsible)}}])&&E(t.prototype,n),o&&E(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,o}();P.NAME="selectiondraw",window.IDEE.plugin||(window.IDEE.plugin={}),window.IDEE.control||(window.IDEE.control={}),window.IDEE.impl||(window.IDEE.impl={}),window.IDEE.impl.control||(window.IDEE.impl.control={}),window.IDEE.plugin.SelectionDraw=P,window.IDEE.control.SelectionDrawControl=v,window.IDEE.impl.control.SelectionDrawControl=t()})()})();
//# sourceMappingURL=selectiondraw-1.0.0.cesium.min.js.map